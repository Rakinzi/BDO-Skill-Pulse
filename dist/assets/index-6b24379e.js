var wg=Object.defineProperty;var kg=(t,e,n)=>e in t?wg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var A=(t,e,n)=>(kg(t,typeof e!="symbol"?e+"":e,n),n);function _g(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const r=Object.getOwnPropertyDescriptor(s,i);r&&Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Sg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var of={exports:{}},Ro={},af={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gi=Symbol.for("react.element"),jg=Symbol.for("react.portal"),Ng=Symbol.for("react.fragment"),Cg=Symbol.for("react.strict_mode"),Pg=Symbol.for("react.profiler"),Mg=Symbol.for("react.provider"),Eg=Symbol.for("react.context"),Tg=Symbol.for("react.forward_ref"),Dg=Symbol.for("react.suspense"),Lg=Symbol.for("react.memo"),Ag=Symbol.for("react.lazy"),vu=Symbol.iterator;function Og(t){return t===null||typeof t!="object"?null:(t=vu&&t[vu]||t["@@iterator"],typeof t=="function"?t:null)}var lf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cf=Object.assign,uf={};function zs(t,e,n){this.props=t,this.context=e,this.refs=uf,this.updater=n||lf}zs.prototype.isReactComponent={};zs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function df(){}df.prototype=zs.prototype;function nc(t,e,n){this.props=t,this.context=e,this.refs=uf,this.updater=n||lf}var sc=nc.prototype=new df;sc.constructor=nc;cf(sc,zs.prototype);sc.isPureReactComponent=!0;var bu=Array.isArray,hf=Object.prototype.hasOwnProperty,ic={current:null},ff={key:!0,ref:!0,__self:!0,__source:!0};function pf(t,e,n){var s,i={},r=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)hf.call(e,s)&&!ff.hasOwnProperty(s)&&(i[s]=e[s]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)i[s]===void 0&&(i[s]=a[s]);return{$$typeof:Gi,type:t,key:r,ref:o,props:i,_owner:ic.current}}function Rg(t,e){return{$$typeof:Gi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gi}function zg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wu=/\/+/g;function ia(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zg(""+t.key):e.toString(36)}function Or(t,e,n,s,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gi:case jg:o=!0}}if(o)return o=t,i=i(o),t=s===""?"."+ia(o,0):s,bu(i)?(n="",t!=null&&(n=t.replace(wu,"$&/")+"/"),Or(i,e,n,"",function(u){return u})):i!=null&&(rc(i)&&(i=Rg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wu,"$&/")+"/")+t)),e.push(i)),1;if(o=0,s=s===""?".":s+":",bu(t))for(var a=0;a<t.length;a++){r=t[a];var l=s+ia(r,a);o+=Or(r,e,n,l,i)}else if(l=Og(t),typeof l=="function")for(t=l.call(t),a=0;!(r=t.next()).done;)r=r.value,l=s+ia(r,a++),o+=Or(r,e,n,l,i);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ir(t,e,n){if(t==null)return t;var s=[],i=0;return Or(t,s,"","",function(r){return e.call(n,r,i++)}),s}function Ig(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Re={current:null},Rr={transition:null},Fg={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:Rr,ReactCurrentOwner:ic};function mf(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:ir,forEach:function(t,e,n){ir(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ir(t,function(){e++}),e},toArray:function(t){return ir(t,function(e){return e})||[]},only:function(t){if(!rc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};V.Component=zs;V.Fragment=Ng;V.Profiler=Pg;V.PureComponent=nc;V.StrictMode=Cg;V.Suspense=Dg;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fg;V.act=mf;V.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=cf({},t.props),i=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=ic.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)hf.call(e,l)&&!ff.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:Gi,type:t.type,key:i,ref:r,props:s,_owner:o}};V.createContext=function(t){return t={$$typeof:Eg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Mg,_context:t},t.Consumer=t};V.createElement=pf;V.createFactory=function(t){var e=pf.bind(null,t);return e.type=t,e};V.createRef=function(){return{current:null}};V.forwardRef=function(t){return{$$typeof:Tg,render:t}};V.isValidElement=rc;V.lazy=function(t){return{$$typeof:Ag,_payload:{_status:-1,_result:t},_init:Ig}};V.memo=function(t,e){return{$$typeof:Lg,type:t,compare:e===void 0?null:e}};V.startTransition=function(t){var e=Rr.transition;Rr.transition={};try{t()}finally{Rr.transition=e}};V.unstable_act=mf;V.useCallback=function(t,e){return Re.current.useCallback(t,e)};V.useContext=function(t){return Re.current.useContext(t)};V.useDebugValue=function(){};V.useDeferredValue=function(t){return Re.current.useDeferredValue(t)};V.useEffect=function(t,e){return Re.current.useEffect(t,e)};V.useId=function(){return Re.current.useId()};V.useImperativeHandle=function(t,e,n){return Re.current.useImperativeHandle(t,e,n)};V.useInsertionEffect=function(t,e){return Re.current.useInsertionEffect(t,e)};V.useLayoutEffect=function(t,e){return Re.current.useLayoutEffect(t,e)};V.useMemo=function(t,e){return Re.current.useMemo(t,e)};V.useReducer=function(t,e,n){return Re.current.useReducer(t,e,n)};V.useRef=function(t){return Re.current.useRef(t)};V.useState=function(t){return Re.current.useState(t)};V.useSyncExternalStore=function(t,e,n){return Re.current.useSyncExternalStore(t,e,n)};V.useTransition=function(){return Re.current.useTransition()};V.version="18.3.1";af.exports=V;var _=af.exports;const oc=Sg(_),Bg=_g({__proto__:null,default:oc},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg=_,Hg=Symbol.for("react.element"),$g=Symbol.for("react.fragment"),Vg=Object.prototype.hasOwnProperty,Ug=Wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qg={key:!0,ref:!0,__self:!0,__source:!0};function gf(t,e,n){var s,i={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)Vg.call(e,s)&&!Qg.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:Hg,type:t,key:r,ref:o,props:i,_owner:Ug.current}}Ro.Fragment=$g;Ro.jsx=gf;Ro.jsxs=gf;of.exports=Ro;var c=of.exports,Ua={},xf={exports:{}},Ze={},yf={exports:{}},vf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,C){var L=D.length;D.push(C);e:for(;0<L;){var z=L-1>>>1,K=D[z];if(0<i(K,C))D[z]=C,D[L]=K,L=z;else break e}}function n(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var C=D[0],L=D.pop();if(L!==C){D[0]=L;e:for(var z=0,K=D.length,xe=K>>>1;z<xe;){var Se=2*(z+1)-1,ct=D[Se],U=Se+1,es=D[U];if(0>i(ct,L))U<K&&0>i(es,ct)?(D[z]=es,D[U]=L,z=U):(D[z]=ct,D[Se]=L,z=Se);else if(U<K&&0>i(es,L))D[z]=es,D[U]=L,z=U;else break e}}return C}function i(D,C){var L=D.sortIndex-C.sortIndex;return L!==0?L:D.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,v=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var C=n(u);C!==null;){if(C.callback===null)s(u);else if(C.startTime<=D)s(u),C.sortIndex=C.expirationTime,e(l,C);else break;C=n(u)}}function w(D){if(m=!1,y(D),!v)if(n(l)!==null)v=!0,H(k);else{var C=n(u);C!==null&&$(w,C.startTime-D)}}function k(D,C){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var L=f;try{for(y(C),h=n(l);h!==null&&(!(h.expirationTime>C)||D&&!R());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var K=z(h.expirationTime<=C);C=t.unstable_now(),typeof K=="function"?h.callback=K:h===n(l)&&s(l),y(C)}else s(l);h=n(l)}if(h!==null)var xe=!0;else{var Se=n(u);Se!==null&&$(w,Se.startTime-C),xe=!1}return xe}finally{h=null,f=L,p=!1}}var j=!1,N=null,S=-1,E=5,P=-1;function R(){return!(t.unstable_now()-P<E)}function M(){if(N!==null){var D=t.unstable_now();P=D;var C=!0;try{C=N(!0,D)}finally{C?I():(j=!1,N=null)}}else j=!1}var I;if(typeof x=="function")I=function(){x(M)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,F=G.port2;G.port1.onmessage=M,I=function(){F.postMessage(null)}}else I=function(){b(M,0)};function H(D){N=D,j||(j=!0,I())}function $(D,C){S=b(function(){D(t.unstable_now())},C)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,H(k))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var C=3;break;default:C=f}var L=f;f=C;try{return D()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,C){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var L=f;f=D;try{return C()}finally{f=L}},t.unstable_scheduleCallback=function(D,C,L){var z=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?z+L:z):L=z,D){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=L+K,D={id:d++,callback:C,priorityLevel:D,startTime:L,expirationTime:K,sortIndex:-1},L>z?(D.sortIndex=L,e(u,D),n(l)===null&&D===n(u)&&(m?(g(S),S=-1):m=!0,$(w,L-z))):(D.sortIndex=K,e(l,D),v||p||(v=!0,H(k))),D},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(D){var C=f;return function(){var L=f;f=C;try{return D.apply(this,arguments)}finally{f=L}}}})(vf);yf.exports=vf;var Yg=yf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg=_,Je=Yg;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bf=new Set,Si={};function Gn(t,e){Ns(t,e),Ns(t+"Capture",e)}function Ns(t,e){for(Si[t]=e,t=0;t<e.length;t++)bf.add(e[t])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qa=Object.prototype.hasOwnProperty,Kg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ku={},_u={};function qg(t){return Qa.call(_u,t)?!0:Qa.call(ku,t)?!1:Kg.test(t)?_u[t]=!0:(ku[t]=!0,!1)}function Gg(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Jg(t,e,n,s){if(e===null||typeof e>"u"||Gg(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ze(t,e,n,s,i,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ce[t]=new ze(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ce[e]=new ze(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ce[t]=new ze(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ce[t]=new ze(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ce[t]=new ze(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ce[t]=new ze(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ce[t]=new ze(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ce[t]=new ze(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ce[t]=new ze(t,5,!1,t.toLowerCase(),null,!1,!1)});var ac=/[\-:]([a-z])/g;function lc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ac,lc);Ce[e]=new ze(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ac,lc);Ce[e]=new ze(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ac,lc);Ce[e]=new ze(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ce[t]=new ze(t,1,!1,t.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ce[t]=new ze(t,1,!1,t.toLowerCase(),null,!0,!0)});function cc(t,e,n,s){var i=Ce.hasOwnProperty(e)?Ce[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Jg(e,n,i,s)&&(n=null),s||i===null?qg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,s=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Vt=Xg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rr=Symbol.for("react.element"),rs=Symbol.for("react.portal"),os=Symbol.for("react.fragment"),uc=Symbol.for("react.strict_mode"),Ya=Symbol.for("react.profiler"),wf=Symbol.for("react.provider"),kf=Symbol.for("react.context"),dc=Symbol.for("react.forward_ref"),Xa=Symbol.for("react.suspense"),Ka=Symbol.for("react.suspense_list"),hc=Symbol.for("react.memo"),Kt=Symbol.for("react.lazy"),_f=Symbol.for("react.offscreen"),Su=Symbol.iterator;function Hs(t){return t===null||typeof t!="object"?null:(t=Su&&t[Su]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Object.assign,ra;function ti(t){if(ra===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ra=e&&e[1]||""}return`
`+ra+t}var oa=!1;function aa(t,e){if(!t||oa)return"";oa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),r=s.stack.split(`
`),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==r[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{oa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ti(t):""}function Zg(t){switch(t.tag){case 5:return ti(t.type);case 16:return ti("Lazy");case 13:return ti("Suspense");case 19:return ti("SuspenseList");case 0:case 2:case 15:return t=aa(t.type,!1),t;case 11:return t=aa(t.type.render,!1),t;case 1:return t=aa(t.type,!0),t;default:return""}}function qa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case os:return"Fragment";case rs:return"Portal";case Ya:return"Profiler";case uc:return"StrictMode";case Xa:return"Suspense";case Ka:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kf:return(t.displayName||"Context")+".Consumer";case wf:return(t._context.displayName||"Context")+".Provider";case dc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hc:return e=t.displayName||null,e!==null?e:qa(t.type)||"Memo";case Kt:e=t._payload,t=t._init;try{return qa(t(e))}catch{}}return null}function e0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qa(e);case 8:return e===uc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function t0(t){var e=Sf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function or(t){t._valueTracker||(t._valueTracker=t0(t))}function jf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=Sf(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Jr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ga(t,e){var n=e.checked;return ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ju(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=yn(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Nf(t,e){e=e.checked,e!=null&&cc(t,"checked",e,!1)}function Ja(t,e){Nf(t,e);var n=yn(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Za(t,e.type,n):e.hasOwnProperty("defaultValue")&&Za(t,e.type,yn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Za(t,e,n){(e!=="number"||Jr(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ni=Array.isArray;function xs(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+yn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function el(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cu(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(ni(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yn(n)}}function Cf(t,e){var n=yn(e.value),s=yn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Pu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Pf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Pf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ar,Mf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ar=ar||document.createElement("div"),ar.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ar.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ji(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n0=["Webkit","ms","Moz","O"];Object.keys(di).forEach(function(t){n0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),di[e]=di[t]})});function Ef(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||di.hasOwnProperty(t)&&di[t]?(""+e).trim():e+"px"}function Tf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=Ef(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}var s0=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nl(t,e){if(e){if(s0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function sl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var il=null;function fc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rl=null,ys=null,vs=null;function Mu(t){if(t=er(t)){if(typeof rl!="function")throw Error(T(280));var e=t.stateNode;e&&(e=Wo(e),rl(t.stateNode,t.type,e))}}function Df(t){ys?vs?vs.push(t):vs=[t]:ys=t}function Lf(){if(ys){var t=ys,e=vs;if(vs=ys=null,Mu(t),e)for(t=0;t<e.length;t++)Mu(e[t])}}function Af(t,e){return t(e)}function Of(){}var la=!1;function Rf(t,e,n){if(la)return t(e,n);la=!0;try{return Af(t,e,n)}finally{la=!1,(ys!==null||vs!==null)&&(Of(),Lf())}}function Ni(t,e){var n=t.stateNode;if(n===null)return null;var s=Wo(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var ol=!1;if(Bt)try{var $s={};Object.defineProperty($s,"passive",{get:function(){ol=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{ol=!1}function i0(t,e,n,s,i,r,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var hi=!1,Zr=null,eo=!1,al=null,r0={onError:function(t){hi=!0,Zr=t}};function o0(t,e,n,s,i,r,o,a,l){hi=!1,Zr=null,i0.apply(r0,arguments)}function a0(t,e,n,s,i,r,o,a,l){if(o0.apply(this,arguments),hi){if(hi){var u=Zr;hi=!1,Zr=null}else throw Error(T(198));eo||(eo=!0,al=u)}}function Jn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Eu(t){if(Jn(t)!==t)throw Error(T(188))}function l0(t){var e=t.alternate;if(!e){if(e=Jn(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return Eu(i),t;if(r===s)return Eu(i),e;r=r.sibling}throw Error(T(188))}if(n.return!==s.return)n=i,s=r;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==s)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function If(t){return t=l0(t),t!==null?Ff(t):null}function Ff(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ff(t);if(e!==null)return e;t=t.sibling}return null}var Bf=Je.unstable_scheduleCallback,Tu=Je.unstable_cancelCallback,c0=Je.unstable_shouldYield,u0=Je.unstable_requestPaint,fe=Je.unstable_now,d0=Je.unstable_getCurrentPriorityLevel,pc=Je.unstable_ImmediatePriority,Wf=Je.unstable_UserBlockingPriority,to=Je.unstable_NormalPriority,h0=Je.unstable_LowPriority,Hf=Je.unstable_IdlePriority,zo=null,Nt=null;function f0(t){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(zo,t,void 0,(t.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:g0,p0=Math.log,m0=Math.LN2;function g0(t){return t>>>=0,t===0?32:31-(p0(t)/m0|0)|0}var lr=64,cr=4194304;function si(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function no(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,i=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?s=si(a):(r&=o,r!==0&&(s=si(r)))}else o=n&~i,o!==0?s=si(o):r!==0&&(s=si(r));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-pt(e),i=1<<n,s|=t[n],e&=~i;return s}function x0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y0(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-pt(r),a=1<<o,l=i[o];l===-1?(!(a&n)||a&s)&&(i[o]=x0(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}}function ll(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $f(){var t=lr;return lr<<=1,!(lr&4194240)&&(lr=64),t}function ca(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ji(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pt(e),t[e]=n}function v0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-pt(n),r=1<<i;e[i]=0,s[i]=-1,t[i]=-1,n&=~r}}function mc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-pt(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}var Z=0;function Vf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Uf,gc,Qf,Yf,Xf,cl=!1,ur=[],ln=null,cn=null,un=null,Ci=new Map,Pi=new Map,Gt=[],b0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Du(t,e){switch(t){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":Ci.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pi.delete(e.pointerId)}}function Vs(t,e,n,s,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=er(e),e!==null&&gc(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function w0(t,e,n,s,i){switch(e){case"focusin":return ln=Vs(ln,t,e,n,s,i),!0;case"dragenter":return cn=Vs(cn,t,e,n,s,i),!0;case"mouseover":return un=Vs(un,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return Ci.set(r,Vs(Ci.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Pi.set(r,Vs(Pi.get(r)||null,t,e,n,s,i)),!0}return!1}function Kf(t){var e=An(t.target);if(e!==null){var n=Jn(e);if(n!==null){if(e=n.tag,e===13){if(e=zf(n),e!==null){t.blockedOn=e,Xf(t.priority,function(){Qf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ul(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);il=s,n.target.dispatchEvent(s),il=null}else return e=er(n),e!==null&&gc(e),t.blockedOn=n,!1;e.shift()}return!0}function Lu(t,e,n){zr(t)&&n.delete(e)}function k0(){cl=!1,ln!==null&&zr(ln)&&(ln=null),cn!==null&&zr(cn)&&(cn=null),un!==null&&zr(un)&&(un=null),Ci.forEach(Lu),Pi.forEach(Lu)}function Us(t,e){t.blockedOn===e&&(t.blockedOn=null,cl||(cl=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,k0)))}function Mi(t){function e(i){return Us(i,t)}if(0<ur.length){Us(ur[0],t);for(var n=1;n<ur.length;n++){var s=ur[n];s.blockedOn===t&&(s.blockedOn=null)}}for(ln!==null&&Us(ln,t),cn!==null&&Us(cn,t),un!==null&&Us(un,t),Ci.forEach(e),Pi.forEach(e),n=0;n<Gt.length;n++)s=Gt[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<Gt.length&&(n=Gt[0],n.blockedOn===null);)Kf(n),n.blockedOn===null&&Gt.shift()}var bs=Vt.ReactCurrentBatchConfig,so=!0;function _0(t,e,n,s){var i=Z,r=bs.transition;bs.transition=null;try{Z=1,xc(t,e,n,s)}finally{Z=i,bs.transition=r}}function S0(t,e,n,s){var i=Z,r=bs.transition;bs.transition=null;try{Z=4,xc(t,e,n,s)}finally{Z=i,bs.transition=r}}function xc(t,e,n,s){if(so){var i=ul(t,e,n,s);if(i===null)va(t,e,s,io,n),Du(t,s);else if(w0(i,t,e,n,s))s.stopPropagation();else if(Du(t,s),e&4&&-1<b0.indexOf(t)){for(;i!==null;){var r=er(i);if(r!==null&&Uf(r),r=ul(t,e,n,s),r===null&&va(t,e,s,io,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else va(t,e,s,null,n)}}var io=null;function ul(t,e,n,s){if(io=null,t=fc(s),t=An(t),t!==null)if(e=Jn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return io=t,null}function qf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d0()){case pc:return 1;case Wf:return 4;case to:case h0:return 16;case Hf:return 536870912;default:return 16}default:return 16}}var Zt=null,yc=null,Ir=null;function Gf(){if(Ir)return Ir;var t,e=yc,n=e.length,s,i="value"in Zt?Zt.value:Zt.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===i[r-s];s++);return Ir=i.slice(t,1<s?1-s:void 0)}function Fr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dr(){return!0}function Au(){return!1}function et(t){function e(n,s,i,r,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?dr:Au,this.isPropagationStopped=Au,this}return ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),e}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vc=et(Is),Zi=ue({},Is,{view:0,detail:0}),j0=et(Zi),ua,da,Qs,Io=ue({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qs&&(Qs&&t.type==="mousemove"?(ua=t.screenX-Qs.screenX,da=t.screenY-Qs.screenY):da=ua=0,Qs=t),ua)},movementY:function(t){return"movementY"in t?t.movementY:da}}),Ou=et(Io),N0=ue({},Io,{dataTransfer:0}),C0=et(N0),P0=ue({},Zi,{relatedTarget:0}),ha=et(P0),M0=ue({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),E0=et(M0),T0=ue({},Is,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),D0=et(T0),L0=ue({},Is,{data:0}),Ru=et(L0),A0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=R0[t])?!!e[t]:!1}function bc(){return z0}var I0=ue({},Zi,{key:function(t){if(t.key){var e=A0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?O0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bc,charCode:function(t){return t.type==="keypress"?Fr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),F0=et(I0),B0=ue({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zu=et(B0),W0=ue({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bc}),H0=et(W0),$0=ue({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),V0=et($0),U0=ue({},Io,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q0=et(U0),Y0=[9,13,27,32],wc=Bt&&"CompositionEvent"in window,fi=null;Bt&&"documentMode"in document&&(fi=document.documentMode);var X0=Bt&&"TextEvent"in window&&!fi,Jf=Bt&&(!wc||fi&&8<fi&&11>=fi),Iu=String.fromCharCode(32),Fu=!1;function Zf(t,e){switch(t){case"keyup":return Y0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ep(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var as=!1;function K0(t,e){switch(t){case"compositionend":return ep(e);case"keypress":return e.which!==32?null:(Fu=!0,Iu);case"textInput":return t=e.data,t===Iu&&Fu?null:t;default:return null}}function q0(t,e){if(as)return t==="compositionend"||!wc&&Zf(t,e)?(t=Gf(),Ir=yc=Zt=null,as=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jf&&e.locale!=="ko"?null:e.data;default:return null}}var G0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!G0[t.type]:e==="textarea"}function tp(t,e,n,s){Df(s),e=ro(e,"onChange"),0<e.length&&(n=new vc("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var pi=null,Ei=null;function J0(t){hp(t,0)}function Fo(t){var e=us(t);if(jf(e))return t}function Z0(t,e){if(t==="change")return e}var np=!1;if(Bt){var fa;if(Bt){var pa="oninput"in document;if(!pa){var Wu=document.createElement("div");Wu.setAttribute("oninput","return;"),pa=typeof Wu.oninput=="function"}fa=pa}else fa=!1;np=fa&&(!document.documentMode||9<document.documentMode)}function Hu(){pi&&(pi.detachEvent("onpropertychange",sp),Ei=pi=null)}function sp(t){if(t.propertyName==="value"&&Fo(Ei)){var e=[];tp(e,Ei,t,fc(t)),Rf(J0,e)}}function ex(t,e,n){t==="focusin"?(Hu(),pi=e,Ei=n,pi.attachEvent("onpropertychange",sp)):t==="focusout"&&Hu()}function tx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fo(Ei)}function nx(t,e){if(t==="click")return Fo(e)}function sx(t,e){if(t==="input"||t==="change")return Fo(e)}function ix(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gt=typeof Object.is=="function"?Object.is:ix;function Ti(t,e){if(gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!Qa.call(e,i)||!gt(t[i],e[i]))return!1}return!0}function $u(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vu(t,e){var n=$u(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$u(n)}}function ip(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ip(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rp(){for(var t=window,e=Jr();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jr(t.document)}return e}function kc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rx(t){var e=rp(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ip(n.ownerDocument.documentElement,n)){if(s!==null&&kc(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!t.extend&&r>s&&(i=s,s=r,r=i),i=Vu(n,r);var o=Vu(n,s);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),r>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ox=Bt&&"documentMode"in document&&11>=document.documentMode,ls=null,dl=null,mi=null,hl=!1;function Uu(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hl||ls==null||ls!==Jr(s)||(s=ls,"selectionStart"in s&&kc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),mi&&Ti(mi,s)||(mi=s,s=ro(dl,"onSelect"),0<s.length&&(e=new vc("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=ls)))}function hr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var cs={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionend:hr("Transition","TransitionEnd")},ma={},op={};Bt&&(op=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function Bo(t){if(ma[t])return ma[t];if(!cs[t])return t;var e=cs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in op)return ma[t]=e[n];return t}var ap=Bo("animationend"),lp=Bo("animationiteration"),cp=Bo("animationstart"),up=Bo("transitionend"),dp=new Map,Qu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(t,e){dp.set(t,e),Gn(e,[t])}for(var ga=0;ga<Qu.length;ga++){var xa=Qu[ga],ax=xa.toLowerCase(),lx=xa[0].toUpperCase()+xa.slice(1);wn(ax,"on"+lx)}wn(ap,"onAnimationEnd");wn(lp,"onAnimationIteration");wn(cp,"onAnimationStart");wn("dblclick","onDoubleClick");wn("focusin","onFocus");wn("focusout","onBlur");wn(up,"onTransitionEnd");Ns("onMouseEnter",["mouseout","mouseover"]);Ns("onMouseLeave",["mouseout","mouseover"]);Ns("onPointerEnter",["pointerout","pointerover"]);Ns("onPointerLeave",["pointerout","pointerover"]);Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ii));function Yu(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,a0(s,e,void 0,t),t.currentTarget=null}function hp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==r&&i.isPropagationStopped())break e;Yu(i,a,u),r=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==r&&i.isPropagationStopped())break e;Yu(i,a,u),r=l}}}if(eo)throw t=al,eo=!1,al=null,t}function se(t,e){var n=e[xl];n===void 0&&(n=e[xl]=new Set);var s=t+"__bubble";n.has(s)||(fp(e,t,2,!1),n.add(s))}function ya(t,e,n){var s=0;e&&(s|=4),fp(n,t,s,e)}var fr="_reactListening"+Math.random().toString(36).slice(2);function Di(t){if(!t[fr]){t[fr]=!0,bf.forEach(function(n){n!=="selectionchange"&&(cx.has(n)||ya(n,!1,t),ya(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fr]||(e[fr]=!0,ya("selectionchange",!1,e))}}function fp(t,e,n,s){switch(qf(e)){case 1:var i=_0;break;case 4:i=S0;break;default:i=xc}n=i.bind(null,e,n,t),i=void 0,!ol||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function va(t,e,n,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=An(a),o===null)return;if(l=o.tag,l===5||l===6){s=r=o;continue e}a=a.parentNode}}s=s.return}Rf(function(){var u=r,d=fc(n),h=[];e:{var f=dp.get(t);if(f!==void 0){var p=vc,v=t;switch(t){case"keypress":if(Fr(n)===0)break e;case"keydown":case"keyup":p=F0;break;case"focusin":v="focus",p=ha;break;case"focusout":v="blur",p=ha;break;case"beforeblur":case"afterblur":p=ha;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=C0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=H0;break;case ap:case lp:case cp:p=E0;break;case up:p=V0;break;case"scroll":p=j0;break;case"wheel":p=Q0;break;case"copy":case"cut":case"paste":p=D0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=zu}var m=(e&4)!==0,b=!m&&t==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var x=u,y;x!==null;){y=x;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,g!==null&&(w=Ni(x,g),w!=null&&m.push(Li(x,w,y)))),b)break;x=x.return}0<m.length&&(f=new p(f,v,null,n,d),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==il&&(v=n.relatedTarget||n.fromElement)&&(An(v)||v[Wt]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?An(v):null,v!==null&&(b=Jn(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(m=Ou,w="onMouseLeave",g="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(m=zu,w="onPointerLeave",g="onPointerEnter",x="pointer"),b=p==null?f:us(p),y=v==null?f:us(v),f=new m(w,x+"leave",p,n,d),f.target=b,f.relatedTarget=y,w=null,An(d)===u&&(m=new m(g,x+"enter",v,n,d),m.target=y,m.relatedTarget=b,w=m),b=w,p&&v)t:{for(m=p,g=v,x=0,y=m;y;y=ts(y))x++;for(y=0,w=g;w;w=ts(w))y++;for(;0<x-y;)m=ts(m),x--;for(;0<y-x;)g=ts(g),y--;for(;x--;){if(m===g||g!==null&&m===g.alternate)break t;m=ts(m),g=ts(g)}m=null}else m=null;p!==null&&Xu(h,f,p,m,!1),v!==null&&b!==null&&Xu(h,b,v,m,!0)}}e:{if(f=u?us(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=Z0;else if(Bu(f))if(np)k=sx;else{k=tx;var j=ex}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=nx);if(k&&(k=k(t,u))){tp(h,k,n,d);break e}j&&j(t,f,u),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&Za(f,"number",f.value)}switch(j=u?us(u):window,t){case"focusin":(Bu(j)||j.contentEditable==="true")&&(ls=j,dl=u,mi=null);break;case"focusout":mi=dl=ls=null;break;case"mousedown":hl=!0;break;case"contextmenu":case"mouseup":case"dragend":hl=!1,Uu(h,n,d);break;case"selectionchange":if(ox)break;case"keydown":case"keyup":Uu(h,n,d)}var N;if(wc)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else as?Zf(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Jf&&n.locale!=="ko"&&(as||S!=="onCompositionStart"?S==="onCompositionEnd"&&as&&(N=Gf()):(Zt=d,yc="value"in Zt?Zt.value:Zt.textContent,as=!0)),j=ro(u,S),0<j.length&&(S=new Ru(S,t,null,n,d),h.push({event:S,listeners:j}),N?S.data=N:(N=ep(n),N!==null&&(S.data=N)))),(N=X0?K0(t,n):q0(t,n))&&(u=ro(u,"onBeforeInput"),0<u.length&&(d=new Ru("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=N))}hp(h,e)})}function Li(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ro(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=Ni(t,n),r!=null&&s.unshift(Li(t,r,i)),r=Ni(t,e),r!=null&&s.push(Li(t,r,i))),t=t.return}return s}function ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xu(t,e,n,s,i){for(var r=e._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&u!==null&&(a=u,i?(l=Ni(n,r),l!=null&&o.unshift(Li(n,l,a))):i||(l=Ni(n,r),l!=null&&o.push(Li(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ux=/\r\n?/g,dx=/\u0000|\uFFFD/g;function Ku(t){return(typeof t=="string"?t:""+t).replace(ux,`
`).replace(dx,"")}function pr(t,e,n){if(e=Ku(e),Ku(t)!==e&&n)throw Error(T(425))}function oo(){}var fl=null,pl=null;function ml(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gl=typeof setTimeout=="function"?setTimeout:void 0,hx=typeof clearTimeout=="function"?clearTimeout:void 0,qu=typeof Promise=="function"?Promise:void 0,fx=typeof queueMicrotask=="function"?queueMicrotask:typeof qu<"u"?function(t){return qu.resolve(null).then(t).catch(px)}:gl;function px(t){setTimeout(function(){throw t})}function ba(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){t.removeChild(i),Mi(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Mi(e)}function dn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Gu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fs=Math.random().toString(36).slice(2),St="__reactFiber$"+Fs,Ai="__reactProps$"+Fs,Wt="__reactContainer$"+Fs,xl="__reactEvents$"+Fs,mx="__reactListeners$"+Fs,gx="__reactHandles$"+Fs;function An(t){var e=t[St];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wt]||n[St]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Gu(t);t!==null;){if(n=t[St])return n;t=Gu(t)}return e}t=n,n=t.parentNode}return null}function er(t){return t=t[St]||t[Wt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function us(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function Wo(t){return t[Ai]||null}var yl=[],ds=-1;function kn(t){return{current:t}}function ie(t){0>ds||(t.current=yl[ds],yl[ds]=null,ds--)}function ne(t,e){ds++,yl[ds]=t.current,t.current=e}var vn={},De=kn(vn),Ue=kn(!1),$n=vn;function Cs(t,e){var n=t.type.contextTypes;if(!n)return vn;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=e[r];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qe(t){return t=t.childContextTypes,t!=null}function ao(){ie(Ue),ie(De)}function Ju(t,e,n){if(De.current!==vn)throw Error(T(168));ne(De,e),ne(Ue,n)}function pp(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(T(108,e0(t)||"Unknown",i));return ue({},n,s)}function lo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vn,$n=De.current,ne(De,t),ne(Ue,Ue.current),!0}function Zu(t,e,n){var s=t.stateNode;if(!s)throw Error(T(169));n?(t=pp(t,e,$n),s.__reactInternalMemoizedMergedChildContext=t,ie(Ue),ie(De),ne(De,t)):ie(Ue),ne(Ue,n)}var At=null,Ho=!1,wa=!1;function mp(t){At===null?At=[t]:At.push(t)}function xx(t){Ho=!0,mp(t)}function _n(){if(!wa&&At!==null){wa=!0;var t=0,e=Z;try{var n=At;for(Z=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}At=null,Ho=!1}catch(i){throw At!==null&&(At=At.slice(t+1)),Bf(pc,_n),i}finally{Z=e,wa=!1}}return null}var hs=[],fs=0,co=null,uo=0,nt=[],st=0,Vn=null,Rt=1,zt="";function En(t,e){hs[fs++]=uo,hs[fs++]=co,co=t,uo=e}function gp(t,e,n){nt[st++]=Rt,nt[st++]=zt,nt[st++]=Vn,Vn=t;var s=Rt;t=zt;var i=32-pt(s)-1;s&=~(1<<i),n+=1;var r=32-pt(e)+i;if(30<r){var o=i-i%5;r=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Rt=1<<32-pt(e)+i|n<<i|s,zt=r+t}else Rt=1<<r|n<<i|s,zt=t}function _c(t){t.return!==null&&(En(t,1),gp(t,1,0))}function Sc(t){for(;t===co;)co=hs[--fs],hs[fs]=null,uo=hs[--fs],hs[fs]=null;for(;t===Vn;)Vn=nt[--st],nt[st]=null,zt=nt[--st],nt[st]=null,Rt=nt[--st],nt[st]=null}var Ge=null,qe=null,re=!1,ft=null;function xp(t,e){var n=it(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ed(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ge=t,qe=dn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ge=t,qe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vn!==null?{id:Rt,overflow:zt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=it(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ge=t,qe=null,!0):!1;default:return!1}}function vl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bl(t){if(re){var e=qe;if(e){var n=e;if(!ed(t,e)){if(vl(t))throw Error(T(418));e=dn(n.nextSibling);var s=Ge;e&&ed(t,e)?xp(s,n):(t.flags=t.flags&-4097|2,re=!1,Ge=t)}}else{if(vl(t))throw Error(T(418));t.flags=t.flags&-4097|2,re=!1,Ge=t}}}function td(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ge=t}function mr(t){if(t!==Ge)return!1;if(!re)return td(t),re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ml(t.type,t.memoizedProps)),e&&(e=qe)){if(vl(t))throw yp(),Error(T(418));for(;e;)xp(t,e),e=dn(e.nextSibling)}if(td(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qe=dn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qe=null}}else qe=Ge?dn(t.stateNode.nextSibling):null;return!0}function yp(){for(var t=qe;t;)t=dn(t.nextSibling)}function Ps(){qe=Ge=null,re=!1}function jc(t){ft===null?ft=[t]:ft.push(t)}var yx=Vt.ReactCurrentBatchConfig;function Ys(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var s=n.stateNode}if(!s)throw Error(T(147,t));var i=s,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=i.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function gr(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nd(t){var e=t._init;return e(t._payload)}function vp(t){function e(g,x){if(t){var y=g.deletions;y===null?(g.deletions=[x],g.flags|=16):y.push(x)}}function n(g,x){if(!t)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function s(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function i(g,x){return g=mn(g,x),g.index=0,g.sibling=null,g}function r(g,x,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<x?(g.flags|=2,x):y):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,x,y,w){return x===null||x.tag!==6?(x=Pa(y,g.mode,w),x.return=g,x):(x=i(x,y),x.return=g,x)}function l(g,x,y,w){var k=y.type;return k===os?d(g,x,y.props.children,w,y.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Kt&&nd(k)===x.type)?(w=i(x,y.props),w.ref=Ys(g,x,y),w.return=g,w):(w=Qr(y.type,y.key,y.props,null,g.mode,w),w.ref=Ys(g,x,y),w.return=g,w)}function u(g,x,y,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Ma(y,g.mode,w),x.return=g,x):(x=i(x,y.children||[]),x.return=g,x)}function d(g,x,y,w,k){return x===null||x.tag!==7?(x=Fn(y,g.mode,w,k),x.return=g,x):(x=i(x,y),x.return=g,x)}function h(g,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Pa(""+x,g.mode,y),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case rr:return y=Qr(x.type,x.key,x.props,null,g.mode,y),y.ref=Ys(g,null,x),y.return=g,y;case rs:return x=Ma(x,g.mode,y),x.return=g,x;case Kt:var w=x._init;return h(g,w(x._payload),y)}if(ni(x)||Hs(x))return x=Fn(x,g.mode,y,null),x.return=g,x;gr(g,x)}return null}function f(g,x,y,w){var k=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:a(g,x,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case rr:return y.key===k?l(g,x,y,w):null;case rs:return y.key===k?u(g,x,y,w):null;case Kt:return k=y._init,f(g,x,k(y._payload),w)}if(ni(y)||Hs(y))return k!==null?null:d(g,x,y,w,null);gr(g,y)}return null}function p(g,x,y,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(y)||null,a(x,g,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rr:return g=g.get(w.key===null?y:w.key)||null,l(x,g,w,k);case rs:return g=g.get(w.key===null?y:w.key)||null,u(x,g,w,k);case Kt:var j=w._init;return p(g,x,y,j(w._payload),k)}if(ni(w)||Hs(w))return g=g.get(y)||null,d(x,g,w,k,null);gr(x,w)}return null}function v(g,x,y,w){for(var k=null,j=null,N=x,S=x=0,E=null;N!==null&&S<y.length;S++){N.index>S?(E=N,N=null):E=N.sibling;var P=f(g,N,y[S],w);if(P===null){N===null&&(N=E);break}t&&N&&P.alternate===null&&e(g,N),x=r(P,x,S),j===null?k=P:j.sibling=P,j=P,N=E}if(S===y.length)return n(g,N),re&&En(g,S),k;if(N===null){for(;S<y.length;S++)N=h(g,y[S],w),N!==null&&(x=r(N,x,S),j===null?k=N:j.sibling=N,j=N);return re&&En(g,S),k}for(N=s(g,N);S<y.length;S++)E=p(N,g,S,y[S],w),E!==null&&(t&&E.alternate!==null&&N.delete(E.key===null?S:E.key),x=r(E,x,S),j===null?k=E:j.sibling=E,j=E);return t&&N.forEach(function(R){return e(g,R)}),re&&En(g,S),k}function m(g,x,y,w){var k=Hs(y);if(typeof k!="function")throw Error(T(150));if(y=k.call(y),y==null)throw Error(T(151));for(var j=k=null,N=x,S=x=0,E=null,P=y.next();N!==null&&!P.done;S++,P=y.next()){N.index>S?(E=N,N=null):E=N.sibling;var R=f(g,N,P.value,w);if(R===null){N===null&&(N=E);break}t&&N&&R.alternate===null&&e(g,N),x=r(R,x,S),j===null?k=R:j.sibling=R,j=R,N=E}if(P.done)return n(g,N),re&&En(g,S),k;if(N===null){for(;!P.done;S++,P=y.next())P=h(g,P.value,w),P!==null&&(x=r(P,x,S),j===null?k=P:j.sibling=P,j=P);return re&&En(g,S),k}for(N=s(g,N);!P.done;S++,P=y.next())P=p(N,g,S,P.value,w),P!==null&&(t&&P.alternate!==null&&N.delete(P.key===null?S:P.key),x=r(P,x,S),j===null?k=P:j.sibling=P,j=P);return t&&N.forEach(function(M){return e(g,M)}),re&&En(g,S),k}function b(g,x,y,w){if(typeof y=="object"&&y!==null&&y.type===os&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case rr:e:{for(var k=y.key,j=x;j!==null;){if(j.key===k){if(k=y.type,k===os){if(j.tag===7){n(g,j.sibling),x=i(j,y.props.children),x.return=g,g=x;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Kt&&nd(k)===j.type){n(g,j.sibling),x=i(j,y.props),x.ref=Ys(g,j,y),x.return=g,g=x;break e}n(g,j);break}else e(g,j);j=j.sibling}y.type===os?(x=Fn(y.props.children,g.mode,w,y.key),x.return=g,g=x):(w=Qr(y.type,y.key,y.props,null,g.mode,w),w.ref=Ys(g,x,y),w.return=g,g=w)}return o(g);case rs:e:{for(j=y.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(g,x.sibling),x=i(x,y.children||[]),x.return=g,g=x;break e}else{n(g,x);break}else e(g,x);x=x.sibling}x=Ma(y,g.mode,w),x.return=g,g=x}return o(g);case Kt:return j=y._init,b(g,x,j(y._payload),w)}if(ni(y))return v(g,x,y,w);if(Hs(y))return m(g,x,y,w);gr(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(n(g,x.sibling),x=i(x,y),x.return=g,g=x):(n(g,x),x=Pa(y,g.mode,w),x.return=g,g=x),o(g)):n(g,x)}return b}var Ms=vp(!0),bp=vp(!1),ho=kn(null),fo=null,ps=null,Nc=null;function Cc(){Nc=ps=fo=null}function Pc(t){var e=ho.current;ie(ho),t._currentValue=e}function wl(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function ws(t,e){fo=t,Nc=ps=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($e=!0),t.firstContext=null)}function at(t){var e=t._currentValue;if(Nc!==t)if(t={context:t,memoizedValue:e,next:null},ps===null){if(fo===null)throw Error(T(308));ps=t,fo.dependencies={lanes:0,firstContext:t}}else ps=ps.next=t;return e}var On=null;function Mc(t){On===null?On=[t]:On.push(t)}function wp(t,e,n,s){var i=e.interleaved;return i===null?(n.next=n,Mc(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ht(t,s)}function Ht(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qt=!1;function Ec(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ft(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hn(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Q&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,Ht(t,n)}return i=s.interleaved,i===null?(e.next=e,Mc(s)):(e.next=i.next,i.next=e),s.interleaved=e,Ht(t,n)}function Br(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,mc(t,n)}}function sd(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function po(t,e,n,s){var i=t.updateQueue;qt=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?r=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(r!==null){var h=i.baseState;o=0,d=u=l=null,a=r;do{var f=a.lane,p=a.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,m=a;switch(f=e,p=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=ue({},h,f);break e;case 2:qt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);Qn|=o,t.lanes=o,t.memoizedState=h}}function id(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(T(191,i));i.call(s)}}}var tr={},Ct=kn(tr),Oi=kn(tr),Ri=kn(tr);function Rn(t){if(t===tr)throw Error(T(174));return t}function Tc(t,e){switch(ne(Ri,e),ne(Oi,t),ne(Ct,tr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tl(e,t)}ie(Ct),ne(Ct,e)}function Es(){ie(Ct),ie(Oi),ie(Ri)}function _p(t){Rn(Ri.current);var e=Rn(Ct.current),n=tl(e,t.type);e!==n&&(ne(Oi,t),ne(Ct,n))}function Dc(t){Oi.current===t&&(ie(Ct),ie(Oi))}var le=kn(0);function mo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ka=[];function Lc(){for(var t=0;t<ka.length;t++)ka[t]._workInProgressVersionPrimary=null;ka.length=0}var Wr=Vt.ReactCurrentDispatcher,_a=Vt.ReactCurrentBatchConfig,Un=0,ce=null,ye=null,we=null,go=!1,gi=!1,zi=0,vx=0;function Pe(){throw Error(T(321))}function Ac(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gt(t[n],e[n]))return!1;return!0}function Oc(t,e,n,s,i,r){if(Un=r,ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wr.current=t===null||t.memoizedState===null?_x:Sx,t=n(s,i),gi){r=0;do{if(gi=!1,zi=0,25<=r)throw Error(T(301));r+=1,we=ye=null,e.updateQueue=null,Wr.current=jx,t=n(s,i)}while(gi)}if(Wr.current=xo,e=ye!==null&&ye.next!==null,Un=0,we=ye=ce=null,go=!1,e)throw Error(T(300));return t}function Rc(){var t=zi!==0;return zi=0,t}function kt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?ce.memoizedState=we=t:we=we.next=t,we}function lt(){if(ye===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=ye.next;var e=we===null?ce.memoizedState:we.next;if(e!==null)we=e,ye=t;else{if(t===null)throw Error(T(310));ye=t,t={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},we===null?ce.memoizedState=we=t:we=we.next=t}return we}function Ii(t,e){return typeof e=="function"?e(t):e}function Sa(t){var e=lt(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var s=ye,i=s.baseQueue,r=n.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}s.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,s=s.baseState;var a=o=null,l=null,u=r;do{var d=u.lane;if((Un&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=s):l=l.next=h,ce.lanes|=d,Qn|=d}u=u.next}while(u!==null&&u!==r);l===null?o=s:l.next=a,gt(s,e.memoizedState)||($e=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){i=t;do r=i.lane,ce.lanes|=r,Qn|=r,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ja(t){var e=lt(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do r=t(r,o.action),o=o.next;while(o!==i);gt(r,e.memoizedState)||($e=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function Sp(){}function jp(t,e){var n=ce,s=lt(),i=e(),r=!gt(s.memoizedState,i);if(r&&(s.memoizedState=i,$e=!0),s=s.queue,zc(Pp.bind(null,n,s,t),[t]),s.getSnapshot!==e||r||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,Fi(9,Cp.bind(null,n,s,i,e),void 0,null),_e===null)throw Error(T(349));Un&30||Np(n,e,i)}return i}function Np(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Cp(t,e,n,s){e.value=n,e.getSnapshot=s,Mp(e)&&Ep(t)}function Pp(t,e,n){return n(function(){Mp(e)&&Ep(t)})}function Mp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gt(t,n)}catch{return!0}}function Ep(t){var e=Ht(t,1);e!==null&&mt(e,t,1,-1)}function rd(t){var e=kt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},e.queue=t,t=t.dispatch=kx.bind(null,ce,t),[e.memoizedState,t]}function Fi(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function Tp(){return lt().memoizedState}function Hr(t,e,n,s){var i=kt();ce.flags|=t,i.memoizedState=Fi(1|e,n,void 0,s===void 0?null:s)}function $o(t,e,n,s){var i=lt();s=s===void 0?null:s;var r=void 0;if(ye!==null){var o=ye.memoizedState;if(r=o.destroy,s!==null&&Ac(s,o.deps)){i.memoizedState=Fi(e,n,r,s);return}}ce.flags|=t,i.memoizedState=Fi(1|e,n,r,s)}function od(t,e){return Hr(8390656,8,t,e)}function zc(t,e){return $o(2048,8,t,e)}function Dp(t,e){return $o(4,2,t,e)}function Lp(t,e){return $o(4,4,t,e)}function Ap(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Op(t,e,n){return n=n!=null?n.concat([t]):null,$o(4,4,Ap.bind(null,e,t),n)}function Ic(){}function Rp(t,e){var n=lt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Ac(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function zp(t,e){var n=lt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Ac(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Ip(t,e,n){return Un&21?(gt(n,e)||(n=$f(),ce.lanes|=n,Qn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$e=!0),t.memoizedState=n)}function bx(t,e){var n=Z;Z=n!==0&&4>n?n:4,t(!0);var s=_a.transition;_a.transition={};try{t(!1),e()}finally{Z=n,_a.transition=s}}function Fp(){return lt().memoizedState}function wx(t,e,n){var s=pn(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Bp(t))Wp(e,n);else if(n=wp(t,e,n,s),n!==null){var i=Oe();mt(n,t,s,i),Hp(n,e,s)}}function kx(t,e,n){var s=pn(t),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bp(t))Wp(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(i.hasEagerState=!0,i.eagerState=a,gt(a,o)){var l=e.interleaved;l===null?(i.next=i,Mc(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=wp(t,e,i,s),n!==null&&(i=Oe(),mt(n,t,s,i),Hp(n,e,s))}}function Bp(t){var e=t.alternate;return t===ce||e!==null&&e===ce}function Wp(t,e){gi=go=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Hp(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,mc(t,n)}}var xo={readContext:at,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},_x={readContext:at,useCallback:function(t,e){return kt().memoizedState=[t,e===void 0?null:e],t},useContext:at,useEffect:od,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hr(4194308,4,Ap.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hr(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hr(4,2,t,e)},useMemo:function(t,e){var n=kt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=kt();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=wx.bind(null,ce,t),[s.memoizedState,t]},useRef:function(t){var e=kt();return t={current:t},e.memoizedState=t},useState:rd,useDebugValue:Ic,useDeferredValue:function(t){return kt().memoizedState=t},useTransition:function(){var t=rd(!1),e=t[0];return t=bx.bind(null,t[1]),kt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=ce,i=kt();if(re){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),_e===null)throw Error(T(349));Un&30||Np(s,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,od(Pp.bind(null,s,r,t),[t]),s.flags|=2048,Fi(9,Cp.bind(null,s,r,n,e),void 0,null),n},useId:function(){var t=kt(),e=_e.identifierPrefix;if(re){var n=zt,s=Rt;n=(s&~(1<<32-pt(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=zi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Sx={readContext:at,useCallback:Rp,useContext:at,useEffect:zc,useImperativeHandle:Op,useInsertionEffect:Dp,useLayoutEffect:Lp,useMemo:zp,useReducer:Sa,useRef:Tp,useState:function(){return Sa(Ii)},useDebugValue:Ic,useDeferredValue:function(t){var e=lt();return Ip(e,ye.memoizedState,t)},useTransition:function(){var t=Sa(Ii)[0],e=lt().memoizedState;return[t,e]},useMutableSource:Sp,useSyncExternalStore:jp,useId:Fp,unstable_isNewReconciler:!1},jx={readContext:at,useCallback:Rp,useContext:at,useEffect:zc,useImperativeHandle:Op,useInsertionEffect:Dp,useLayoutEffect:Lp,useMemo:zp,useReducer:ja,useRef:Tp,useState:function(){return ja(Ii)},useDebugValue:Ic,useDeferredValue:function(t){var e=lt();return ye===null?e.memoizedState=t:Ip(e,ye.memoizedState,t)},useTransition:function(){var t=ja(Ii)[0],e=lt().memoizedState;return[t,e]},useMutableSource:Sp,useSyncExternalStore:jp,useId:Fp,unstable_isNewReconciler:!1};function dt(t,e){if(t&&t.defaultProps){e=ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function kl(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vo={isMounted:function(t){return(t=t._reactInternals)?Jn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Oe(),i=pn(t),r=Ft(s,i);r.payload=e,n!=null&&(r.callback=n),e=hn(t,r,i),e!==null&&(mt(e,t,i,s),Br(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Oe(),i=pn(t),r=Ft(s,i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=hn(t,r,i),e!==null&&(mt(e,t,i,s),Br(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Oe(),s=pn(t),i=Ft(n,s);i.tag=2,e!=null&&(i.callback=e),e=hn(t,i,s),e!==null&&(mt(e,t,s,n),Br(e,t,s))}};function ad(t,e,n,s,i,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,o):e.prototype&&e.prototype.isPureReactComponent?!Ti(n,s)||!Ti(i,r):!0}function $p(t,e,n){var s=!1,i=vn,r=e.contextType;return typeof r=="object"&&r!==null?r=at(r):(i=Qe(e)?$n:De.current,s=e.contextTypes,r=(s=s!=null)?Cs(t,i):vn),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vo,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function ld(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Vo.enqueueReplaceState(e,e.state,null)}function _l(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ec(t);var r=e.contextType;typeof r=="object"&&r!==null?i.context=at(r):(r=Qe(e)?$n:De.current,i.context=Cs(t,r)),i.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(kl(t,e,r,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vo.enqueueReplaceState(i,i.state,null),po(t,n,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ts(t,e){try{var n="",s=e;do n+=Zg(s),s=s.return;while(s);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:i,digest:null}}function Na(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Nx=typeof WeakMap=="function"?WeakMap:Map;function Vp(t,e,n){n=Ft(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){vo||(vo=!0,Al=s),Sl(t,e)},n}function Up(t,e,n){n=Ft(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;n.payload=function(){return s(i)},n.callback=function(){Sl(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Sl(t,e),typeof s!="function"&&(fn===null?fn=new Set([this]):fn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function cd(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new Nx;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(i.add(n),t=Bx.bind(null,t,e,n),e.then(t,t))}function ud(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dd(t,e,n,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ft(-1,1),e.tag=2,hn(n,e,1))),n.lanes|=1),t)}var Cx=Vt.ReactCurrentOwner,$e=!1;function Ae(t,e,n,s){e.child=t===null?bp(e,null,n,s):Ms(e,t.child,n,s)}function hd(t,e,n,s,i){n=n.render;var r=e.ref;return ws(e,i),s=Oc(t,e,n,s,r,i),n=Rc(),t!==null&&!$e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$t(t,e,i)):(re&&n&&_c(e),e.flags|=1,Ae(t,e,s,i),e.child)}function fd(t,e,n,s,i){if(t===null){var r=n.type;return typeof r=="function"&&!Qc(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,Qp(t,e,r,s,i)):(t=Qr(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&i)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:Ti,n(o,s)&&t.ref===e.ref)return $t(t,e,i)}return e.flags|=1,t=mn(r,s),t.ref=e.ref,t.return=e,e.child=t}function Qp(t,e,n,s,i){if(t!==null){var r=t.memoizedProps;if(Ti(r,s)&&t.ref===e.ref)if($e=!1,e.pendingProps=s=r,(t.lanes&i)!==0)t.flags&131072&&($e=!0);else return e.lanes=t.lanes,$t(t,e,i)}return jl(t,e,n,s,i)}function Yp(t,e,n){var s=e.pendingProps,i=s.children,r=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(gs,Ke),Ke|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ne(gs,Ke),Ke|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:n,ne(gs,Ke),Ke|=s}else r!==null?(s=r.baseLanes|n,e.memoizedState=null):s=n,ne(gs,Ke),Ke|=s;return Ae(t,e,i,n),e.child}function Xp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function jl(t,e,n,s,i){var r=Qe(n)?$n:De.current;return r=Cs(e,r),ws(e,i),n=Oc(t,e,n,s,r,i),s=Rc(),t!==null&&!$e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$t(t,e,i)):(re&&s&&_c(e),e.flags|=1,Ae(t,e,n,i),e.child)}function pd(t,e,n,s,i){if(Qe(n)){var r=!0;lo(e)}else r=!1;if(ws(e,i),e.stateNode===null)$r(t,e),$p(e,n,s),_l(e,n,s,i),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=at(u):(u=Qe(n)?$n:De.current,u=Cs(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==u)&&ld(e,o,s,u),qt=!1;var f=e.memoizedState;o.state=f,po(e,s,o,i),l=e.memoizedState,a!==s||f!==l||Ue.current||qt?(typeof d=="function"&&(kl(e,n,d,s),l=e.memoizedState),(a=qt||ad(e,n,a,s,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,kp(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:dt(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=at(l):(l=Qe(n)?$n:De.current,l=Cs(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&ld(e,o,s,l),qt=!1,f=e.memoizedState,o.state=f,po(e,s,o,i);var v=e.memoizedState;a!==h||f!==v||Ue.current||qt?(typeof p=="function"&&(kl(e,n,p,s),v=e.memoizedState),(u=qt||ad(e,n,u,s,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=v),o.props=s,o.state=v,o.context=l,s=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return Nl(t,e,n,s,r,i)}function Nl(t,e,n,s,i,r){Xp(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&Zu(e,n,!1),$t(t,e,r);s=e.stateNode,Cx.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=Ms(e,t.child,null,r),e.child=Ms(e,null,a,r)):Ae(t,e,a,r),e.memoizedState=s.state,i&&Zu(e,n,!0),e.child}function Kp(t){var e=t.stateNode;e.pendingContext?Ju(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ju(t,e.context,!1),Tc(t,e.containerInfo)}function md(t,e,n,s,i){return Ps(),jc(i),e.flags|=256,Ae(t,e,n,s),e.child}var Cl={dehydrated:null,treeContext:null,retryLane:0};function Pl(t){return{baseLanes:t,cachePool:null,transitions:null}}function qp(t,e,n){var s=e.pendingProps,i=le.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ne(le,i&1),t===null)return bl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,r?(s=e.mode,r=e.child,o={mode:"hidden",children:o},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Yo(o,s,0,null),t=Fn(t,s,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Pl(n),e.memoizedState=Cl,t):Fc(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Px(t,e,o,s,a,i,n);if(r){r=s.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=mn(i,l),s.subtreeFlags=i.subtreeFlags&14680064),a!==null?r=mn(a,r):(r=Fn(r,o,n,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,o=t.child.memoizedState,o=o===null?Pl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=Cl,s}return r=t.child,t=r.sibling,s=mn(r,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Fc(t,e){return e=Yo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xr(t,e,n,s){return s!==null&&jc(s),Ms(e,t.child,null,n),t=Fc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Px(t,e,n,s,i,r,o){if(n)return e.flags&256?(e.flags&=-257,s=Na(Error(T(422))),xr(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=s.fallback,i=e.mode,s=Yo({mode:"visible",children:s.children},i,0,null),r=Fn(r,i,o,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,e.mode&1&&Ms(e,t.child,null,o),e.child.memoizedState=Pl(o),e.memoizedState=Cl,r);if(!(e.mode&1))return xr(t,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var a=s.dgst;return s=a,r=Error(T(419)),s=Na(r,s,void 0),xr(t,e,o,s)}if(a=(o&t.childLanes)!==0,$e||a){if(s=_e,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,Ht(t,i),mt(s,t,i,-1))}return Uc(),s=Na(Error(T(421))),xr(t,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Wx.bind(null,t),i._reactRetry=e,null):(t=r.treeContext,qe=dn(i.nextSibling),Ge=e,re=!0,ft=null,t!==null&&(nt[st++]=Rt,nt[st++]=zt,nt[st++]=Vn,Rt=t.id,zt=t.overflow,Vn=e),e=Fc(e,s.children),e.flags|=4096,e)}function gd(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),wl(t.return,e,n)}function Ca(t,e,n,s,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=n,r.tailMode=i)}function Gp(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(Ae(t,e,s.children,n),s=le.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gd(t,n,e);else if(t.tag===19)gd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ne(le,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&mo(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ca(e,!1,i,n,r);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&mo(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ca(e,!0,n,null,r);break;case"together":Ca(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $r(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $t(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=mn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Mx(t,e,n){switch(e.tag){case 3:Kp(e),Ps();break;case 5:_p(e);break;case 1:Qe(e.type)&&lo(e);break;case 4:Tc(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;ne(ho,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(ne(le,le.current&1),e.flags|=128,null):n&e.child.childLanes?qp(t,e,n):(ne(le,le.current&1),t=$t(t,e,n),t!==null?t.sibling:null);ne(le,le.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return Gp(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ne(le,le.current),s)break;return null;case 22:case 23:return e.lanes=0,Yp(t,e,n)}return $t(t,e,n)}var Jp,Ml,Zp,em;Jp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ml=function(){};Zp=function(t,e,n,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,Rn(Ct.current);var r=null;switch(n){case"input":i=Ga(t,i),s=Ga(t,s),r=[];break;case"select":i=ue({},i,{value:void 0}),s=ue({},s,{value:void 0}),r=[];break;case"textarea":i=el(t,i),s=el(t,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=oo)}nl(n,s);var o;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Si.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in s){var l=s[u];if(a=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(r||(r=[]),r.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Si.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&se("scroll",t),r||a===l||(r=[])):(r=r||[]).push(u,l))}n&&(r=r||[]).push("style",n);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};em=function(t,e,n,s){n!==s&&(e.flags|=4)};function Xs(t,e){if(!re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Me(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function Ex(t,e,n){var s=e.pendingProps;switch(Sc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(e),null;case 1:return Qe(e.type)&&ao(),Me(e),null;case 3:return s=e.stateNode,Es(),ie(Ue),ie(De),Lc(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(mr(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ft!==null&&(zl(ft),ft=null))),Ml(t,e),Me(e),null;case 5:Dc(e);var i=Rn(Ri.current);if(n=e.type,t!==null&&e.stateNode!=null)Zp(t,e,n,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(T(166));return Me(e),null}if(t=Rn(Ct.current),mr(e)){s=e.stateNode,n=e.type;var r=e.memoizedProps;switch(s[St]=e,s[Ai]=r,t=(e.mode&1)!==0,n){case"dialog":se("cancel",s),se("close",s);break;case"iframe":case"object":case"embed":se("load",s);break;case"video":case"audio":for(i=0;i<ii.length;i++)se(ii[i],s);break;case"source":se("error",s);break;case"img":case"image":case"link":se("error",s),se("load",s);break;case"details":se("toggle",s);break;case"input":ju(s,r),se("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},se("invalid",s);break;case"textarea":Cu(s,r),se("invalid",s)}nl(n,r),i=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?s.textContent!==a&&(r.suppressHydrationWarning!==!0&&pr(s.textContent,a,t),i=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&pr(s.textContent,a,t),i=["children",""+a]):Si.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&se("scroll",s)}switch(n){case"input":or(s),Nu(s,r,!0);break;case"textarea":or(s),Pu(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=oo)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Pf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[St]=e,t[Ai]=s,Jp(t,e,!1,!1),e.stateNode=t;e:{switch(o=sl(n,s),n){case"dialog":se("cancel",t),se("close",t),i=s;break;case"iframe":case"object":case"embed":se("load",t),i=s;break;case"video":case"audio":for(i=0;i<ii.length;i++)se(ii[i],t);i=s;break;case"source":se("error",t),i=s;break;case"img":case"image":case"link":se("error",t),se("load",t),i=s;break;case"details":se("toggle",t),i=s;break;case"input":ju(t,s),i=Ga(t,s),se("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=ue({},s,{value:void 0}),se("invalid",t);break;case"textarea":Cu(t,s),i=el(t,s),se("invalid",t);break;default:i=s}nl(n,i),a=i;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?Tf(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Mf(t,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ji(t,l):typeof l=="number"&&ji(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Si.hasOwnProperty(r)?l!=null&&r==="onScroll"&&se("scroll",t):l!=null&&cc(t,r,l,o))}switch(n){case"input":or(t),Nu(t,s,!1);break;case"textarea":or(t),Pu(t);break;case"option":s.value!=null&&t.setAttribute("value",""+yn(s.value));break;case"select":t.multiple=!!s.multiple,r=s.value,r!=null?xs(t,!!s.multiple,r,!1):s.defaultValue!=null&&xs(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=oo)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Me(e),null;case 6:if(t&&e.stateNode!=null)em(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(T(166));if(n=Rn(Ri.current),Rn(Ct.current),mr(e)){if(s=e.stateNode,n=e.memoizedProps,s[St]=e,(r=s.nodeValue!==n)&&(t=Ge,t!==null))switch(t.tag){case 3:pr(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pr(s.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[St]=e,e.stateNode=s}return Me(e),null;case 13:if(ie(le),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(re&&qe!==null&&e.mode&1&&!(e.flags&128))yp(),Ps(),e.flags|=98560,r=!1;else if(r=mr(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(T(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(T(317));r[St]=e}else Ps(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Me(e),r=!1}else ft!==null&&(zl(ft),ft=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||le.current&1?ve===0&&(ve=3):Uc())),e.updateQueue!==null&&(e.flags|=4),Me(e),null);case 4:return Es(),Ml(t,e),t===null&&Di(e.stateNode.containerInfo),Me(e),null;case 10:return Pc(e.type._context),Me(e),null;case 17:return Qe(e.type)&&ao(),Me(e),null;case 19:if(ie(le),r=e.memoizedState,r===null)return Me(e),null;if(s=(e.flags&128)!==0,o=r.rendering,o===null)if(s)Xs(r,!1);else{if(ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mo(t),o!==null){for(e.flags|=128,Xs(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)r=n,t=s,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ne(le,le.current&1|2),e.child}t=t.sibling}r.tail!==null&&fe()>Ds&&(e.flags|=128,s=!0,Xs(r,!1),e.lanes=4194304)}else{if(!s)if(t=mo(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xs(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!re)return Me(e),null}else 2*fe()-r.renderingStartTime>Ds&&n!==1073741824&&(e.flags|=128,s=!0,Xs(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=fe(),e.sibling=null,n=le.current,ne(le,s?n&1|2:n&1),e):(Me(e),null);case 22:case 23:return Vc(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Ke&1073741824&&(Me(e),e.subtreeFlags&6&&(e.flags|=8192)):Me(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function Tx(t,e){switch(Sc(e),e.tag){case 1:return Qe(e.type)&&ao(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Es(),ie(Ue),ie(De),Lc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dc(e),null;case 13:if(ie(le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));Ps()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ie(le),null;case 4:return Es(),null;case 10:return Pc(e.type._context),null;case 22:case 23:return Vc(),null;case 24:return null;default:return null}}var yr=!1,Te=!1,Dx=typeof WeakSet=="function"?WeakSet:Set,O=null;function ms(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){de(t,e,s)}else n.current=null}function El(t,e,n){try{n()}catch(s){de(t,e,s)}}var xd=!1;function Lx(t,e){if(fl=so,t=rp(),kc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==r||s!==0&&h.nodeType!==3||(l=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===r&&++d===s&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pl={focusedElem:t,selectionRange:n},so=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,b=v.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:dt(e.type,m),b);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(w){de(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return v=xd,xd=!1,v}function xi(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var r=i.destroy;i.destroy=void 0,r!==void 0&&El(e,n,r)}i=i.next}while(i!==s)}}function Uo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function Tl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tm(t){var e=t.alternate;e!==null&&(t.alternate=null,tm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[St],delete e[Ai],delete e[xl],delete e[mx],delete e[gx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nm(t){return t.tag===5||t.tag===3||t.tag===4}function yd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dl(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=oo));else if(s!==4&&(t=t.child,t!==null))for(Dl(t,e,n),t=t.sibling;t!==null;)Dl(t,e,n),t=t.sibling}function Ll(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(Ll(t,e,n),t=t.sibling;t!==null;)Ll(t,e,n),t=t.sibling}var je=null,ht=!1;function Qt(t,e,n){for(n=n.child;n!==null;)sm(t,e,n),n=n.sibling}function sm(t,e,n){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(zo,n)}catch{}switch(n.tag){case 5:Te||ms(n,e);case 6:var s=je,i=ht;je=null,Qt(t,e,n),je=s,ht=i,je!==null&&(ht?(t=je,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(ht?(t=je,n=n.stateNode,t.nodeType===8?ba(t.parentNode,n):t.nodeType===1&&ba(t,n),Mi(t)):ba(je,n.stateNode));break;case 4:s=je,i=ht,je=n.stateNode.containerInfo,ht=!0,Qt(t,e,n),je=s,ht=i;break;case 0:case 11:case 14:case 15:if(!Te&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&El(n,e,o),i=i.next}while(i!==s)}Qt(t,e,n);break;case 1:if(!Te&&(ms(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){de(n,e,a)}Qt(t,e,n);break;case 21:Qt(t,e,n);break;case 22:n.mode&1?(Te=(s=Te)||n.memoizedState!==null,Qt(t,e,n),Te=s):Qt(t,e,n);break;default:Qt(t,e,n)}}function vd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Dx),e.forEach(function(s){var i=Hx.bind(null,t,s);n.has(s)||(n.add(s),s.then(i,i))})}}function ut(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:je=a.stateNode,ht=!1;break e;case 3:je=a.stateNode.containerInfo,ht=!0;break e;case 4:je=a.stateNode.containerInfo,ht=!0;break e}a=a.return}if(je===null)throw Error(T(160));sm(r,o,i),je=null,ht=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){de(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)im(e,t),e=e.sibling}function im(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ut(e,t),bt(t),s&4){try{xi(3,t,t.return),Uo(3,t)}catch(m){de(t,t.return,m)}try{xi(5,t,t.return)}catch(m){de(t,t.return,m)}}break;case 1:ut(e,t),bt(t),s&512&&n!==null&&ms(n,n.return);break;case 5:if(ut(e,t),bt(t),s&512&&n!==null&&ms(n,n.return),t.flags&32){var i=t.stateNode;try{ji(i,"")}catch(m){de(t,t.return,m)}}if(s&4&&(i=t.stateNode,i!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&Nf(i,r),sl(a,o);var u=sl(a,r);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Tf(i,h):d==="dangerouslySetInnerHTML"?Mf(i,h):d==="children"?ji(i,h):cc(i,d,h,u)}switch(a){case"input":Ja(i,r);break;case"textarea":Cf(i,r);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?xs(i,!!r.multiple,p,!1):f!==!!r.multiple&&(r.defaultValue!=null?xs(i,!!r.multiple,r.defaultValue,!0):xs(i,!!r.multiple,r.multiple?[]:"",!1))}i[Ai]=r}catch(m){de(t,t.return,m)}}break;case 6:if(ut(e,t),bt(t),s&4){if(t.stateNode===null)throw Error(T(162));i=t.stateNode,r=t.memoizedProps;try{i.nodeValue=r}catch(m){de(t,t.return,m)}}break;case 3:if(ut(e,t),bt(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Mi(e.containerInfo)}catch(m){de(t,t.return,m)}break;case 4:ut(e,t),bt(t);break;case 13:ut(e,t),bt(t),i=t.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(Hc=fe())),s&4&&vd(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Te=(u=Te)||d,ut(e,t),Te=u):ut(e,t),bt(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(O=t,d=t.child;d!==null;){for(h=O=d;O!==null;){switch(f=O,p=f.child,f.tag){case 0:case 11:case 14:case 15:xi(4,f,f.return);break;case 1:ms(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){s=f,n=f.return;try{e=s,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){de(s,n,m)}}break;case 5:ms(f,f.return);break;case 22:if(f.memoizedState!==null){wd(h);continue}}p!==null?(p.return=f,O=p):wd(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ef("display",o))}catch(m){de(t,t.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){de(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ut(e,t),bt(t),s&4&&vd(t);break;case 21:break;default:ut(e,t),bt(t)}}function bt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nm(n)){var s=n;break e}n=n.return}throw Error(T(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(ji(i,""),s.flags&=-33);var r=yd(t);Ll(t,r,i);break;case 3:case 4:var o=s.stateNode.containerInfo,a=yd(t);Dl(t,a,o);break;default:throw Error(T(161))}}catch(l){de(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ax(t,e,n){O=t,rm(t)}function rm(t,e,n){for(var s=(t.mode&1)!==0;O!==null;){var i=O,r=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||yr;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Te;a=yr;var u=Te;if(yr=o,(Te=l)&&!u)for(O=i;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?kd(i):l!==null?(l.return=o,O=l):kd(i);for(;r!==null;)O=r,rm(r),r=r.sibling;O=i,yr=a,Te=u}bd(t)}else i.subtreeFlags&8772&&r!==null?(r.return=i,O=r):bd(t)}}function bd(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Te||Uo(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Te)if(n===null)s.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:dt(e.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&id(e,r,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}id(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Mi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Te||e.flags&512&&Tl(e)}catch(f){de(e,e.return,f)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function wd(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function kd(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Uo(4,e)}catch(l){de(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(l){de(e,i,l)}}var r=e.return;try{Tl(e)}catch(l){de(e,r,l)}break;case 5:var o=e.return;try{Tl(e)}catch(l){de(e,o,l)}}}catch(l){de(e,e.return,l)}if(e===t){O=null;break}var a=e.sibling;if(a!==null){a.return=e.return,O=a;break}O=e.return}}var Ox=Math.ceil,yo=Vt.ReactCurrentDispatcher,Bc=Vt.ReactCurrentOwner,ot=Vt.ReactCurrentBatchConfig,Q=0,_e=null,ge=null,Ne=0,Ke=0,gs=kn(0),ve=0,Bi=null,Qn=0,Qo=0,Wc=0,yi=null,We=null,Hc=0,Ds=1/0,Lt=null,vo=!1,Al=null,fn=null,vr=!1,en=null,bo=0,vi=0,Ol=null,Vr=-1,Ur=0;function Oe(){return Q&6?fe():Vr!==-1?Vr:Vr=fe()}function pn(t){return t.mode&1?Q&2&&Ne!==0?Ne&-Ne:yx.transition!==null?(Ur===0&&(Ur=$f()),Ur):(t=Z,t!==0||(t=window.event,t=t===void 0?16:qf(t.type)),t):1}function mt(t,e,n,s){if(50<vi)throw vi=0,Ol=null,Error(T(185));Ji(t,n,s),(!(Q&2)||t!==_e)&&(t===_e&&(!(Q&2)&&(Qo|=n),ve===4&&Jt(t,Ne)),Ye(t,s),n===1&&Q===0&&!(e.mode&1)&&(Ds=fe()+500,Ho&&_n()))}function Ye(t,e){var n=t.callbackNode;y0(t,e);var s=no(t,t===_e?Ne:0);if(s===0)n!==null&&Tu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Tu(n),e===1)t.tag===0?xx(_d.bind(null,t)):mp(_d.bind(null,t)),fx(function(){!(Q&6)&&_n()}),n=null;else{switch(Vf(s)){case 1:n=pc;break;case 4:n=Wf;break;case 16:n=to;break;case 536870912:n=Hf;break;default:n=to}n=fm(n,om.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function om(t,e){if(Vr=-1,Ur=0,Q&6)throw Error(T(327));var n=t.callbackNode;if(ks()&&t.callbackNode!==n)return null;var s=no(t,t===_e?Ne:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=wo(t,s);else{e=s;var i=Q;Q|=2;var r=lm();(_e!==t||Ne!==e)&&(Lt=null,Ds=fe()+500,In(t,e));do try{Ix();break}catch(a){am(t,a)}while(1);Cc(),yo.current=r,Q=i,ge!==null?e=0:(_e=null,Ne=0,e=ve)}if(e!==0){if(e===2&&(i=ll(t),i!==0&&(s=i,e=Rl(t,i))),e===1)throw n=Bi,In(t,0),Jt(t,s),Ye(t,fe()),n;if(e===6)Jt(t,s);else{if(i=t.current.alternate,!(s&30)&&!Rx(i)&&(e=wo(t,s),e===2&&(r=ll(t),r!==0&&(s=r,e=Rl(t,r))),e===1))throw n=Bi,In(t,0),Jt(t,s),Ye(t,fe()),n;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(T(345));case 2:Tn(t,We,Lt);break;case 3:if(Jt(t,s),(s&130023424)===s&&(e=Hc+500-fe(),10<e)){if(no(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){Oe(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gl(Tn.bind(null,t,We,Lt),e);break}Tn(t,We,Lt);break;case 4:if(Jt(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var o=31-pt(s);r=1<<o,o=e[o],o>i&&(i=o),s&=~r}if(s=i,s=fe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Ox(s/1960))-s,10<s){t.timeoutHandle=gl(Tn.bind(null,t,We,Lt),s);break}Tn(t,We,Lt);break;case 5:Tn(t,We,Lt);break;default:throw Error(T(329))}}}return Ye(t,fe()),t.callbackNode===n?om.bind(null,t):null}function Rl(t,e){var n=yi;return t.current.memoizedState.isDehydrated&&(In(t,e).flags|=256),t=wo(t,e),t!==2&&(e=We,We=n,e!==null&&zl(e)),t}function zl(t){We===null?We=t:We.push.apply(We,t)}function Rx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!gt(r(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jt(t,e){for(e&=~Wc,e&=~Qo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pt(e),s=1<<n;t[n]=-1,e&=~s}}function _d(t){if(Q&6)throw Error(T(327));ks();var e=no(t,0);if(!(e&1))return Ye(t,fe()),null;var n=wo(t,e);if(t.tag!==0&&n===2){var s=ll(t);s!==0&&(e=s,n=Rl(t,s))}if(n===1)throw n=Bi,In(t,0),Jt(t,e),Ye(t,fe()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tn(t,We,Lt),Ye(t,fe()),null}function $c(t,e){var n=Q;Q|=1;try{return t(e)}finally{Q=n,Q===0&&(Ds=fe()+500,Ho&&_n())}}function Yn(t){en!==null&&en.tag===0&&!(Q&6)&&ks();var e=Q;Q|=1;var n=ot.transition,s=Z;try{if(ot.transition=null,Z=1,t)return t()}finally{Z=s,ot.transition=n,Q=e,!(Q&6)&&_n()}}function Vc(){Ke=gs.current,ie(gs)}function In(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hx(n)),ge!==null)for(n=ge.return;n!==null;){var s=n;switch(Sc(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ao();break;case 3:Es(),ie(Ue),ie(De),Lc();break;case 5:Dc(s);break;case 4:Es();break;case 13:ie(le);break;case 19:ie(le);break;case 10:Pc(s.type._context);break;case 22:case 23:Vc()}n=n.return}if(_e=t,ge=t=mn(t.current,null),Ne=Ke=e,ve=0,Bi=null,Wc=Qo=Qn=0,We=yi=null,On!==null){for(e=0;e<On.length;e++)if(n=On[e],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,r=n.pending;if(r!==null){var o=r.next;r.next=i,s.next=o}n.pending=s}On=null}return t}function am(t,e){do{var n=ge;try{if(Cc(),Wr.current=xo,go){for(var s=ce.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}go=!1}if(Un=0,we=ye=ce=null,gi=!1,zi=0,Bc.current=null,n===null||n.return===null){ve=1,Bi=e,ge=null;break}e:{var r=t,o=n.return,a=n,l=e;if(e=Ne,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ud(o);if(p!==null){p.flags&=-257,dd(p,o,a,r,e),p.mode&1&&cd(r,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){cd(r,u,e),Uc();break e}l=Error(T(426))}}else if(re&&a.mode&1){var b=ud(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),dd(b,o,a,r,e),jc(Ts(l,a));break e}}r=l=Ts(l,a),ve!==4&&(ve=2),yi===null?yi=[r]:yi.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var g=Vp(r,l,e);sd(r,g);break e;case 1:a=l;var x=r.type,y=r.stateNode;if(!(r.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(fn===null||!fn.has(y)))){r.flags|=65536,e&=-e,r.lanes|=e;var w=Up(r,a,e);sd(r,w);break e}}r=r.return}while(r!==null)}um(n)}catch(k){e=k,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(1)}function lm(){var t=yo.current;return yo.current=xo,t===null?xo:t}function Uc(){(ve===0||ve===3||ve===2)&&(ve=4),_e===null||!(Qn&268435455)&&!(Qo&268435455)||Jt(_e,Ne)}function wo(t,e){var n=Q;Q|=2;var s=lm();(_e!==t||Ne!==e)&&(Lt=null,In(t,e));do try{zx();break}catch(i){am(t,i)}while(1);if(Cc(),Q=n,yo.current=s,ge!==null)throw Error(T(261));return _e=null,Ne=0,ve}function zx(){for(;ge!==null;)cm(ge)}function Ix(){for(;ge!==null&&!c0();)cm(ge)}function cm(t){var e=hm(t.alternate,t,Ke);t.memoizedProps=t.pendingProps,e===null?um(t):ge=e,Bc.current=null}function um(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Tx(n,e),n!==null){n.flags&=32767,ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ve=6,ge=null;return}}else if(n=Ex(n,e,Ke),n!==null){ge=n;return}if(e=e.sibling,e!==null){ge=e;return}ge=e=t}while(e!==null);ve===0&&(ve=5)}function Tn(t,e,n){var s=Z,i=ot.transition;try{ot.transition=null,Z=1,Fx(t,e,n,s)}finally{ot.transition=i,Z=s}return null}function Fx(t,e,n,s){do ks();while(en!==null);if(Q&6)throw Error(T(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(v0(t,r),t===_e&&(ge=_e=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vr||(vr=!0,fm(to,function(){return ks(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=ot.transition,ot.transition=null;var o=Z;Z=1;var a=Q;Q|=4,Bc.current=null,Lx(t,n),im(n,t),rx(pl),so=!!fl,pl=fl=null,t.current=n,Ax(n),u0(),Q=a,Z=o,ot.transition=r}else t.current=n;if(vr&&(vr=!1,en=t,bo=i),r=t.pendingLanes,r===0&&(fn=null),f0(n.stateNode),Ye(t,fe()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(vo)throw vo=!1,t=Al,Al=null,t;return bo&1&&t.tag!==0&&ks(),r=t.pendingLanes,r&1?t===Ol?vi++:(vi=0,Ol=t):vi=0,_n(),null}function ks(){if(en!==null){var t=Vf(bo),e=ot.transition,n=Z;try{if(ot.transition=null,Z=16>t?16:t,en===null)var s=!1;else{if(t=en,en=null,bo=0,Q&6)throw Error(T(331));var i=Q;for(Q|=4,O=t.current;O!==null;){var r=O,o=r.child;if(O.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:xi(8,d,r)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var f=d.sibling,p=d.return;if(tm(d),d===u){O=null;break}if(f!==null){f.return=p,O=f;break}O=p}}}var v=r.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}O=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,O=o;else e:for(;O!==null;){if(r=O,r.flags&2048)switch(r.tag){case 0:case 11:case 15:xi(9,r,r.return)}var g=r.sibling;if(g!==null){g.return=r.return,O=g;break e}O=r.return}}var x=t.current;for(O=x;O!==null;){o=O;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,O=y;else e:for(o=x;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Uo(9,a)}}catch(k){de(a,a.return,k)}if(a===o){O=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,O=w;break e}O=a.return}}if(Q=i,_n(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(zo,t)}catch{}s=!0}return s}finally{Z=n,ot.transition=e}}return!1}function Sd(t,e,n){e=Ts(n,e),e=Vp(t,e,1),t=hn(t,e,1),e=Oe(),t!==null&&(Ji(t,1,e),Ye(t,e))}function de(t,e,n){if(t.tag===3)Sd(t,t,n);else for(;e!==null;){if(e.tag===3){Sd(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(fn===null||!fn.has(s))){t=Ts(n,t),t=Up(e,t,1),e=hn(e,t,1),t=Oe(),e!==null&&(Ji(e,1,t),Ye(e,t));break}}e=e.return}}function Bx(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Oe(),t.pingedLanes|=t.suspendedLanes&n,_e===t&&(Ne&n)===n&&(ve===4||ve===3&&(Ne&130023424)===Ne&&500>fe()-Hc?In(t,0):Wc|=n),Ye(t,e)}function dm(t,e){e===0&&(t.mode&1?(e=cr,cr<<=1,!(cr&130023424)&&(cr=4194304)):e=1);var n=Oe();t=Ht(t,e),t!==null&&(Ji(t,e,n),Ye(t,n))}function Wx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dm(t,n)}function Hx(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(T(314))}s!==null&&s.delete(e),dm(t,n)}var hm;hm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ue.current)$e=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $e=!1,Mx(t,e,n);$e=!!(t.flags&131072)}else $e=!1,re&&e.flags&1048576&&gp(e,uo,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;$r(t,e),t=e.pendingProps;var i=Cs(e,De.current);ws(e,n),i=Oc(null,e,s,t,i,n);var r=Rc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qe(s)?(r=!0,lo(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ec(e),i.updater=Vo,e.stateNode=i,i._reactInternals=e,_l(e,s,t,n),e=Nl(null,e,s,!0,r,n)):(e.tag=0,re&&r&&_c(e),Ae(null,e,i,n),e=e.child),e;case 16:s=e.elementType;e:{switch($r(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=Vx(s),t=dt(s,t),i){case 0:e=jl(null,e,s,t,n);break e;case 1:e=pd(null,e,s,t,n);break e;case 11:e=hd(null,e,s,t,n);break e;case 14:e=fd(null,e,s,dt(s.type,t),n);break e}throw Error(T(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:dt(s,i),jl(t,e,s,i,n);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:dt(s,i),pd(t,e,s,i,n);case 3:e:{if(Kp(e),t===null)throw Error(T(387));s=e.pendingProps,r=e.memoizedState,i=r.element,kp(t,e),po(e,s,null,n);var o=e.memoizedState;if(s=o.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=Ts(Error(T(423)),e),e=md(t,e,s,n,i);break e}else if(s!==i){i=Ts(Error(T(424)),e),e=md(t,e,s,n,i);break e}else for(qe=dn(e.stateNode.containerInfo.firstChild),Ge=e,re=!0,ft=null,n=bp(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ps(),s===i){e=$t(t,e,n);break e}Ae(t,e,s,n)}e=e.child}return e;case 5:return _p(e),t===null&&bl(e),s=e.type,i=e.pendingProps,r=t!==null?t.memoizedProps:null,o=i.children,ml(s,i)?o=null:r!==null&&ml(s,r)&&(e.flags|=32),Xp(t,e),Ae(t,e,o,n),e.child;case 6:return t===null&&bl(e),null;case 13:return qp(t,e,n);case 4:return Tc(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Ms(e,null,s,n):Ae(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:dt(s,i),hd(t,e,s,i,n);case 7:return Ae(t,e,e.pendingProps,n),e.child;case 8:return Ae(t,e,e.pendingProps.children,n),e.child;case 12:return Ae(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,r=e.memoizedProps,o=i.value,ne(ho,s._currentValue),s._currentValue=o,r!==null)if(gt(r.value,o)){if(r.children===i.children&&!Ue.current){e=$t(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(r.tag===1){l=Ft(-1,n&-n),l.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),wl(r.return,n,e),a.lanes|=n;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),wl(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Ae(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,ws(e,n),i=at(i),s=s(i),e.flags|=1,Ae(t,e,s,n),e.child;case 14:return s=e.type,i=dt(s,e.pendingProps),i=dt(s.type,i),fd(t,e,s,i,n);case 15:return Qp(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:dt(s,i),$r(t,e),e.tag=1,Qe(s)?(t=!0,lo(e)):t=!1,ws(e,n),$p(e,s,i),_l(e,s,i,n),Nl(null,e,s,!0,t,n);case 19:return Gp(t,e,n);case 22:return Yp(t,e,n)}throw Error(T(156,e.tag))};function fm(t,e){return Bf(t,e)}function $x(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(t,e,n,s){return new $x(t,e,n,s)}function Qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vx(t){if(typeof t=="function")return Qc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dc)return 11;if(t===hc)return 14}return 2}function mn(t,e){var n=t.alternate;return n===null?(n=it(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qr(t,e,n,s,i,r){var o=2;if(s=t,typeof t=="function")Qc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case os:return Fn(n.children,i,r,e);case uc:o=8,i|=8;break;case Ya:return t=it(12,n,e,i|2),t.elementType=Ya,t.lanes=r,t;case Xa:return t=it(13,n,e,i),t.elementType=Xa,t.lanes=r,t;case Ka:return t=it(19,n,e,i),t.elementType=Ka,t.lanes=r,t;case _f:return Yo(n,i,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wf:o=10;break e;case kf:o=9;break e;case dc:o=11;break e;case hc:o=14;break e;case Kt:o=16,s=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=it(o,n,e,i),e.elementType=t,e.type=s,e.lanes=r,e}function Fn(t,e,n,s){return t=it(7,t,s,e),t.lanes=n,t}function Yo(t,e,n,s){return t=it(22,t,s,e),t.elementType=_f,t.lanes=n,t.stateNode={isHidden:!1},t}function Pa(t,e,n){return t=it(6,t,null,e),t.lanes=n,t}function Ma(t,e,n){return e=it(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ux(t,e,n,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ca(0),this.expirationTimes=ca(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ca(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Yc(t,e,n,s,i,r,o,a,l){return t=new Ux(t,e,n,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=it(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ec(r),t}function Qx(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rs,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function pm(t){if(!t)return vn;t=t._reactInternals;e:{if(Jn(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(Qe(n))return pp(t,n,e)}return e}function mm(t,e,n,s,i,r,o,a,l){return t=Yc(n,s,!0,t,i,r,o,a,l),t.context=pm(null),n=t.current,s=Oe(),i=pn(n),r=Ft(s,i),r.callback=e??null,hn(n,r,i),t.current.lanes=i,Ji(t,i,s),Ye(t,s),t}function Xo(t,e,n,s){var i=e.current,r=Oe(),o=pn(i);return n=pm(n),e.context===null?e.context=n:e.pendingContext=n,e=Ft(r,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=hn(i,e,o),t!==null&&(mt(t,i,o,r),Br(t,i,o)),o}function ko(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xc(t,e){jd(t,e),(t=t.alternate)&&jd(t,e)}function Yx(){return null}var gm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kc(t){this._internalRoot=t}Ko.prototype.render=Kc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));Xo(t,e,null,null)};Ko.prototype.unmount=Kc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yn(function(){Xo(null,t,null,null)}),e[Wt]=null}};function Ko(t){this._internalRoot=t}Ko.prototype.unstable_scheduleHydration=function(t){if(t){var e=Yf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gt.length&&e!==0&&e<Gt[n].priority;n++);Gt.splice(n,0,t),n===0&&Kf(t)}};function qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nd(){}function Xx(t,e,n,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var u=ko(o);r.call(u)}}var o=mm(e,s,t,0,null,!1,!1,"",Nd);return t._reactRootContainer=o,t[Wt]=o.current,Di(t.nodeType===8?t.parentNode:t),Yn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var a=s;s=function(){var u=ko(l);a.call(u)}}var l=Yc(t,0,!1,null,null,!1,!1,"",Nd);return t._reactRootContainer=l,t[Wt]=l.current,Di(t.nodeType===8?t.parentNode:t),Yn(function(){Xo(e,l,n,s)}),l}function Go(t,e,n,s,i){var r=n._reactRootContainer;if(r){var o=r;if(typeof i=="function"){var a=i;i=function(){var l=ko(o);a.call(l)}}Xo(e,o,t,i)}else o=Xx(n,e,t,i,s);return ko(o)}Uf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=si(e.pendingLanes);n!==0&&(mc(e,n|1),Ye(e,fe()),!(Q&6)&&(Ds=fe()+500,_n()))}break;case 13:Yn(function(){var s=Ht(t,1);if(s!==null){var i=Oe();mt(s,t,1,i)}}),Xc(t,1)}};gc=function(t){if(t.tag===13){var e=Ht(t,134217728);if(e!==null){var n=Oe();mt(e,t,134217728,n)}Xc(t,134217728)}};Qf=function(t){if(t.tag===13){var e=pn(t),n=Ht(t,e);if(n!==null){var s=Oe();mt(n,t,e,s)}Xc(t,e)}};Yf=function(){return Z};Xf=function(t,e){var n=Z;try{return Z=t,e()}finally{Z=n}};rl=function(t,e,n){switch(e){case"input":if(Ja(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=Wo(s);if(!i)throw Error(T(90));jf(s),Ja(s,i)}}}break;case"textarea":Cf(t,n);break;case"select":e=n.value,e!=null&&xs(t,!!n.multiple,e,!1)}};Af=$c;Of=Yn;var Kx={usingClientEntryPoint:!1,Events:[er,us,Wo,Df,Lf,$c]},Ks={findFiberByHostInstance:An,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qx={bundleType:Ks.bundleType,version:Ks.version,rendererPackageName:Ks.rendererPackageName,rendererConfig:Ks.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=If(t),t===null?null:t.stateNode},findFiberByHostInstance:Ks.findFiberByHostInstance||Yx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var br=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!br.isDisabled&&br.supportsFiber)try{zo=br.inject(qx),Nt=br}catch{}}Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kx;Ze.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qc(e))throw Error(T(200));return Qx(t,e,null,n)};Ze.createRoot=function(t,e){if(!qc(t))throw Error(T(299));var n=!1,s="",i=gm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Yc(t,1,!1,null,null,n,!1,s,i),t[Wt]=e.current,Di(t.nodeType===8?t.parentNode:t),new Kc(e)};Ze.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=If(e),t=t===null?null:t.stateNode,t};Ze.flushSync=function(t){return Yn(t)};Ze.hydrate=function(t,e,n){if(!qo(e))throw Error(T(200));return Go(null,t,e,!0,n)};Ze.hydrateRoot=function(t,e,n){if(!qc(t))throw Error(T(405));var s=n!=null&&n.hydratedSources||null,i=!1,r="",o=gm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=mm(e,null,t,1,n??null,i,!1,r,o),t[Wt]=e.current,Di(t),s)for(t=0;t<s.length;t++)n=s[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ko(e)};Ze.render=function(t,e,n){if(!qo(e))throw Error(T(200));return Go(null,t,e,!1,n)};Ze.unmountComponentAtNode=function(t){if(!qo(t))throw Error(T(40));return t._reactRootContainer?(Yn(function(){Go(null,null,t,!1,function(){t._reactRootContainer=null,t[Wt]=null})}),!0):!1};Ze.unstable_batchedUpdates=$c;Ze.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!qo(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return Go(t,e,n,!1,s)};Ze.version="18.3.1-next-f1338f8080-20240426";function xm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xm)}catch(t){console.error(t)}}xm(),xf.exports=Ze;var Gx=xf.exports,Cd=Gx;Ua.createRoot=Cd.createRoot,Ua.hydrateRoot=Cd.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wi(){return Wi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Wi.apply(this,arguments)}var tn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tn||(tn={}));const Pd="popstate";function Jx(t){t===void 0&&(t={});function e(s,i){let{pathname:r,search:o,hash:a}=s.location;return Il("",{pathname:r,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:_o(i)}return ey(e,n,null,t)}function me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Zx(){return Math.random().toString(36).substr(2,8)}function Md(t,e){return{usr:t.state,key:t.key,idx:e}}function Il(t,e,n,s){return n===void 0&&(n=null),Wi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bs(e):e,{state:n,key:e&&e.key||s||Zx()})}function _o(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Bs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function ey(t,e,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:r=!1}=s,o=i.history,a=tn.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Wi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=tn.Pop;let b=d(),g=b==null?null:b-u;u=b,l&&l({action:a,location:m.location,delta:g})}function f(b,g){a=tn.Push;let x=Il(m.location,b,g);n&&n(x,b),u=d()+1;let y=Md(x,u),w=m.createHref(x);try{o.pushState(y,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(w)}r&&l&&l({action:a,location:m.location,delta:1})}function p(b,g){a=tn.Replace;let x=Il(m.location,b,g);n&&n(x,b),u=d();let y=Md(x,u),w=m.createHref(x);o.replaceState(y,"",w),r&&l&&l({action:a,location:m.location,delta:0})}function v(b){let g=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof b=="string"?b:_o(b);return x=x.replace(/ $/,"%20"),me(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let m={get action(){return a},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Pd,h),l=b,()=>{i.removeEventListener(Pd,h),l=null}},createHref(b){return e(i,b)},createURL:v,encodeLocation(b){let g=v(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(b){return o.go(b)}};return m}var Ed;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ed||(Ed={}));function ty(t,e,n){return n===void 0&&(n="/"),ny(t,e,n,!1)}function ny(t,e,n,s){let i=typeof e=="string"?Bs(e):e,r=Jc(i.pathname||"/",n);if(r==null)return null;let o=ym(t);sy(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=py(r);a=hy(o[l],u,s)}return a}function ym(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(r,o,a)=>{let l={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};l.relativePath.startsWith("/")&&(me(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let u=gn([s,l.relativePath]),d=n.concat(l);r.children&&r.children.length>0&&(me(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ym(r.children,e,d,u)),!(r.path==null&&!r.index)&&e.push({path:u,score:uy(u,r.index),routesMeta:d})};return t.forEach((r,o)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))i(r,o);else for(let l of vm(r.path))i(r,o,l)}),e}function vm(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,i=n.endsWith("?"),r=n.replace(/\?$/,"");if(s.length===0)return i?[r,""]:[r];let o=vm(s.join("/")),a=[];return a.push(...o.map(l=>l===""?r:[r,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function sy(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dy(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const iy=/^:[\w-]+$/,ry=3,oy=2,ay=1,ly=10,cy=-2,Td=t=>t==="*";function uy(t,e){let n=t.split("/"),s=n.length;return n.some(Td)&&(s+=cy),e&&(s+=oy),n.filter(i=>!Td(i)).reduce((i,r)=>i+(iy.test(r)?ry:r===""?ay:ly),s)}function dy(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function hy(t,e,n){n===void 0&&(n=!1);let{routesMeta:s}=t,i={},r="/",o=[];for(let a=0;a<s.length;++a){let l=s[a],u=a===s.length-1,d=r==="/"?e:e.slice(r.length)||"/",h=Dd({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!s[s.length-1].route.index&&(h=Dd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:gn([r,h.pathname]),pathnameBase:vy(gn([r,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(r=gn([r,h.pathnameBase]))}return o}function Dd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=fy(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let r=i[0],o=r.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let m=a[h]||"";o=r.slice(0,r.length-m.length).replace(/(.)\/+$/,"$1")}const v=a[h];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:r,pathnameBase:o,pattern:t}}function fy(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Gc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(s.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function py(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Jc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}const my=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gy=t=>my.test(t);function xy(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?Bs(t):t,r;if(n)if(gy(n))r=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Gc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?r=Ld(n.substring(1),"/"):r=Ld(n,e)}else r=e;return{pathname:r,search:by(s),hash:wy(i)}}function Ld(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ea(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yy(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zc(t,e){let n=yy(t);return e?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function eu(t,e,n,s){s===void 0&&(s=!1);let i;typeof t=="string"?i=Bs(t):(i=Wi({},t),me(!i.pathname||!i.pathname.includes("?"),Ea("?","pathname","search",i)),me(!i.pathname||!i.pathname.includes("#"),Ea("#","pathname","hash",i)),me(!i.search||!i.search.includes("#"),Ea("#","search","hash",i)));let r=t===""||i.pathname==="",o=r?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=xy(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(r||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const gn=t=>t.join("/").replace(/\/\/+/g,"/"),vy=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),by=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wy=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ky(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bm=["post","put","patch","delete"];new Set(bm);const _y=["get",...bm];new Set(_y);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hi(){return Hi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Hi.apply(this,arguments)}const tu=_.createContext(null),Sy=_.createContext(null),Sn=_.createContext(null),Jo=_.createContext(null),Mt=_.createContext({outlet:null,matches:[],isDataRoute:!1}),wm=_.createContext(null);function jy(t,e){let{relative:n}=e===void 0?{}:e;Ws()||me(!1);let{basename:s,navigator:i}=_.useContext(Sn),{hash:r,pathname:o,search:a}=_m(t,{relative:n}),l=o;return s!=="/"&&(l=o==="/"?s:gn([s,o])),i.createHref({pathname:l,search:a,hash:r})}function Ws(){return _.useContext(Jo)!=null}function Ut(){return Ws()||me(!1),_.useContext(Jo).location}function km(t){_.useContext(Sn).static||_.useLayoutEffect(t)}function yt(){let{isDataRoute:t}=_.useContext(Mt);return t?Wy():Ny()}function Ny(){Ws()||me(!1);let t=_.useContext(tu),{basename:e,future:n,navigator:s}=_.useContext(Sn),{matches:i}=_.useContext(Mt),{pathname:r}=Ut(),o=JSON.stringify(Zc(i,n.v7_relativeSplatPath)),a=_.useRef(!1);return km(()=>{a.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){s.go(u);return}let h=eu(u,JSON.parse(o),r,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:gn([e,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[e,s,o,r,t])}const Cy=_.createContext(null);function Py(t){let e=_.useContext(Mt).outlet;return e&&_.createElement(Cy.Provider,{value:t},e)}function My(){let{matches:t}=_.useContext(Mt),e=t[t.length-1];return e?e.params:{}}function _m(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=_.useContext(Sn),{matches:i}=_.useContext(Mt),{pathname:r}=Ut(),o=JSON.stringify(Zc(i,s.v7_relativeSplatPath));return _.useMemo(()=>eu(t,JSON.parse(o),r,n==="path"),[t,o,r,n])}function Ey(t,e){return Ty(t,e)}function Ty(t,e,n,s){Ws()||me(!1);let{navigator:i}=_.useContext(Sn),{matches:r}=_.useContext(Mt),o=r[r.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ut(),d;if(e){var h;let b=typeof e=="string"?Bs(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||me(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=ty(t,{pathname:p}),m=Ry(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:gn([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:gn([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),r,n,s);return e&&m?_.createElement(Jo.Provider,{value:{location:Hi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:tn.Pop}},m):m}function Dy(){let t=By(),e=ky(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},r=null;return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,r)}const Ly=_.createElement(Dy,null);class Ay extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(Mt.Provider,{value:this.props.routeContext},_.createElement(wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Oy(t){let{routeContext:e,match:n,children:s}=t,i=_.useContext(tu);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Mt.Provider,{value:e},s)}function Ry(t,e,n,s){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var r;if(!n)return null;if(n.errors)t=n.matches;else if((r=s)!=null&&r.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||me(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,v=!1,m=null,b=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,m=h.route.errorElement||Ly,l&&(u<0&&f===0?(Hy("route-fallback",!1),v=!0,b=null):u===f&&(v=!0,b=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),x=()=>{let y;return p?y=m:v?y=b:h.route.Component?y=_.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,_.createElement(Oy,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?_.createElement(Ay,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var Sm=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Sm||{}),So=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(So||{});function zy(t){let e=_.useContext(tu);return e||me(!1),e}function Iy(t){let e=_.useContext(Sy);return e||me(!1),e}function Fy(t){let e=_.useContext(Mt);return e||me(!1),e}function jm(t){let e=Fy(),n=e.matches[e.matches.length-1];return n.route.id||me(!1),n.route.id}function By(){var t;let e=_.useContext(wm),n=Iy(So.UseRouteError),s=jm(So.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function Wy(){let{router:t}=zy(Sm.UseNavigateStable),e=jm(So.UseNavigateStable),n=_.useRef(!1);return km(()=>{n.current=!0}),_.useCallback(function(i,r){r===void 0&&(r={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Hi({fromRouteId:e},r)))},[t,e])}const Ad={};function Hy(t,e,n){!e&&!Ad[t]&&(Ad[t]=!0)}function $y(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Od(t){let{to:e,replace:n,state:s,relative:i}=t;Ws()||me(!1);let{future:r,static:o}=_.useContext(Sn),{matches:a}=_.useContext(Mt),{pathname:l}=Ut(),u=yt(),d=eu(e,Zc(a,r.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return _.useEffect(()=>u(JSON.parse(h),{replace:n,state:s,relative:i}),[u,h,i,n,s]),null}function Vy(t){return Py(t.context)}function Fe(t){me(!1)}function Uy(t){let{basename:e="/",children:n=null,location:s,navigationType:i=tn.Pop,navigator:r,static:o=!1,future:a}=t;Ws()&&me(!1);let l=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:r,static:o,future:Hi({v7_relativeSplatPath:!1},a)}),[l,a,r,o]);typeof s=="string"&&(s=Bs(s));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:v="default"}=s,m=_.useMemo(()=>{let b=Jc(d,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:v},navigationType:i}},[l,d,h,f,p,v,i]);return m==null?null:_.createElement(Sn.Provider,{value:u},_.createElement(Jo.Provider,{children:n,value:m}))}function Qy(t){let{children:e,location:n}=t;return Ey(Fl(e),n)}new Promise(()=>{});function Fl(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(s,i)=>{if(!_.isValidElement(s))return;let r=[...e,i];if(s.type===_.Fragment){n.push.apply(n,Fl(s.props.children,r));return}s.type!==Fe&&me(!1),!s.props.index||!s.props.children||me(!1);let o={id:s.props.id||r.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Fl(s.props.children,r)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bl(){return Bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Bl.apply(this,arguments)}function Yy(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,r;for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Xy(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ky(t,e){return t.button===0&&(!e||e==="_self")&&!Xy(t)}function Wl(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(i=>[n,i]):[[n,s]])},[]))}function qy(t,e){let n=Wl(t);return e&&e.forEach((s,i)=>{n.has(i)||e.getAll(i).forEach(r=>{n.append(i,r)})}),n}const Gy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Jy="6";try{window.__reactRouterVersion=Jy}catch{}const Zy="startTransition",Rd=Bg[Zy];function ev(t){let{basename:e,children:n,future:s,window:i}=t,r=_.useRef();r.current==null&&(r.current=Jx({window:i,v5Compat:!0}));let o=r.current,[a,l]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=_.useCallback(h=>{u&&Rd?Rd(()=>l(h)):l(h)},[l,u]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.useEffect(()=>$y(s),[s]),_.createElement(Uy,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:s})}const tv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zn=_.forwardRef(function(e,n){let{onClick:s,relative:i,reloadDocument:r,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=Yy(e,Gy),{basename:p}=_.useContext(Sn),v,m=!1;if(typeof u=="string"&&nv.test(u)&&(v=u,tv))try{let y=new URL(window.location.href),w=u.startsWith("//")?new URL(y.protocol+u):new URL(u),k=Jc(w.pathname,p);w.origin===y.origin&&k!=null?u=k+w.search+w.hash:m=!0}catch{}let b=jy(u,{relative:i}),g=sv(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function x(y){s&&s(y),y.defaultPrevented||g(y)}return _.createElement("a",Bl({},f,{href:v||b,onClick:m||r?s:x,ref:n,target:l}))});var zd;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(zd||(zd={}));var Id;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Id||(Id={}));function sv(t,e){let{target:n,replace:s,state:i,preventScrollReset:r,relative:o,viewTransition:a}=e===void 0?{}:e,l=yt(),u=Ut(),d=_m(t,{relative:o});return _.useCallback(h=>{if(Ky(h,n)){h.preventDefault();let f=s!==void 0?s:_o(u)===_o(d);l(t,{replace:f,state:i,preventScrollReset:r,relative:o,viewTransition:a})}},[u,l,d,s,i,n,t,r,o,a])}function iv(t){let e=_.useRef(Wl(t)),n=_.useRef(!1),s=Ut(),i=_.useMemo(()=>qy(s.search,n.current?null:e.current),[s.search]),r=yt(),o=_.useCallback((a,l)=>{const u=Wl(typeof a=="function"?a(i):a);n.current=!0,r("?"+u,l)},[r,i]);return[i,o]}const Nm=_.createContext(void 0),rv=({children:t})=>{const[e,n]=_.useState(()=>{const b=localStorage.getItem("user");return b?JSON.parse(b):null}),[s,i]=_.useState(()=>localStorage.getItem("accessToken")),[r,o]=_.useState(()=>localStorage.getItem("refreshToken")),[a,l]=_.useState(()=>{const b=localStorage.getItem("darkMode");return b?JSON.parse(b):!1}),u=_.useCallback(async()=>{if(!r)return!1;try{const b=await fetch("http://localhost:3001/api/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:r})});if(b.ok){const g=await b.json();return i(g.accessToken),o(g.refreshToken),!0}else return console.error("Token refresh failed:",b.status),!1}catch(b){return console.error("Token refresh error:",b),!1}},[r]),d=_.useCallback(async()=>{if(s)try{await fetch("http://localhost:3001/api/logout",{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})}catch(b){console.error("Logout API call failed:",b)}n(null),i(null),o(null),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")},[s]),h=_.useCallback(async()=>{if(s)try{await fetch("http://localhost:3001/api/logout-all",{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})}catch(b){console.error("Logout all API call failed:",b)}n(null),i(null),o(null),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")},[s]),f=()=>{l(b=>!b)},p=_.useCallback((b,g,x,y,w)=>{n({email:b,department:g,isAdmin:x}),i(y),o(w)},[]),v=_.useCallback(async()=>{if(!s)return!1;try{const b=await fetch("http://localhost:3001/api/session-status",{headers:{Authorization:`Bearer ${s}`}});return b.ok?(await b.json()).valid:b.status===401?await u():!1}catch(b){return console.error("Session status check error:",b),!1}},[s,u]);_.useEffect(()=>{if(s&&r){const g=setInterval(async()=>{try{await u()?console.log("Token refreshed successfully"):(console.warn("Token refresh failed, logging out user"),d())}catch(x){console.error("Auto token refresh failed:",x),d()}},78e4);return()=>clearInterval(g)}},[s,r,u,d]),_.useEffect(()=>{if(e&&s){const b=setInterval(async()=>{try{await v()||d()}catch(g){console.error("Session status check failed:",g)}},3e5);return()=>clearInterval(b)}},[e,s,v,d]),_.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(a)),a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[a]),_.useEffect(()=>{e?localStorage.setItem("user",JSON.stringify(e)):localStorage.removeItem("user")},[e]),_.useEffect(()=>{s?localStorage.setItem("accessToken",s):localStorage.removeItem("accessToken")},[s]),_.useEffect(()=>{r?localStorage.setItem("refreshToken",r):localStorage.removeItem("refreshToken")},[r]);const m={user:e,accessToken:s,refreshToken:r,isDarkMode:a,toggleDarkMode:f,login:p,logout:d,logoutAll:h,refreshAccessToken:u,checkSessionStatus:v};return c.jsx(Nm.Provider,{value:m,children:t})},vt=()=>{const t=_.useContext(Nm);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};function Yt({children:t,requireAuth:e=!0,requireAdmin:n=!1}){const{user:s}=vt(),i=Ut();return e&&!s?c.jsx(Od,{to:"/login",state:{from:i},replace:!0}):n&&(!s||!s.isAdmin)?c.jsx(Od,{to:"/dashboard",replace:!0}):c.jsx(c.Fragment,{children:t})}/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cm=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var av={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:r,iconNode:o,...a},l)=>_.createElement("svg",{ref:l,...av,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:Cm("lucide",i),...a},[...o.map(([u,d])=>_.createElement(u,d)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(t,e)=>{const n=_.forwardRef(({className:s,...i},r)=>_.createElement(lv,{ref:r,iconNode:e,className:Cm(`lucide-${ov(t)}`,s),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=ee("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=ee("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=ee("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=ee("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=ee("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=ee("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=ee("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=ee("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=ee("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function _v(...t){return t.filter(Boolean).join(" ")}const B=oc.forwardRef(({variant:t="primary",size:e="md",disabled:n=!1,loading:s=!1,children:i,className:r,href:o,...a},l)=>{const u="inline-flex items-center justify-center font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",d={primary:"bg-bdo-red text-white hover:bg-red-700 focus:ring-bdo-red",secondary:"border border-bdo-red text-bdo-red hover:bg-bdo-red hover:text-white focus:ring-bdo-red",tertiary:"text-bdo-blue hover:text-blue-700 focus:ring-bdo-blue",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-gray-500"},h={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-base",lg:"h-12 px-6 text-lg"},f=_v(u,d[t],h[e],r);return o?c.jsx("a",{href:o,className:f,children:i}):c.jsxs("button",{className:f,disabled:n||s,ref:l,...a,children:[s&&c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i]})});B.displayName="Button";function Sv(){const{user:t,logout:e,logoutAll:n,isDarkMode:s,toggleDarkMode:i}=vt(),r=yt(),o=Ut(),[a,l]=_.useState([]),[u,d]=_.useState(!1),[h,f]=_.useState(0),[p,v]=_.useState(!1),m=t!=null&&t.isAdmin?[{path:"/admin",label:"Dashboard",icon:As},{path:"/admin/participants",label:"Participants",icon:Pm},{path:"/admin/results",label:"View Results",icon:Ls},{path:"/admin/create",label:"Create Session",icon:jo}]:[{path:"/dashboard",label:"Active Quiz",icon:dv},{path:"/history",label:"My History",icon:Ls}],b=w=>{r(w),window.innerWidth<1024&&v(!1)};_.useEffect(()=>{t&&g()},[t]);const g=async()=>{if(t)try{const w=await fetch(`http://localhost:3001/api/user/${t.email}/notifications`);if(w.ok){const k=await w.json();l(k.notifications);const j=k.notifications.filter(N=>!N.read).length;f(j)}}catch(w){console.error("Failed to fetch notifications:",w)}},x=async w=>{try{await fetch(`http://localhost:3001/api/user/${t==null?void 0:t.email}/notifications/${w}/read`,{method:"PATCH"}),l(k=>k.map(j=>j.id===w?{...j,read:!0}:j)),f(k=>Math.max(0,k-1))}catch(k){console.error("Failed to mark notification as read:",k)}},y=()=>{d(!u)};return t?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"lg:hidden fixed left-0 top-0 right-0 h-16 bg-white border-b border-gray-200 z-50 px-4 flex items-center justify-between",children:[c.jsx("img",{src:"/bdo_logo.png",alt:"BDO Logo",className:"h-10 w-auto object-contain"}),c.jsx("button",{type:"button",onClick:()=>v(!0),className:"p-2 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-red-500","aria-label":"Open menu",children:c.jsx(fv,{className:"h-6 w-6"})})]}),p&&c.jsx("button",{type:"button",className:"lg:hidden fixed inset-0 bg-gray-900/50 z-40","aria-label":"Close menu",onClick:()=>v(!1)}),c.jsx("div",{className:`fixed left-0 top-16 lg:top-0 h-[calc(100%-4rem)] lg:h-full w-72 lg:w-64 bg-white border-r border-gray-200 shadow-lg transition-transform duration-300 ease-in-out z-50 ${p?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[c.jsx("img",{src:"/bdo_logo.png",alt:"BDO Logo",className:"h-10 lg:h-12 w-auto object-contain"}),c.jsx("button",{type:"button",onClick:()=>v(!1),className:"lg:hidden p-2 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-red-500","aria-label":"Close menu",children:c.jsx(Hl,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"flex-1 px-4 py-6 space-y-2",role:"navigation","aria-label":"Main navigation",children:m.map(w=>{const k=w.icon,j=o.pathname===w.path;return c.jsxs("button",{onClick:()=>b(w.path),onKeyDown:N=>{(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),b(w.path))},className:`w-full flex items-center px-4 py-3 text-left rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 ${j?"bg-red-50 text-red-700 border-r-4 border-red-500":"text-gray-700 hover:bg-gray-100 hover:text-red-600"}`,"aria-current":j?"page":void 0,"aria-label":`${w.label} ${j?"(current page)":""}`,children:[c.jsx(k,{className:"h-5 w-5 mr-3","aria-hidden":"true"}),c.jsx("span",{className:"font-medium",children:w.label})]},w.path)})}),t&&c.jsxs("div",{className:"px-4 py-4 border-t border-gray-200 bg-red-50",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[c.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white font-bold text-sm",children:t.email.charAt(0).toUpperCase()})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-red-900 truncate",children:t.email}),c.jsxs("p",{className:"text-xs text-red-700",children:[t.department," ",t.isAdmin&&"(Admin)"]})]}),c.jsxs("button",{onClick:y,className:"relative p-1 text-red-600 hover:text-red-800",title:"Notifications",children:[c.jsx(cv,{className:"h-5 w-5"}),h>0&&c.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:h>99?"99+":h})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(B,{variant:"outline",size:"sm",onClick:i,className:"p-2 border-red-300 text-red-600 hover:bg-red-100",title:s?"Switch to Light Mode":"Switch to Dark Mode",children:s?c.jsx(vv,{className:"h-4 w-4"}):c.jsx(pv,{className:"h-4 w-4"})}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsxs(B,{variant:"outline",size:"sm",onClick:e,className:"border-red-300 text-red-600 hover:bg-red-100",children:[c.jsx(Wd,{className:"h-4 w-4 mr-2"}),"Logout"]}),c.jsxs(B,{variant:"outline",size:"sm",onClick:n,className:"border-orange-300 text-orange-600 hover:bg-orange-100",children:[c.jsx(Wd,{className:"h-4 w-4 mr-2"}),"Logout All"]})]})]})]}),u&&t&&c.jsxs("div",{className:"absolute lg:left-64 left-4 right-4 lg:right-auto top-2 lg:top-0 lg:w-80 max-h-96 bg-white border border-gray-200 rounded-lg shadow-xl z-[60] overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),c.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(Hl,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"max-h-80 overflow-y-auto",children:a.length===0?c.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications yet"}):a.map(w=>c.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${w.read?"":"bg-blue-50"}`,onClick:()=>x(w.id),children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900",children:w.title}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.message}),c.jsx("p",{className:"text-xs text-gray-400 mt-2",children:new Date(w.timestamp).toLocaleDateString()})]}),!w.read&&c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full ml-2 mt-2"})]})},w.id))})]})]})})]}):null}function jv(){const{user:t}=vt();return c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[c.jsx(Sv,{}),c.jsx("main",{className:`px-4 sm:px-6 lg:px-8 py-8 ${t?"pt-24 lg:pt-8 lg:ml-64":""}`,children:c.jsx(Vy,{})})]})}function Nv(){const{user:t}=vt();return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[c.jsxs("div",{className:"hero-section relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-bdo-navy to-bdo-blue opacity-95"}),c.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:c.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{className:"text-white",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("img",{src:"/bdo_logo.png",alt:"BDO Logo",className:"h-16 w-auto object-contain filter brightness-0 invert"}),c.jsx("div",{className:"border-l-2 border-white pl-4",children:c.jsx("h1",{className:"text-5xl md:text-6xl font-bold tracking-tight",children:"Skills Pulse"})})]}),c.jsxs("div",{className:"space-y-4 text-gray-200",children:[c.jsx("p",{className:"text-lg leading-relaxed",children:"A comprehensive platform designed to measure knowledge retention, practical application readiness, and professional development progress across BDO's workforce."}),c.jsxs("div",{className:"flex flex-wrap gap-4",children:[c.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-white bg-opacity-20",children:"Knowledge Retention Validation"}),c.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-white bg-opacity-20",children:"Competency Assessment"}),c.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-white bg-opacity-20",children:"Professional Development"})]})]}),c.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4",children:[c.jsx("a",{href:"/login",className:"bg-white text-bdo-navy px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-all transform hover:scale-105 shadow-lg",children:"Get Started"}),c.jsx("a",{href:"#about",className:"border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-bdo-navy transition-all",children:"Learn More"})]})]}),c.jsx("div",{className:"relative",children:c.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Welcome to BDO Skills Pulse"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Your professional development and competency validation platform"})]}),c.jsxs("div",{className:"grid gap-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),c.jsx("span",{className:"font-medium text-gray-900",children:"Knowledge Retention Validation"})]}),c.jsx("span",{className:"text-gray-500",children:""})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),c.jsx("span",{className:"font-medium text-gray-900",children:"Competency Assessment"})]}),c.jsx("span",{className:"text-gray-500",children:""})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),c.jsx("span",{className:"font-medium text-gray-900",children:"Professional Development Tracking"})]}),c.jsx("span",{className:"text-gray-500",children:""})]})]}),c.jsxs("div",{className:"text-center text-sm text-gray-500 border-t pt-4",children:[c.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Ready to get started?"}),c.jsx("p",{className:"text-gray-600",children:"Access your personalized dashboard to begin your competency journey"})]})]})})})]})})]}),c.jsxs("div",{id:"about",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"About BDO Skills Pulse"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Purpose and Objectives: Building a Learning Organization of Excellence"})]}),c.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 mb-16",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border-t-4 border-bdo-navy",children:[c.jsx("div",{className:"w-12 h-12 bg-bdo-navy bg-opacity-10 rounded-lg flex items-center justify-center mb-6",children:c.jsx("svg",{className:"w-6 h-6 text-bdo-navy",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Our Purpose"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"BDO Skills Pulse serves as a comprehensive training effectiveness and competency validation platform designed to measure knowledge retention, practical application readiness, and professional development progress across BDO's workforce. The application bridges the critical gap between training delivery and actual workplace competency, ensuring that investments in employee development translate into measurable improvements in audit quality, client service, and regulatory compliance."})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border-t-4 border-bdo-blue",children:[c.jsx("div",{className:"w-12 h-12 bg-bdo-blue bg-opacity-10 rounded-lg flex items-center justify-center mb-6",children:c.jsx("svg",{className:"w-6 h-6 text-bdo-blue",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Core Objectives"}),c.jsxs("ul",{className:"space-y-3 text-gray-700",children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"w-2 h-2 bg-bdo-blue rounded-full mt-2 mr-3 flex-shrink-0"}),"Knowledge retention validation and competency assessment"]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"w-2 h-2 bg-bdo-blue rounded-full mt-2 mr-3 flex-shrink-0"}),"Risk mitigation and quality assurance through skill validation"]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"w-2 h-2 bg-bdo-blue rounded-full mt-2 mr-3 flex-shrink-0"}),"Career development pathway mapping and transparent progression"]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"w-2 h-2 bg-bdo-blue rounded-full mt-2 mr-3 flex-shrink-0"}),"Training ROI optimization and continuous improvement"]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border-t-4 border-bdo-red",children:[c.jsx("div",{className:"w-12 h-12 bg-bdo-red bg-opacity-10 rounded-lg flex items-center justify-center mb-6",children:c.jsx("svg",{className:"w-6 h-6 text-bdo-red",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Expected Outcomes"}),c.jsxs("ul",{className:"space-y-3 text-gray-700",children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"w-2 h-2 bg-bdo-red rounded-full mt-2 mr-3 flex-shrink-0"}),"Enhanced audit quality and reduced error rates"]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"w-2 h-2 bg-bdo-red rounded-full mt-2 mr-3 flex-shrink-0"}),"Improved client confidence through demonstrable staff competency"]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"w-2 h-2 bg-bdo-red rounded-full mt-2 mr-3 flex-shrink-0"}),"Reduced liability exposure from knowledge-based mistakes"]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"w-2 h-2 bg-bdo-red rounded-full mt-2 mr-3 flex-shrink-0"}),"Competitive advantage in talent retention and client acquisition"]})]})]})]}),c.jsx("div",{className:"bg-gradient-to-r from-bdo-navy to-bdo-blue rounded-2xl p-12 text-white",children:c.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-3xl font-bold mb-4",children:"Professional Standards Compliance"}),c.jsx("p",{className:"text-gray-200 leading-relaxed mb-6",children:"BDO Skills Pulse maintains documented evidence of employee competency in areas required by professional bodies (AICPA, IIA, ISACA) and regulatory authorities. This creates an audit trail demonstrating BDO's commitment to maintaining qualified staff and meeting continuing professional education (CPE) requirements."}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm",children:"AICPA"}),c.jsx("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm",children:"IIA"}),c.jsx("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm",children:"ISACA"}),c.jsx("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm",children:"CPE"})]})]}),c.jsx("div",{className:"text-right",children:c.jsx("blockquote",{className:"text-xl italic border-l-4 border-white border-opacity-30 pl-6",children:`"This application isn't simply about testingit's about building a learning organization where excellence is measured, recognized, and continuously developed."`})})]})})]}),t&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-bdo-red mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading your personalized BDO Skills Pulse experience..."})]})]})}function Cv(){const[t,e]=_.useState(""),[n,s]=_.useState(""),[i,r]=_.useState(""),[o,a]=_.useState(!1),{login:l}=vt(),u=yt(),d=Ut(),h=async f=>{var p,v;f.preventDefault(),a(!0),r("");try{const m=await fetch("http://localhost:3001/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}),b=await m.json();if(m.ok){l(b.email,b.department,b.isAdmin,b.accessToken,b.refreshToken);const g=((v=(p=d.state)==null?void 0:p.from)==null?void 0:v.pathname)||(b.isAdmin?"/admin":"/dashboard");u(g,{replace:!0})}else r(b.error||"Login failed")}catch{r("Network error. Please try again.")}finally{a(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("img",{src:"/BDO Corner preview.png",alt:"BDO Logo",className:"mx-auto h-16 w-auto"}),c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to BDO Skills Pulse"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Training Effectiveness & Competency Validation Platform"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[c.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm bg-white",placeholder:"Email address",value:t,onChange:f=>e(f.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm bg-white",placeholder:"Password",value:n,onChange:f=>s(f.target.value)})]})]}),i&&c.jsx("div",{className:"text-red-600 text-sm text-center bg-red-50 p-3 rounded",children:i}),c.jsx("div",{className:"flex items-center justify-between",children:c.jsx("div",{className:"text-sm",children:c.jsxs(zn,{to:"/password-reset",className:"font-medium text-red-600 hover:text-red-500 flex items-center",children:[c.jsx(hv,{className:"h-4 w-4 mr-1"}),"Forgot password?"]})})}),c.jsx("div",{children:c.jsx(B,{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:o?"Signing in...":"Sign in"})}),c.jsx("div",{className:"text-center",children:c.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 p-4 rounded",children:[c.jsx("strong",{children:"Test Credentials:"}),c.jsx("br",{}),"Admin: admin@bdo.co.zw / admin123",c.jsx("br",{}),"User: john.doe@bdo.co.zw / user123"]})})]})]})})}function Pv({targetTime:t,onComplete:e}){const[n,s]=_.useState(t-Date.now());_.useEffect(()=>{const o=setInterval(()=>{const a=t-Date.now();s(a),a<=0&&(clearInterval(o),e())},1e3);return()=>clearInterval(o)},[t,e]);const i=Math.floor(n/(1e3*60)),r=Math.floor(n%(1e3*60)/1e3);return n<=0?null:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-sm font-medium text-orange-600",children:"Retake available in:"}),c.jsxs("div",{className:"text-lg font-bold text-orange-700",children:[i,":",r.toString().padStart(2,"0")]})]})}function Mv(){const[t,e]=_.useState([]),[n,s]=_.useState(!0),[i,r]=_.useState(""),{user:o}=vt(),a=yt();_.useEffect(()=>{l()},[]);const l=async()=>{try{const f=await fetch("http://localhost:3001/api/sessions");if(f.ok){const p=await f.json();if(o){const v=await Promise.all(p.map(async m=>{try{const b=await fetch(`http://localhost:3001/api/user/${o.email}/submissions`),g=await fetch(`http://localhost:3001/api/user/${o.email}/session/${m.id}/retake-status`);if(b.ok){const y=(await b.json()).filter(w=>w.sessionId===m.id);if(y.length>0){const w=Math.min(...y.map(E=>E.score));let k={canRetake:!1,cooldownUntil:null,attempts:0};g.ok&&(k=await g.json());const j=Date.now(),N=k.cooldownUntil?new Date(k.cooldownUntil).getTime():0,S=N>j;return{...m,userHasCompleted:!0,userLowestScore:w,userCanRetake:k.canRetake&&!S,retakeCooldownUntil:S?N:null,retakeAttempts:k.attempts}}}}catch(b){console.error("Error checking submission status:",b)}return{...m,userHasCompleted:!1}}));e(v)}else e(p)}else r("Failed to load quiz sessions")}catch(f){r("Failed to load quiz sessions"),console.error("Error fetching sessions:",f)}finally{s(!1)}};if(n)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading quiz sessions..."})]});if(i)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-red-600 mb-4",children:i}),c.jsx(B,{onClick:l,children:"Try Again"})]});const u=async f=>{if(o)try{const p=await fetch(`http://localhost:3001/api/user/${o.email}/submissions`);if(p.ok){const m=(await p.json()).filter(x=>x.sessionId===f),b=Math.min(...m.map(x=>x.score));(await fetch(`http://localhost:3001/api/user/${o.email}/session/${f}/start-retake`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({score:b})})).ok?a(`/quiz/${f}?retake=true`):alert("Failed to start retake")}}catch(p){console.error("Error starting retake:",p),alert("Error starting retake")}},d=t.filter(f=>f.isActive),h=t.filter(f=>!f.isActive);return c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"BDO Skills Pulse - Quiz Sessions"}),c.jsx("p",{className:"text-gray-600",children:"Available competency validation sessions for professional development"})]}),d.length>0&&c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Active Sessions"}),c.jsx("div",{className:"space-y-4",children:d.map(f=>c.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 border ${f.userHasCompleted?"border-gray-200 opacity-75":"border-green-200"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:`text-xl font-semibold ${f.userHasCompleted?"text-gray-500":"text-gray-900"}`,children:f.name}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"}),f.userHasCompleted&&c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Completed"})]})]}),c.jsxs("div",{className:`space-y-1 mb-4 ${f.userHasCompleted?"text-gray-500":"text-gray-600"}`,children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Date:"})," ",new Date(f.date).toLocaleDateString()]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Time:"})," ",f.time]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Questions:"})," ",f.questions.length]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Participants:"})," ",f._count.responses]})]}),c.jsxs("div",{className:"flex gap-4",children:[f.userHasCompleted?c.jsxs("div",{className:"flex gap-2",children:[c.jsx(B,{onClick:()=>a(`/admin/results?session=${f.id}`),className:"bg-blue-600 hover:bg-blue-700",children:"View Results"}),f.userLowestScore&&f.userLowestScore<45&&(f.retakeCooldownUntil?c.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:c.jsx(Pv,{targetTime:f.retakeCooldownUntil,onComplete:()=>l()})}):f.retakeAttempts===0?c.jsx(B,{onClick:()=>u(f.id),className:"bg-orange-600 hover:bg-orange-700",children:"Retake Quiz"}):c.jsx("div",{className:"text-sm text-gray-500",children:"Retake completed"}))]}):c.jsx(B,{onClick:()=>a(`/quiz/${f.id}`),className:"bg-green-600 hover:bg-green-700",children:"Start Quiz"}),c.jsx(B,{variant:"outline",onClick:()=>a("/history"),children:"View My History"})]})]},f.id))})]}),h.length>0&&c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Upcoming Sessions"}),c.jsx("div",{className:"space-y-4",children:h.map(f=>c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:f.name}),c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Inactive"})]}),c.jsxs("div",{className:"text-gray-600 space-y-1 mb-4",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Date:"})," ",new Date(f.date).toLocaleDateString()]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Time:"})," ",f.time]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Questions:"})," ",f.questions.length]})]}),c.jsx("div",{className:"text-gray-500 text-sm",children:"This session is not yet active. Check back later or contact your administrator."})]},f.id))})]}),t.length===0&&c.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center border-2 border-dashed border-gray-300",children:[c.jsx("div",{className:"text-gray-500 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Quiz Sessions"}),c.jsx("p",{className:"text-gray-600",children:"There are currently no quiz sessions available. Check back later or contact your administrator."})]})]})}function Ev(){const[t,e]=_.useState([]),[n,s]=_.useState(!0);_.useEffect(()=>{i()},[]);const i=async()=>{try{const o=await fetch("http://localhost:3001/api/sessions");if(o.ok){const a=await o.json();e(a)}}catch(o){console.error("Failed to fetch sessions:",o)}finally{s(!1)}},r=async(o,a)=>{try{console.log(`Toggling session ${o} from ${a} to ${!a}`);const l=await fetch(`http://localhost:3001/api/sessions/${o}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!a})});console.log("Response status:",l.status);const u=await l.json();console.log("Response data:",u),l.ok?(console.log("Session updated successfully"),i()):console.error("Failed to update session:",u)}catch(l){console.error("Failed to toggle session status:",l)}};return n?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-bdo-red"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h1",{className:"text-3xl font-bold text-bdo-navy",children:"BDO Skills Pulse - Admin Dashboard"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx(zn,{to:"/admin/audit-logs",children:c.jsxs(B,{variant:"outline",children:[c.jsx(is,{className:"h-4 w-4 mr-2"}),"Audit Logs"]})}),c.jsx(zn,{to:"/admin/create",children:c.jsxs(B,{children:[c.jsx(jo,{className:"h-4 w-4 mr-2"}),"Create New Session"]})})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsx("h2",{className:"text-xl font-semibold text-bdo-navy",children:"Quiz Sessions"})}),c.jsx("div",{className:"p-6",children:t.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("p",{className:"text-gray-500 mb-4",children:"No quiz sessions created yet."}),c.jsx(zn,{to:"/admin/create",children:c.jsxs(B,{children:[c.jsx(jo,{className:"h-4 w-4 mr-2"}),"Create Your First Session"]})})]}):c.jsx("div",{className:"space-y-4",children:t.map(o=>c.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-semibold text-bdo-navy",children:o.name}),c.jsxs("p",{className:"text-gray-600",children:[new Date(o.date).toLocaleDateString()," at ",o.time]}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Created: ",new Date(o.createdAt).toLocaleDateString()]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:o.isActive?"Active":"Inactive"}),c.jsx(B,{variant:"outline",size:"sm",onClick:()=>r(o.id,o.isActive),children:o.isActive?c.jsxs(c.Fragment,{children:[c.jsx(mv,{className:"h-4 w-4 mr-1"}),"Deactivate"]}):c.jsxs(c.Fragment,{children:[c.jsx(gv,{className:"h-4 w-4 mr-1"}),"Activate"]})}),c.jsx(zn,{to:`/admin/results?session=${o.id}`,children:c.jsxs(B,{variant:"outline",size:"sm",children:[c.jsx(Ls,{className:"h-4 w-4 mr-1"}),"Results"]})})]})]},o.id))})})]})]})}function Tv(){const t=yt(),[e,n]=_.useState(""),[s,i]=_.useState(""),[r,o]=_.useState(""),[a,l]=_.useState("Tax"),[u,d]=_.useState([{id:"1",text:"",options:["","","",""],correctAnswer:0,type:"multiple-choice"}]),[h,f]=_.useState(!1),p=()=>{const x={id:Date.now().toString(),text:"",options:["","","",""],correctAnswer:0,type:"multiple-choice"};d([...u,x])},v=x=>{u.length>1&&d(u.filter(y=>y.id!==x))},m=(x,y,w)=>{d(u.map(k=>k.id===x?{...k,[y]:w}:k))},b=(x,y,w)=>{d(u.map(k=>k.id===x?{...k,options:k.options.map((j,N)=>N===y?w:j)}:k))},g=async x=>{x.preventDefault(),f(!0);try{if(!e.trim()||!s||!r){alert("Please fill in all session details");return}for(const k of u){if(!k.text.trim()){alert("Please fill in all question texts");return}if(k.options.some(j=>!j.trim())){alert("Please fill in all answer options");return}}const y={name:e,date:new Date(`${s}T${r}`).toISOString(),time:r,department:a,questions:u.map(k=>({id:k.id,text:k.text,options:k.options,correctAnswer:k.correctAnswer,type:k.type})),createdBy:"admin@bdo.co.zw",isActive:!1};if((await fetch("/api/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).ok){try{(await fetch(`/api/department/${a}/notifications`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"quiz_posted",title:"New Quiz Available",message:`ADMIN has posted a quiz for the ${a==="everyone"?"all departments":a+" department"} to be completed within the stated time lines. please address this ticket.`,adminEmail:"admin@bdo.co.zw",quizName:e})})).ok||console.error("Failed to send notifications")}catch(k){console.error("Error sending notifications:",k)}t("/admin")}else throw new Error("Failed to create session")}catch(y){console.error("Failed to create session:",y),alert("Failed to create session. Please try again.")}finally{f(!1)}};return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-3xl font-bold text-bdo-navy",children:"Create New Quiz Session"}),c.jsx(B,{variant:"outline",onClick:()=>t("/admin"),children:"Back to Dashboard"})]}),c.jsxs("form",{onSubmit:g,className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-bdo-navy mb-4",children:"Session Details"}),c.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Name"}),c.jsx("input",{type:"text",value:e,onChange:x=>n(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-bdo-red",placeholder:"e.g., Q1 2024 Tax Quiz",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Department"}),c.jsxs("select",{value:a,onChange:x=>l(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-bdo-red",required:!0,children:[c.jsx("option",{value:"Tax",children:"Tax Department"}),c.jsx("option",{value:"Audit",children:"Audit Department"}),c.jsx("option",{value:"everyone",children:"Everyone (All Departments)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",value:s,onChange:x=>i(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-bdo-red",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),c.jsx("input",{type:"time",value:r,onChange:x=>o(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-bdo-red",required:!0})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-bdo-navy",children:"Questions"}),c.jsxs(B,{type:"button",onClick:p,children:[c.jsx(jo,{className:"h-4 w-4 mr-2"}),"Add Question"]})]}),c.jsx("div",{className:"space-y-6",children:u.map((x,y)=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-medium text-bdo-navy",children:["Question ",y+1]}),u.length>1&&c.jsx(B,{type:"button",variant:"outline",size:"sm",onClick:()=>v(x.id),children:c.jsx(bv,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Text"}),c.jsx("textarea",{value:x.text,onChange:w=>m(x.id,"text",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-bdo-red",rows:3,placeholder:"Enter your question here...",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Answer Options"}),c.jsx("div",{className:"space-y-2",children:x.options.map((w,k)=>c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("input",{type:"radio",name:`correct-${x.id}`,checked:x.correctAnswer===k,onChange:()=>m(x.id,"correctAnswer",k),className:"text-bdo-red focus:ring-bdo-red"}),c.jsx("input",{type:"text",value:w,onChange:j=>b(x.id,k,j.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-bdo-red",placeholder:`Option ${k+1}`,required:!0})]},k))}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Select the radio button next to the correct answer"})]})]})]},x.id))})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs(B,{type:"submit",loading:h,children:[c.jsx(xv,{className:"h-4 w-4 mr-2"}),"Create Session"]})})]})]})}function Dv({isOpen:t,onClose:e,onSubmit:n,quizName:s,loading:i=!1}){const[r,o]=_.useState(0),[a,l]=_.useState(0),[u,d]=_.useState(""),h=p=>{p.preventDefault(),r>0&&n(r,u.trim())},f=()=>{o(0),l(0),d(""),e()};return t?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quiz Feedback"}),c.jsx("button",{onClick:f,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Hl,{className:"h-6 w-6"})})]}),c.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"How was your experience with:"}),c.jsx("p",{className:"text-gray-600 font-medium",children:s})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 text-center",children:"Rate your experience"}),c.jsx("div",{className:"flex justify-center space-x-1",children:[1,2,3,4,5].map(p=>c.jsx("button",{type:"button",onClick:()=>o(p),onMouseEnter:()=>l(p),onMouseLeave:()=>l(0),className:"focus:outline-none focus:ring-2 focus:ring-red-500 rounded",children:c.jsx(yv,{className:`h-8 w-8 ${p<=(a||r)?"text-yellow-400 fill-current":"text-gray-300"} transition-colors`})},p))}),c.jsx("div",{className:"text-center text-sm text-gray-500",children:r===0?"Click to rate":r===1?"Poor":r===2?"Fair":r===3?"Good":r===4?"Very Good":"Excellent"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"comments",className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Comments (Optional)"}),c.jsx("textarea",{id:"comments",value:u,onChange:p=>d(p.target.value),placeholder:"Tell us about your experience...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",maxLength:500}),c.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[u.length,"/500 characters"]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx(B,{type:"button",variant:"outline",onClick:f,disabled:i,className:"flex-1",children:"Skip"}),c.jsx(B,{type:"submit",disabled:r===0||i,className:"flex-1",children:i?"Submitting...":"Submit Feedback"})]}),c.jsx("div",{className:"text-xs text-gray-500 text-center bg-gray-50 p-3 rounded",children:"Your feedback helps us improve the quiz experience. All responses are anonymous."})]})]})}):null}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function nr(t){return t+.5|0}const nn=(t,e,n)=>Math.max(Math.min(t,n),e);function ri(t){return nn(nr(t*2.55),0,255)}function xn(t){return nn(nr(t*255),0,255)}function Ot(t){return nn(nr(t/2.55)/100,0,1)}function Hd(t){return nn(nr(t*100),0,100)}const tt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},$l=[..."0123456789ABCDEF"],Lv=t=>$l[t&15],Av=t=>$l[(t&240)>>4]+$l[t&15],wr=t=>(t&240)>>4===(t&15),Ov=t=>wr(t.r)&&wr(t.g)&&wr(t.b)&&wr(t.a);function Rv(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&tt[t[1]]*17,g:255&tt[t[2]]*17,b:255&tt[t[3]]*17,a:e===5?tt[t[4]]*17:255}:(e===7||e===9)&&(n={r:tt[t[1]]<<4|tt[t[2]],g:tt[t[3]]<<4|tt[t[4]],b:tt[t[5]]<<4|tt[t[6]],a:e===9?tt[t[7]]<<4|tt[t[8]]:255})),n}const zv=(t,e)=>t<255?e(t):"";function Iv(t){var e=Ov(t)?Lv:Av;return t?"#"+e(t.r)+e(t.g)+e(t.b)+zv(t.a,e):void 0}const Fv=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Em(t,e,n){const s=e*Math.min(n,1-n),i=(r,o=(r+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Bv(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function Wv(t,e,n){const s=Em(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function Hv(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function nu(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let l,u,d;return r!==o&&(d=r-o,u=a>.5?d/(2-r-o):d/(r+o),l=Hv(n,s,i,d,r),l=l*60+.5),[l|0,u||0,a]}function su(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(xn)}function iu(t,e,n){return su(Em,t,e,n)}function $v(t,e,n){return su(Wv,t,e,n)}function Vv(t,e,n){return su(Bv,t,e,n)}function Tm(t){return(t%360+360)%360}function Uv(t){const e=Fv.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?ri(+e[5]):xn(+e[5]));const i=Tm(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=$v(i,r,o):e[1]==="hsv"?s=Vv(i,r,o):s=iu(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function Qv(t,e){var n=nu(t);n[0]=Tm(n[0]+e),n=iu(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Yv(t){if(!t)return;const e=nu(t),n=e[0],s=Hd(e[1]),i=Hd(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${Ot(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const $d={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Vd={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Xv(){const t={},e=Object.keys(Vd),n=Object.keys($d);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,$d[r]);r=parseInt(Vd[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let kr;function Kv(t){kr||(kr=Xv(),kr.transparent=[0,0,0,0]);const e=kr[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const qv=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Gv(t){const e=qv.exec(t);let n=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?ri(o):nn(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?ri(s):nn(s,0,255)),i=255&(e[4]?ri(i):nn(i,0,255)),r=255&(e[6]?ri(r):nn(r,0,255)),{r:s,g:i,b:r,a:n}}}function Jv(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ot(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const La=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ns=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Zv(t,e,n){const s=ns(Ot(t.r)),i=ns(Ot(t.g)),r=ns(Ot(t.b));return{r:xn(La(s+n*(ns(Ot(e.r))-s))),g:xn(La(i+n*(ns(Ot(e.g))-i))),b:xn(La(r+n*(ns(Ot(e.b))-r))),a:t.a+n*(e.a-t.a)}}function _r(t,e,n){if(t){let s=nu(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=iu(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Dm(t,e){return t&&Object.assign(e||{},t)}function Ud(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=xn(t[3]))):(e=Dm(t,{r:0,g:0,b:0,a:1}),e.a=xn(e.a)),e}function e1(t){return t.charAt(0)==="r"?Gv(t):Uv(t)}class Vi{constructor(e){if(e instanceof Vi)return e;const n=typeof e;let s;n==="object"?s=Ud(e):n==="string"&&(s=Rv(e)||Kv(e)||e1(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Dm(this._rgb);return e&&(e.a=Ot(e.a)),e}set rgb(e){this._rgb=Ud(e)}rgbString(){return this._valid?Jv(this._rgb):void 0}hexString(){return this._valid?Iv(this._rgb):void 0}hslString(){return this._valid?Yv(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=s.a-i.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-u,s.r=255&u*s.r+r*i.r+.5,s.g=255&u*s.g+r*i.g+.5,s.b=255&u*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=Zv(this._rgb,e._rgb,n)),this}clone(){return new Vi(this.rgb)}alpha(e){return this._rgb.a=xn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=nr(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return _r(this._rgb,2,e),this}darken(e){return _r(this._rgb,2,-e),this}saturate(e){return _r(this._rgb,1,e),this}desaturate(e){return _r(this._rgb,1,-e),this}rotate(e){return Qv(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Et(){}const t1=(()=>{let t=0;return()=>t++})();function q(t){return t==null}function oe(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Y(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ke(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Xe(t,e){return ke(t)?t:e}function W(t,e){return typeof t>"u"?e:t}const n1=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Lm=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function te(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function J(t,e,n,s){let i,r,o;if(oe(t))if(r=t.length,s)for(i=r-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<r;i++)e.call(n,t[i],i);else if(Y(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(n,t[o[i]],o[i])}function No(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function Co(t){if(oe(t))return t.map(Co);if(Y(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=Co(t[n[i]]);return e}return t}function Am(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function s1(t,e,n,s){if(!Am(t))return;const i=e[t],r=n[t];Y(i)&&Y(r)?Ui(i,r,s):e[t]=Co(r)}function Ui(t,e,n){const s=oe(e)?e:[e],i=s.length;if(!Y(t))return t;n=n||{};const r=n.merger||s1;let o;for(let a=0;a<i;++a){if(o=s[a],!Y(o))continue;const l=Object.keys(o);for(let u=0,d=l.length;u<d;++u)r(l[u],t,o,n)}return t}function bi(t,e){return Ui(t,e,{merger:i1})}function i1(t,e,n){if(!Am(t))return;const s=e[t],i=n[t];Y(s)&&Y(i)?bi(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Co(i))}const Qd={"":t=>t,x:t=>t.x,y:t=>t.y};function r1(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function o1(t){const e=r1(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function Xn(t,e){return(Qd[e]||(Qd[e]=o1(e)))(t)}function ru(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Qi=t=>typeof t<"u",bn=t=>typeof t=="function",Yd=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function a1(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const X=Math.PI,ae=2*X,l1=ae+X,Po=Number.POSITIVE_INFINITY,c1=X/180,pe=X/2,Nn=X/4,Xd=X*2/3,sn=Math.log10,Pt=Math.sign;function wi(t,e,n){return Math.abs(t-e)<n}function Kd(t){const e=Math.round(t);t=wi(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(sn(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function u1(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function d1(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Mo(t){return!d1(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function h1(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Om(t,e,n){let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function jt(t){return t*(X/180)}function ou(t){return t*(180/X)}function qd(t){if(!ke(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Rm(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*X&&(r+=ae),{angle:r,distance:i}}function Vl(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function f1(t,e){return(t-e+l1)%ae-X}function Be(t){return(t%ae+ae)%ae}function Yi(t,e,n,s){const i=Be(t),r=Be(e),o=Be(n),a=Be(r-i),l=Be(o-i),u=Be(i-r),d=Be(i-o);return i===r||i===o||s&&r===o||a>l&&u<d}function Ve(t,e,n){return Math.max(e,Math.min(n,t))}function p1(t){return Ve(t,-32768,32767)}function rn(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function au(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const Ul=(t,e,n,s)=>au(t,n,s?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),m1=(t,e,n)=>au(t,n,s=>t[s][e]>=n);function g1(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const zm=["push","pop","shift","splice","unshift"];function x1(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),zm.forEach(n=>{const s="_onData"+ru(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function Gd(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(zm.forEach(r=>{delete t[r]}),delete t._chartjs)}function Im(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Fm=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Bm(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,Fm.call(window,()=>{s=!1,t.apply(e,n)}))}}function y1(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const lu=t=>t==="start"?"left":t==="end"?"right":"center",Ee=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,v1=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e,Sr=t=>t===0||t===1,Jd=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ae/n)),Zd=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ae/n)+1,ki={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*pe)+1,easeOutSine:t=>Math.sin(t*pe),easeInOutSine:t=>-.5*(Math.cos(X*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Sr(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Sr(t)?t:Jd(t,.075,.3),easeOutElastic:t=>Sr(t)?t:Zd(t,.075,.3),easeInOutElastic(t){return Sr(t)?t:t<.5?.5*Jd(t*2,.1125,.45):.5+.5*Zd(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ki.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ki.easeInBounce(t*2)*.5:ki.easeOutBounce(t*2-1)*.5+.5};function cu(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function eh(t){return cu(t)?t:new Vi(t)}function Aa(t){return cu(t)?t:new Vi(t).saturate(.5).darken(.1).hexString()}const b1=["x","y","borderWidth","radius","tension"],w1=["color","borderColor","backgroundColor"];function k1(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:w1},numbers:{type:"number",properties:b1}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function _1(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const th=new Map;function S1(t,e){e=e||{};const n=t+JSON.stringify(e);let s=th.get(n);return s||(s=new Intl.NumberFormat(t,e),th.set(n,s)),s}function Zo(t,e,n){return S1(e,n).format(t)}const Wm={values(t){return oe(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,r=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),r=j1(t,n)}const o=sn(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Zo(t,s,l)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(sn(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?Wm.numeric.call(this,t,e,n):""}};function j1(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var ea={formatters:Wm};function N1(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ea.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Kn=Object.create(null),Ql=Object.create(null);function _i(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function Oa(t,e,n){return typeof e=="string"?Ui(_i(t,e),n):Ui(_i(t,""),e)}class C1{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>Aa(i.backgroundColor),this.hoverBorderColor=(s,i)=>Aa(i.borderColor),this.hoverColor=(s,i)=>Aa(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Oa(this,e,n)}get(e){return _i(this,e)}describe(e,n){return Oa(Ql,e,n)}override(e,n){return Oa(Kn,e,n)}route(e,n,s,i){const r=_i(this,e),o=_i(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[i];return Y(l)?Object.assign({},u,l):W(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var he=new C1({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[k1,_1,N1]);function P1(t){return!t||q(t.size)||q(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Eo(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function M1(t,e,n,s){s=s||{};let i=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(i=s.data={},r=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,u,d,h,f;for(l=0;l<a;l++)if(h=n[l],h!=null&&!oe(h))o=Eo(t,i,r,o,h);else if(oe(h))for(u=0,d=h.length;u<d;u++)f=h[u],f!=null&&!oe(f)&&(o=Eo(t,i,r,o,f));t.restore();const p=r.length/2;if(p>n.length){for(l=0;l<p;l++)delete i[r[l]];r.splice(0,p)}return o}function Cn(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function nh(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Yl(t,e,n,s){Hm(t,e,n,s,null)}function Hm(t,e,n,s,i){let r,o,a,l,u,d,h,f;const p=e.pointStyle,v=e.rotation,m=e.radius;let b=(v||0)*c1;if(p&&typeof p=="object"&&(r=p.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(b),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),p){default:i?t.ellipse(n,s,i/2,m,0,0,ae):t.arc(n,s,m,0,ae),t.closePath();break;case"triangle":d=i?i/2:m,t.moveTo(n+Math.sin(b)*d,s-Math.cos(b)*m),b+=Xd,t.lineTo(n+Math.sin(b)*d,s-Math.cos(b)*m),b+=Xd,t.lineTo(n+Math.sin(b)*d,s-Math.cos(b)*m),t.closePath();break;case"rectRounded":u=m*.516,l=m-u,o=Math.cos(b+Nn)*l,h=Math.cos(b+Nn)*(i?i/2-u:l),a=Math.sin(b+Nn)*l,f=Math.sin(b+Nn)*(i?i/2-u:l),t.arc(n-h,s-a,u,b-X,b-pe),t.arc(n+f,s-o,u,b-pe,b),t.arc(n+h,s+a,u,b,b+pe),t.arc(n-f,s+o,u,b+pe,b+X),t.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*m,d=i?i/2:l,t.rect(n-d,s-l,2*d,2*l);break}b+=Nn;case"rectRot":h=Math.cos(b)*(i?i/2:m),o=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(i?i/2:m),t.moveTo(n-h,s-a),t.lineTo(n+f,s-o),t.lineTo(n+h,s+a),t.lineTo(n-f,s+o),t.closePath();break;case"crossRot":b+=Nn;case"cross":h=Math.cos(b)*(i?i/2:m),o=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(i?i/2:m),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"star":h=Math.cos(b)*(i?i/2:m),o=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(i?i/2:m),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o),b+=Nn,h=Math.cos(b)*(i?i/2:m),o=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(i?i/2:m),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"line":o=i?i/2:Math.cos(b)*m,a=Math.sin(b)*m,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(b)*(i?i/2:m),s+Math.sin(b)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function It(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function uu(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function du(t){t.restore()}function E1(t,e,n,s,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else i==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function T1(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function D1(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),q(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function L1(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,u=n+r.actualBoundingBoxDescent,d=i.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function A1(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function qn(t,e,n,s,i,r={}){const o=oe(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,u;for(t.save(),t.font=i.string,D1(t,r),l=0;l<o.length;++l)u=o[l],r.backdrop&&A1(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),q(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(u,n,s,r.maxWidth)),t.fillText(u,n,s,r.maxWidth),L1(t,n,s,u,r),s+=Number(i.lineHeight);t.restore()}function Xi(t,e){const{x:n,y:s,w:i,h:r,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*X,X,!0),t.lineTo(n,s+r-o.bottomLeft),t.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,X,pe,!0),t.lineTo(n+i-o.bottomRight,s+r),t.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,pe,0,!0),t.lineTo(n+i,s+o.topRight),t.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-pe,!0),t.lineTo(n+o.topLeft,s)}const O1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,R1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function z1(t,e){const n=(""+t).match(O1);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const I1=t=>+t||0;function hu(t,e){const n={},s=Y(e),i=s?Object.keys(e):e,r=Y(t)?s?o=>W(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=I1(r(o));return n}function $m(t){return hu(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Wn(t){return hu(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Le(t){const e=$m(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function be(t,e){t=t||{},e=e||he.font;let n=W(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=W(t.style,e.style);s&&!(""+s).match(R1)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:W(t.family,e.family),lineHeight:z1(W(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:W(t.weight,e.weight),string:""};return i.string=P1(i),i}function jr(t,e,n,s){let i=!0,r,o,a;for(r=0,o=t.length;r<o;++r)if(a=t[r],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),n!==void 0&&oe(a)&&(a=a[n%a.length],i=!1),a!==void 0))return s&&!i&&(s.cacheable=!1),a}function F1(t,e,n){const{min:s,max:i}=t,r=Lm(e,(i-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function jn(t,e){return Object.assign(Object.create(t),e)}function fu(t,e=[""],n,s,i=()=>t[0]){const r=n||t;typeof s>"u"&&(s=Ym("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>fu([a,...t],e,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return Um(a,l,()=>Y1(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return ih(a).includes(l)},ownKeys(a){return ih(a)},set(a,l,u){const d=a._storage||(a._storage=i());return a[l]=d[l]=u,delete a._keys,!0}})}function Os(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Vm(t,s),setContext:r=>Os(t,r,n,s),override:r=>Os(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return Um(r,o,()=>W1(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function Vm(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:bn(n)?n:()=>n,isIndexable:bn(s)?s:()=>s}}const B1=(t,e)=>t?t+ru(e):e,pu=(t,e)=>Y(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Um(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function W1(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=t;let a=s[e];return bn(a)&&o.isScriptable(e)&&(a=H1(e,a,t,n)),oe(a)&&a.length&&(a=$1(e,a,t,o.isIndexable)),pu(e,a)&&(a=Os(a,i,r&&r[e],o)),a}function H1(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||s);return a.delete(t),pu(t,l)&&(l=mu(i._scopes,i,t,l)),l}function $1(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(t))return e[r.index%e.length];if(Y(e[0])){const l=e,u=i._scopes.filter(d=>d!==l);e=[];for(const d of l){const h=mu(u,i,t,d);e.push(Os(h,r,o&&o[t],a))}}return e}function Qm(t,e,n){return bn(t)?t(e,n):t}const V1=(t,e)=>t===!0?e:typeof t=="string"?Xn(e,t):void 0;function U1(t,e,n,s,i){for(const r of e){const o=V1(n,r);if(o){t.add(o);const a=Qm(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function mu(t,e,n,s){const i=e._rootScopes,r=Qm(e._fallback,n,s),o=[...t,...i],a=new Set;a.add(s);let l=sh(a,o,n,r||n,s);return l===null||typeof r<"u"&&r!==n&&(l=sh(a,o,r,l,s),l===null)?!1:fu(Array.from(a),[""],i,r,()=>Q1(e,n,s))}function sh(t,e,n,s,i){for(;n;)n=U1(t,e,n,s,i);return n}function Q1(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return oe(i)&&Y(n)?n:i||{}}function Y1(t,e,n,s){let i;for(const r of e)if(i=Ym(B1(r,t),n),typeof i<"u")return pu(t,i)?mu(n,s,t,i):i}function Ym(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function ih(t){let e=t._keys;return e||(e=t._keys=X1(t._scopes)),e}function X1(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}const K1=Number.EPSILON||1e-14,Rs=(t,e)=>e<t.length&&!t[e].skip&&t[e],Xm=t=>t==="x"?"y":"x";function q1(t,e,n,s){const i=t.skip?e:t,r=e,o=n.skip?e:n,a=Vl(r,i),l=Vl(o,r);let u=a/(a+l),d=l/(a+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const h=s*u,f=s*d;return{previous:{x:r.x-h*(o.x-i.x),y:r.y-h*(o.y-i.y)},next:{x:r.x+f*(o.x-i.x),y:r.y+f*(o.y-i.y)}}}function G1(t,e,n){const s=t.length;let i,r,o,a,l,u=Rs(t,0);for(let d=0;d<s-1;++d)if(l=u,u=Rs(t,d+1),!(!l||!u)){if(wi(e[d],0,K1)){n[d]=n[d+1]=0;continue}i=n[d]/e[d],r=n[d+1]/e[d],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=i*o*e[d],n[d+1]=r*o*e[d])}}function J1(t,e,n="x"){const s=Xm(n),i=t.length;let r,o,a,l=Rs(t,0);for(let u=0;u<i;++u){if(o=a,a=l,l=Rs(t,u+1),!a)continue;const d=a[n],h=a[s];o&&(r=(d-o[n])/3,a[`cp1${n}`]=d-r,a[`cp1${s}`]=h-r*e[u]),l&&(r=(l[n]-d)/3,a[`cp2${n}`]=d+r,a[`cp2${s}`]=h+r*e[u])}}function Z1(t,e="x"){const n=Xm(e),s=t.length,i=Array(s).fill(0),r=Array(s);let o,a,l,u=Rs(t,0);for(o=0;o<s;++o)if(a=l,l=u,u=Rs(t,o+1),!!l){if(u){const d=u[e]-l[e];i[o]=d!==0?(u[n]-l[n])/d:0}r[o]=a?u?Pt(i[o-1])!==Pt(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}G1(t,i,r),J1(t,r,e)}function Nr(t,e,n){return Math.max(Math.min(t,n),e)}function eb(t,e){let n,s,i,r,o,a=It(t[0],e);for(n=0,s=t.length;n<s;++n)o=r,r=a,a=n<s-1&&It(t[n+1],e),r&&(i=t[n],o&&(i.cp1x=Nr(i.cp1x,e.left,e.right),i.cp1y=Nr(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Nr(i.cp2x,e.left,e.right),i.cp2y=Nr(i.cp2y,e.top,e.bottom)))}function tb(t,e,n,s,i){let r,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")Z1(t,i);else{let u=s?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=q1(u,a,t[Math.min(r+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&eb(t,n)}function gu(){return typeof window<"u"&&typeof document<"u"}function xu(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function To(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const ta=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function nb(t,e){return ta(t).getPropertyValue(e)}const sb=["top","right","bottom","left"];function Hn(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=sb[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const ib=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function rb(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(ib(i,r,t.target))a=i,l=r;else{const u=e.getBoundingClientRect();a=s.clientX-u.left,l=s.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function Dn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=ta(n),r=i.boxSizing==="border-box",o=Hn(i,"padding"),a=Hn(i,"border","width"),{x:l,y:u,box:d}=rb(t,n),h=o.left+(d&&a.left),f=o.top+(d&&a.top);let{width:p,height:v}=e;return r&&(p-=o.width+a.width,v-=o.height+a.height),{x:Math.round((l-h)/p*n.width/s),y:Math.round((u-f)/v*n.height/s)}}function ob(t,e,n){let s,i;if(e===void 0||n===void 0){const r=t&&xu(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=ta(r),l=Hn(a,"border","width"),u=Hn(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,s=To(a.maxWidth,r,"clientWidth"),i=To(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||Po,maxHeight:i||Po}}const on=t=>Math.round(t*10)/10;function ab(t,e,n,s){const i=ta(t),r=Hn(i,"margin"),o=To(i.maxWidth,t,"clientWidth")||Po,a=To(i.maxHeight,t,"clientHeight")||Po,l=ob(t,e,n);let{width:u,height:d}=l;if(i.boxSizing==="content-box"){const f=Hn(i,"border","width"),p=Hn(i,"padding");u-=p.width+f.width,d-=p.height+f.height}return u=Math.max(0,u-r.width),d=Math.max(0,s?u/s:d-r.height),u=on(Math.min(u,o,l.maxWidth)),d=on(Math.min(d,a,l.maxHeight)),u&&!d&&(d=on(u/2)),(e!==void 0||n!==void 0)&&s&&l.height&&d>l.height&&(d=l.height,u=on(Math.floor(d*s))),{width:u,height:d}}function rh(t,e,n){const s=e||1,i=on(t.height*s),r=on(t.width*s);t.height=on(t.height),t.width=on(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=s,o.height=i,o.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const lb=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};gu()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function oh(t,e){const n=nb(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Ln(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function cb(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function ub(t,e,n,s){const i={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Ln(t,i,n),a=Ln(i,r,n),l=Ln(r,e,n),u=Ln(o,a,n),d=Ln(a,l,n);return Ln(u,d,n)}const db=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},hb=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ss(t,e,n){return t?db(e,n):hb()}function Km(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function qm(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Gm(t){return t==="angle"?{between:Yi,compare:f1,normalize:Be}:{between:rn,compare:(e,n)=>e-n,normalize:e=>e}}function ah({start:t,end:e,count:n,loop:s,style:i}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:i}}function fb(t,e,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=Gm(s),l=e.length;let{start:u,end:d,loop:h}=t,f,p;if(h){for(u+=l,d+=l,f=0,p=l;f<p&&o(a(e[u%l][s]),i,r);++f)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:h,style:t.style}}function pb(t,e,n){if(!n)return[t];const{property:s,start:i,end:r}=n,o=e.length,{compare:a,between:l,normalize:u}=Gm(s),{start:d,end:h,loop:f,style:p}=fb(t,e,n),v=[];let m=!1,b=null,g,x,y;const w=()=>l(i,y,g)&&a(i,y)!==0,k=()=>a(r,g)===0||l(r,y,g),j=()=>m||w(),N=()=>!m||k();for(let S=d,E=d;S<=h;++S)x=e[S%o],!x.skip&&(g=u(x[s]),g!==y&&(m=l(g,i,r),b===null&&j()&&(b=a(g,i)===0?S:E),b!==null&&N()&&(v.push(ah({start:b,end:S,loop:f,count:o,style:p})),b=null),E=S,y=g));return b!==null&&v.push(ah({start:b,end:h,loop:f,count:o,style:p})),v}function mb(t,e){const n=[],s=t.segments;for(let i=0;i<s.length;i++){const r=pb(s[i],t.points,e);r.length&&n.push(...r)}return n}function gb(t,e,n,s){let i=0,r=e-1;if(n&&!s)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(r+=i);r>i&&t[r%e].skip;)r--;return r%=e,{start:i,end:r}}function xb(t,e,n,s){const i=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%i];u.skip||u.stop?a.skip||(s=!1,r.push({start:e%i,end:(l-1)%i,loop:s}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&r.push({start:e%i,end:o%i,loop:s}),r}function yb(t,e){const n=t.points,s=t.options.spanGaps,i=n.length;if(!i)return[];const r=!!t._loop,{start:o,end:a}=gb(n,i,r,s);if(s===!0)return lh(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+i:a,u=!!t._fullLoop&&o===0&&a===i-1;return lh(t,xb(n,o,l,u),n,e)}function lh(t,e,n,s){return!s||!s.setContext||!n?e:vb(t,e,n,s)}function vb(t,e,n,s){const i=t._chart.getContext(),r=ch(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,u=[];let d=r,h=e[0].start,f=h;function p(v,m,b,g){const x=a?-1:1;if(v!==m){for(v+=l;n[v%l].skip;)v-=x;for(;n[m%l].skip;)m+=x;v%l!==m%l&&(u.push({start:v%l,end:m%l,loop:b,style:g}),d=g,h=m%l)}}for(const v of e){h=a?h:v.start;let m=n[h%l],b;for(f=h+1;f<=v.end;f++){const g=n[f%l];b=ch(s.setContext(jn(i,{type:"segment",p0:m,p1:g,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),bb(b,d)&&p(h,f-1,v.loop,d),m=g,d=b}h<f-1&&p(h,f-1,v.loop,d)}return u}function ch(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function bb(t,e){if(!e)return!1;const n=[],s=function(i,r){return cu(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function Cr(t,e,n){return t.options.clip?t[n]:e[n]}function wb(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:Cr(n,e,"left"),right:Cr(n,e,"right"),top:Cr(s,e,"top"),bottom:Cr(s,e,"bottom")}:e}function kb(t,e){const n=e._clip;if(n.disabled)return!1;const s=wb(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class _b{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Fm.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Tt=new _b;const uh="transparent",Sb={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=eh(t||uh),i=s.valid&&eh(e||uh);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class jb{constructor(e,n,s,i){const r=n[s];i=jr([e.to,i,r,e.from]);const o=jr([e.from,r,i]);this._active=!0,this._fn=e.fn||Sb[e.type||typeof o],this._easing=ki[e.easing]||ki.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=jr([e.to,n,i,e.from]),this._from=jr([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class Jm{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Y(e))return;const n=Object.keys(he.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!Y(r))return;const o={};for(const a of n)o[a]=r[a];(oe(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,i=Cb(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&Nb(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,n));continue}const d=n[u];let h=r[u];const f=s.get(u);if(h)if(f&&h.active()){h.update(f,d,a);continue}else h.cancel();if(!f||!f.duration){e[u]=d;continue}r[u]=h=new jb(f,e,u,d),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Tt.add(this._chart,s),!0}}function Nb(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function Cb(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function dh(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function Pb(t,e,n){if(n===!1)return!1;const s=dh(t,n),i=dh(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function Mb(t){let e,n,s,i;return Y(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function Zm(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function hh(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let o,a,l,u;if(e===null)return;let d=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(d=!0,s.all)continue;break}u=t.values[l],ke(u)&&(r||e===0||Pt(e)===Pt(u))&&(e+=u)}return!d&&!s.all?0:e}function Eb(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,d;for(l=0,u=o.length;l<u;++l)d=o[l],a[l]={[i]:d,[r]:t[d]};return a}function Ra(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Tb(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Db(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function Lb(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function fh(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function ph(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,u=o.axis,d=Tb(r,o,s),h=e.length;let f;for(let p=0;p<h;++p){const v=e[p],{[l]:m,[u]:b}=v,g=v._stacks||(v._stacks={});f=g[u]=Lb(i,d,m),f[a]=b,f._top=fh(f,o,!0,s.type),f._bottom=fh(f,o,!1,s.type);const x=f._visualValues||(f._visualValues={});x[a]=b}}function za(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function Ab(t,e){return jn(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Ob(t,e,n){return jn(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function qs(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const Ia=t=>t==="reset"||t==="none",mh=(t,e)=>e?t:Object.assign({},t),Rb=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Zm(n,!0),values:null};class js{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ra(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&qs(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(h,f,p,v)=>h==="x"?f:h==="r"?v:p,r=n.xAxisID=W(s.xAxisID,za(e,"x")),o=n.yAxisID=W(s.yAxisID,za(e,"y")),a=n.rAxisID=W(s.rAxisID,za(e,"r")),l=n.indexAxis,u=n.iAxisID=i(l,r,o,a),d=n.vAxisID=i(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Gd(this._data,this),e._stacked&&qs(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(Y(n)){const i=this._cachedMeta;this._data=Eb(n,i)}else if(s!==n){if(s){Gd(s,this);const i=this._cachedMeta;qs(i),i._parsed=[]}n&&Object.isExtensible(n)&&x1(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=Ra(n.vScale,n),n.stack!==s.stack&&(i=!0,qs(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&(ph(this,n._parsed),n._stacked=Ra(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=e===0&&n===i.length?!0:s._sorted,u=e>0&&s._parsed[e-1],d,h,f;if(this._parsing===!1)s._parsed=i,s._sorted=!0,f=i;else{oe(i[e])?f=this.parseArrayData(s,i,e,n):Y(i[e])?f=this.parseObjectData(s,i,e,n):f=this.parsePrimitiveData(s,i,e,n);const p=()=>h[a]===null||u&&h[a]<u[a];for(d=0;d<n;++d)s._parsed[d+e]=h=f[d],l&&(p()&&(l=!1),u=h);s._sorted=l}o&&ph(this,f)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,u=r.getLabels(),d=r===o,h=new Array(i);let f,p,v;for(f=0,p=i;f<p;++f)v=f+s,h[f]={[a]:d||r.parse(u[v],v),[l]:o.parse(n[v],v)};return h}parseArrayData(e,n,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let l,u,d,h;for(l=0,u=i;l<u;++l)d=l+s,h=n[d],a[l]={x:r.parse(h[0],d),y:o.parse(h[1],d)};return a}parseObjectData(e,n,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let d,h,f,p;for(d=0,h=i;d<h;++d)f=d+s,p=n[f],u[d]={x:r.parse(Xn(p,a),f),y:o.parse(Xn(p,l),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:Zm(i,!0),values:n._stacks[e.axis]._visualValues};return hh(a,o,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=hh(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),l=Rb(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=Db(a);let f,p;function v(){p=i[f];const m=p[a.axis];return!ke(p[e.axis])||d>m||h<m}for(f=0;f<o&&!(!v()&&(this.updateRangeFromParsed(u,e,p,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!v()){this.updateRangeFromParsed(u,e,p,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][e.axis],ke(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Mb(W(this.options.clip,Pb(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(e,r,a,l),d=a;d<a+l;++d){const h=i[d];h.hidden||(h.active&&u?o.push(h):h.draw(e,r))}for(d=0;d<o.length;++d)o[d].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=Ob(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=Ab(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&Qi(s);if(a)return mh(a,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),d),p=Object.keys(he.elements[e]),v=()=>this.getContext(s,i,n),m=u.resolveNamedOptions(f,p,v,h);return m.$shared&&(m.$shared=l,r[o]=Object.freeze(mh(m,l))),m}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(f,this.getContext(e,s,n))}const u=new Jm(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Ia(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(e,n,s,i){Ia(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!Ia(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&qs(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}A(js,"defaults",{}),A(js,"datasetElementType",null),A(js,"dataElementType",null);function zb(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=Im(s.sort((i,r)=>i-r))}return t._cache.$bar}function Ib(t){const e=t.iScale,n=zb(e,t.type);let s=e._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(Qi(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),l();return s}function Fb(t,e,n,s){const i=n.barThickness;let r,o;return q(i)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:e.pixels[t]-r/2}}function Bb(t,e,n,s){const i=e.pixels,r=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const u=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:n.barPercentage,start:u}}function Wb(t,e,n,s){const i=n.parse(t[0],s),r=n.parse(t[1],s),o=Math.min(i,r),a=Math.max(i,r);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:i,end:r,min:o,max:a}}function eg(t,e,n,s){return oe(t)?Wb(t,e,n,s):e[n.axis]=n.parse(t,s),e}function gh(t,e,n,s){const i=t.iScale,r=t.vScale,o=i.getLabels(),a=i===r,l=[];let u,d,h,f;for(u=n,d=n+s;u<d;++u)f=e[u],h={},h[i.axis]=a||i.parse(o[u],u),l.push(eg(f,h,r,u));return l}function Fa(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Hb(t,e,n){return t!==0?Pt(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function $b(t){let e,n,s,i,r;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:e,top:i,bottom:r}}function Vb(t,e,n,s){let i=e.borderSkipped;const r={};if(!i){t.borderSkipped=r;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:d}=$b(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?i=u:(n._bottom||0)===s?i=d:(r[xh(d,o,a,l)]=!0,i=u)),r[xh(i,o,a,l)]=!0,t.borderSkipped=r}function xh(t,e,n,s){return s?(t=Ub(t,e,n),t=yh(t,n,e)):t=yh(t,e,n),t}function Ub(t,e,n){return t===e?n:t===n?e:t}function yh(t,e,n){return t==="start"?e:t==="end"?n:t}function Qb(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Yr extends js{parsePrimitiveData(e,n,s,i){return gh(e,n,s,i)}parseArrayData(e,n,s,i){return gh(e,n,s,i)}parseObjectData(e,n,s,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=r.axis==="x"?a:l,d=o.axis==="x"?a:l,h=[];let f,p,v,m;for(f=s,p=s+i;f<p;++f)m=n[f],v={},v[r.axis]=r.parse(Xn(m,u),f),h.push(eg(Xn(m,d),v,o,f));return h}updateRangeFromParsed(e,n,s,i){super.updateRangeFromParsed(e,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(e),o=r._custom,a=Fa(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,i);for(let p=n;p<n+s;p++){const v=this.getParsed(p),m=r||q(v[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,d),g=(v._stacks||{})[a.axis],x={horizontal:u,base:m.base,enableBorderRadius:!g||Fa(v._custom)||o===g._top||o===g._bottom,x:u?m.head:b.center,y:u?b.center:m.head,height:u?b.size:Math.abs(m.size),width:u?Math.abs(m.size):b.size};f&&(x.options=h||this.resolveDataElementOptions(p,e[p].active?"active":i));const y=x.options||e[p].options;Vb(x,y,g,o),Qb(x,y,d.ratio),this.updateElement(e[p],p,x,i)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[s.axis],u=d=>{const h=d._parsed.find(p=>p[s.axis]===l),f=h&&h[d.vScale.axis];if(q(f)||isNaN(f))return!0};for(const d of i)if(!(n!==void 0&&u(d))&&((r===!1||o.indexOf(d.stack)===-1||r===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[W(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const i=this._getStacks(e,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=e.barThickness;return{min:a||Ib(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),u=l._custom,d=Fa(u);let h=l[n.axis],f=0,p=s?this.applyStack(n,l,s):h,v,m;p!==h&&(f=p-h,p=h),d&&(h=u.barStart,p=u.barEnd-u.barStart,h!==0&&Pt(h)!==Pt(u.barEnd)&&(f=0),f+=h);const b=!q(r)&&!d?r:f;let g=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?v=n.getPixelForValue(f+p):v=g,m=v-g,Math.abs(m)<o){m=Hb(m,n,a)*o,h===a&&(g-=m/2);const x=n.getPixelForDecimal(0),y=n.getPixelForDecimal(1),w=Math.min(x,y),k=Math.max(x,y);g=Math.max(Math.min(g,k),w),v=g+m,s&&!d&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(v)-n.getValueForPixel(g))}if(g===n.getPixelForValue(a)){const x=Pt(m)*n.getLineWidthForValue(a)/2;g+=x,m-=x}return{size:m,base:g,head:v,center:v+m/2}}_calculateBarIndexPixels(e,n){const s=n.scale,i=this.options,r=i.skipNull,o=W(i.maxBarThickness,1/0);let a,l;const u=this._getAxisCount();if(n.grouped){const d=r?this._getStackCount(e):n.stackCount,h=i.barThickness==="flex"?Bb(e,n,i,d*u):Fb(e,n,i,d*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(W(f,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+p;a=h.start+h.chunk*v+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}A(Yr,"id","bar"),A(Yr,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),A(Yr,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Yb(t,e,n){let s=1,i=1,r=0,o=0;if(e<ae){const a=t,l=a+e,u=Math.cos(a),d=Math.sin(a),h=Math.cos(l),f=Math.sin(l),p=(y,w,k)=>Yi(y,a,l,!0)?1:Math.max(w,w*n,k,k*n),v=(y,w,k)=>Yi(y,a,l,!0)?-1:Math.min(w,w*n,k,k*n),m=p(0,u,h),b=p(pe,d,f),g=v(X,u,h),x=v(X+pe,d,f);s=(m-g)/2,i=(b-x)/2,r=-(m+g)/2,o=-(b+x)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class oi extends js{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=l=>+s[l];if(Y(s[e])){const{key:l="value"}=this._parsing;r=u=>+Xn(s[u],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return jt(this.options.rotation-90)}_getCircumference(){return jt(this.options.circumference)}_getRotationExtents(){let e=ae,n=-ae;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(n1(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:v,offsetY:m}=Yb(h,d,l),b=(s.width-o)/f,g=(s.height-o)/p,x=Math.max(Math.min(b,g)/2,0),y=Lm(this.options.radius,x),w=Math.max(y*l,0),k=(y-w)/this._getVisibleDatasetWeightTotal();this.offsetX=v*y,this.offsetY=m*y,i.total=this.calculateTotal(),this.outerRadius=y-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/ae)}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,d=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=r&&u.animateScale,p=f?0:this.innerRadius,v=f?0:this.outerRadius,{sharedOptions:m,includeOptions:b}=this._getSharedOptions(n,i);let g=this._getRotation(),x;for(x=0;x<n;++x)g+=this._circumference(x,r);for(x=n;x<n+s;++x){const y=this._circumference(x,r),w=e[x],k={x:d+this.offsetX,y:h+this.offsetY,startAngle:g,endAngle:g+y,circumference:y,outerRadius:v,innerRadius:p};b&&(k.options=m||this.resolveDataElementOptions(x,w.active?"active":i)),g+=y,this.updateElement(w,x,k,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ae*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=Zo(n._parsed[e],s.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,r,o,a,l;if(!e){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(W(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}A(oi,"id","doughnut"),A(oi,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),A(oi,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),A(oi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,u)=>{const h=e.getDatasetMeta(0).controller.getStyle(u);return{text:l,fillStyle:h.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:s,borderRadius:o&&(a||h.borderRadius),index:u}}):[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class Xl extends oi{}A(Xl,"id","pie"),A(Xl,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Pn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class yu{constructor(e){A(this,"options");this.options=e||{}}static override(e){Object.assign(yu.prototype,e)}init(){}formats(){return Pn()}parse(){return Pn()}format(){return Pn()}add(){return Pn()}diff(){return Pn()}startOf(){return Pn()}endOf(){return Pn()}}var Xb={_date:yu};function Kb(t,e,n,s){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const u=a._reversePixels?m1:Ul;if(s){if(i._sharedOptions){const d=r[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const f=u(r,e,n-h),p=u(r,e,n+h);return{lo:f.lo,hi:p.hi}}}}else{const d=u(r,e,n);if(l){const{vScale:h}=i._cachedMeta,{_parsed:f}=t,p=f.slice(0,d.lo+1).reverse().findIndex(m=>!q(m[h.axis]));d.lo-=Math.max(0,p);const v=f.slice(d.hi).findIndex(m=>!q(m[h.axis]));d.hi+=Math.max(0,v)}return d}}return{lo:0,hi:r.length-1}}function sr(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:u,data:d}=r[a],{lo:h,hi:f}=Kb(r[a],e,o,i);for(let p=h;p<=f;++p){const v=d[p];v.skip||s(v,u,p)}}}function qb(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Ba(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||sr(t,n,e,function(a,l,u){!i&&!It(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:l,index:u})},!0),r}function Gb(t,e,n,s){let i=[];function r(o,a,l){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],s),{angle:h}=Rm(o,{x:e.x,y:e.y});Yi(h,u,d)&&i.push({element:o,datasetIndex:a,index:l})}return sr(t,n,e,r),i}function Jb(t,e,n,s,i,r){let o=[];const a=qb(n);let l=Number.POSITIVE_INFINITY;function u(d,h,f){const p=d.inRange(e.x,e.y,i);if(s&&!p)return;const v=d.getCenterPoint(i);if(!(!!r||t.isPointInArea(v))&&!p)return;const b=a(e,v);b<l?(o=[{element:d,datasetIndex:h,index:f}],l=b):b===l&&o.push({element:d,datasetIndex:h,index:f})}return sr(t,n,e,u),o}function Wa(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?Gb(t,e,n,i):Jb(t,e,n,s,i,r)}function vh(t,e,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return sr(t,n,e,(l,u,d)=>{l[o]&&l[o](e[n],i)&&(r.push({element:l,datasetIndex:u,index:d}),a=a||l.inRange(e.x,e.y,i))}),s&&!a?[]:r}var Zb={evaluateInteractionItems:sr,modes:{index(t,e,n,s){const i=Dn(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Ba(t,i,r,s,o):Wa(t,i,r,!1,s,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,h=u.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:u.index,index:d})}),l):[]},dataset(t,e,n,s){const i=Dn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Ba(t,i,r,s,o):Wa(t,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:l,index:d})}return a},point(t,e,n,s){const i=Dn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Ba(t,i,r,s,o)},nearest(t,e,n,s){const i=Dn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Wa(t,i,r,n.intersect,s,o)},x(t,e,n,s){const i=Dn(e,t);return vh(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=Dn(e,t);return vh(t,i,"y",n.intersect,s)}}};const tg=["left","top","right","bottom"];function Gs(t,e){return t.filter(n=>n.pos===e)}function bh(t,e){return t.filter(n=>tg.indexOf(n.pos)===-1&&n.box.axis===e)}function Js(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function ew(t){const e=[];let n,s,i,r,o,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function tw(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!tg.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function nw(t,e){const n=tw(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,u=n[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*s:l&&e.availableWidth,a.height=i):(a.width=s,a.height=d?d*i:l&&e.availableHeight)}return n}function sw(t){const e=ew(t),n=Js(e.filter(u=>u.box.fullSize),!0),s=Js(Gs(e,"left"),!0),i=Js(Gs(e,"right")),r=Js(Gs(e,"top"),!0),o=Js(Gs(e,"bottom")),a=bh(e,"x"),l=bh(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Gs(e,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function wh(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function ng(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function iw(t,e,n,s){const{pos:i,box:r}=n,o=t.maxPadding;if(!Y(i)){n.size&&(t[i]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[i]+=n.size}r.getPadding&&ng(o,r.getPadding());const a=Math.max(0,e.outerWidth-wh(o,t,"left","right")),l=Math.max(0,e.outerHeight-wh(o,t,"top","bottom")),u=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:d}:{same:d,other:u}}function rw(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function ow(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return s(t?["left","right"]:["top","bottom"])}function ai(t,e,n,s){const i=[];let r,o,a,l,u,d;for(r=0,o=t.length,u=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,ow(a.horizontal,e));const{same:h,other:f}=iw(e,n,a,s);u|=h&&i.length,d=d||f,l.fullSize||i.push(a)}return u&&ai(i,e,n,s)||d}function Pr(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function kh(t,e,n,s){const i=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,u=s[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const h=e.w*d,f=u.size||l.height;Qi(u.start)&&(o=u.start),l.fullSize?Pr(l,i.left,o,n.outerWidth-i.right-i.left,f):Pr(l,e.left+u.placed,o,h,f),u.start=o,u.placed+=h,o=l.bottom}else{const h=e.h*d,f=u.size||l.width;Qi(u.start)&&(r=u.start),l.fullSize?Pr(l,r,i.top,f,n.outerHeight-i.bottom-i.top):Pr(l,r,e.top+u.placed,f,h),u.start=r,u.placed+=h,r=l.right}}e.x=r,e.y=o}var rt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=Le(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=sw(t.boxes),l=a.vertical,u=a.horizontal;J(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const d=l.reduce((m,b)=>b.box.options&&b.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},i);ng(f,Le(s));const p=Object.assign({maxPadding:f,w:r,h:o,x:i.left,y:i.top},i),v=nw(l.concat(u),h);ai(a.fullSize,p,h,v),ai(l,p,h,v),ai(u,p,h,v)&&ai(l,p,h,v),rw(p),kh(a.leftAndTop,p,h,v),p.x+=p.w,p.y+=p.h,kh(a.rightAndBottom,p,h,v),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},J(a.chartArea,m=>{const b=m.box;Object.assign(b,t.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class sg{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class aw extends sg{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Xr="$chartjs",lw={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_h=t=>t===null||t==="";function cw(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[Xr]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",_h(i)){const r=oh(t,"width");r!==void 0&&(t.width=r)}if(_h(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=oh(t,"height");r!==void 0&&(t.height=r)}return t}const ig=lb?{passive:!0}:!1;function uw(t,e,n){t&&t.addEventListener(e,n,ig)}function dw(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,ig)}function hw(t,e){const n=lw[t.type]||t.type,{x:s,y:i}=Dn(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Do(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function fw(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Do(a.addedNodes,s),o=o&&!Do(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function pw(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Do(a.removedNodes,s),o=o&&!Do(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Ki=new Map;let Sh=0;function rg(){const t=window.devicePixelRatio;t!==Sh&&(Sh=t,Ki.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function mw(t,e){Ki.size||window.addEventListener("resize",rg),Ki.set(t,e)}function gw(t){Ki.delete(t),Ki.size||window.removeEventListener("resize",rg)}function xw(t,e,n){const s=t.canvas,i=s&&xu(s);if(!i)return;const r=Bm((a,l)=>{const u=i.clientWidth;n(a,l),u<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||r(u,d)});return o.observe(i),mw(t,r),o}function Ha(t,e,n){n&&n.disconnect(),e==="resize"&&gw(t)}function yw(t,e,n){const s=t.canvas,i=Bm(r=>{t.ctx!==null&&n(hw(r,t))},t);return uw(s,e,i),i}class vw extends sg{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(cw(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Xr])return!1;const s=n[Xr].initial;["height","width"].forEach(r=>{const o=s[r];q(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[Xr],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:fw,detach:pw,resize:xw}[n]||yw;i[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:Ha,detach:Ha,resize:Ha}[n]||dw)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return ab(e,n,s,i)}isAttached(e){const n=e&&xu(e);return!!(n&&n.isConnected)}}function bw(t){return!gu()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?aw:vw}class xt{constructor(){A(this,"x");A(this,"y");A(this,"active",!1);A(this,"options");A(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Mo(this.x)&&Mo(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}}A(xt,"defaults",{}),A(xt,"defaultRoutes");function ww(t,e){const n=t.options.ticks,s=kw(t),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?Sw(e):[],o=r.length,a=r[0],l=r[o-1],u=[];if(o>i)return jw(e,u,r,o/i),u;const d=_w(r,e,i);if(o>0){let h,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(Mr(e,u,d,q(p)?0:a-p,a),h=0,f=o-1;h<f;h++)Mr(e,u,d,r[h],r[h+1]);return Mr(e,u,d,l,q(p)?e.length:l+p),u}return Mr(e,u,d),u}function kw(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function _w(t,e,n){const s=Nw(t),i=e.length/n;if(!s)return Math.max(i,1);const r=u1(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function Sw(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function jw(t,e,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=n[i*s])}function Mr(t,e,n,s,i){const r=W(s,0),o=Math.min(W(i,t.length),t.length);let a=0,l,u,d;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),d=r;d<0;)a++,d=Math.round(r+a*n);for(u=Math.max(r,0);u<o;u++)u===d&&(e.push(t[u]),a++,d=Math.round(r+a*n))}function Nw(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const Cw=t=>t==="left"?"right":t==="right"?"left":t,jh=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Nh=(t,e)=>Math.min(e||t,t);function Ch(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function Pw(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),u;if(!(n&&(s===1?u=Math.max(l-r,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<r-a||l>o+a)))return l}function Mw(t,e){J(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function Zs(t){return t.drawTicks?t.tickLength:0}function Ph(t,e){if(!t.display)return 0;const n=be(t.font,e),s=Le(t.padding);return(oe(t.text)?t.text.length:1)*n.lineHeight+s.height}function Ew(t,e){return jn(t,{scale:e,type:"scale"})}function Tw(t,e,n){return jn(t,{tick:n,index:e,type:"tick"})}function Dw(t,e,n){let s=lu(t);return(n&&e!=="right"||!n&&e==="right")&&(s=Cw(s)),s}function Lw(t,e,n,s){const{top:i,left:r,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:d}=l;let h=0,f,p,v;const m=o-i,b=a-r;if(t.isHorizontal()){if(p=Ee(s,r,a),Y(n)){const g=Object.keys(n)[0],x=n[g];v=d[g].getPixelForValue(x)+m-e}else n==="center"?v=(u.bottom+u.top)/2+m-e:v=jh(t,n,e);f=a-r}else{if(Y(n)){const g=Object.keys(n)[0],x=n[g];p=d[g].getPixelForValue(x)-b+e}else n==="center"?p=(u.left+u.right)/2-b+e:p=jh(t,n,e);v=Ee(s,o,i),h=n==="left"?-pe:pe}return{titleX:p,titleY:v,maxWidth:f,rotation:h}}class Zn extends xt{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=Xe(e,Number.POSITIVE_INFINITY),n=Xe(n,Number.NEGATIVE_INFINITY),s=Xe(s,Number.POSITIVE_INFINITY),i=Xe(i,Number.NEGATIVE_INFINITY),{min:Xe(e,s),max:Xe(n,i),minDefined:ke(e),maxDefined:ke(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:Xe(n,Xe(s,n)),max:Xe(s,Xe(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){te(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=F1(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Ch(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=ww(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){te(this.options.afterUpdate,[this])}beforeSetDimensions(){te(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){te(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),te(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){te(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=te(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){te(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){te(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=Nh(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,l,u;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,p=Ve(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/s:p/(s-1),h+6>a&&(a=p/(s-(e.offset?.5:1)),l=this.maxHeight-Zs(e.grid)-n.padding-Ph(e.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),o=ou(Math.min(Math.asin(Ve((d.highest.height+6)/a,-1,1)),Math.asin(Ve(l/u,-1,1))-Math.asin(Ve(f/u,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){te(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){te(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Ph(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Zs(r)+l):(e.height=this.maxHeight,e.width=Zs(r)+l),s.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:f}=this._getLabelSizes(),p=s.padding*2,v=jt(this.labelRotation),m=Math.cos(v),b=Math.sin(v);if(a){const g=s.mirror?0:b*h.width+m*f.height;e.height=Math.min(this.maxHeight,e.height+g+p)}else{const g=s.mirror?0:m*h.width+b*f.height;e.width=Math.min(this.maxWidth,e.width+g+p)}this._calculatePadding(u,d,b,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?u?(f=i*e.width,p=s*n.height):(f=s*e.height,p=i*n.width):r==="start"?p=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,p=n.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;r==="start"?(d=0,h=e.height):r==="end"&&(d=n.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){te(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)q(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Ch(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/Nh(n,s));let u=0,d=0,h,f,p,v,m,b,g,x,y,w,k;for(h=0;h<n;h+=l){if(v=e[h].label,m=this._resolveTickFontOptions(h),i.font=b=m.string,g=r[b]=r[b]||{data:{},gc:[]},x=m.lineHeight,y=w=0,!q(v)&&!oe(v))y=Eo(i,g.data,g.gc,y,v),w=x;else if(oe(v))for(f=0,p=v.length;f<p;++f)k=v[f],!q(k)&&!oe(k)&&(y=Eo(i,g.data,g.gc,y,k),w+=x);o.push(y),a.push(w),u=Math.max(y,u),d=Math.max(w,d)}Mw(r,n);const j=o.indexOf(u),N=a.indexOf(d),S=E=>({width:o[E]||0,height:a[E]||0});return{first:S(0),last:S(n-1),widest:S(j),highest:S(N),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return p1(this._alignToPixels?Cn(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=Tw(this.getContext(),e,s))}return this.$context||(this.$context=Ew(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=jt(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,u=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=Zs(r),p=[],v=a.setContext(this.getContext()),m=v.display?v.width:0,b=m/2,g=function(H){return Cn(s,H,m)};let x,y,w,k,j,N,S,E,P,R,M,I;if(o==="top")x=g(this.bottom),N=this.bottom-f,E=x-b,R=g(e.top)+b,I=e.bottom;else if(o==="bottom")x=g(this.top),R=e.top,I=g(e.bottom)-b,N=x+b,E=this.top+f;else if(o==="left")x=g(this.right),j=this.right-f,S=x-b,P=g(e.left)+b,M=e.right;else if(o==="right")x=g(this.left),P=e.left,M=g(e.right)-b,j=x+b,S=this.left+f;else if(n==="x"){if(o==="center")x=g((e.top+e.bottom)/2+.5);else if(Y(o)){const H=Object.keys(o)[0],$=o[H];x=g(this.chart.scales[H].getPixelForValue($))}R=e.top,I=e.bottom,N=x+b,E=N+f}else if(n==="y"){if(o==="center")x=g((e.left+e.right)/2);else if(Y(o)){const H=Object.keys(o)[0],$=o[H];x=g(this.chart.scales[H].getPixelForValue($))}j=x-b,S=j-f,P=e.left,M=e.right}const G=W(i.ticks.maxTicksLimit,h),F=Math.max(1,Math.ceil(h/G));for(y=0;y<h;y+=F){const H=this.getContext(y),$=r.setContext(H),D=a.setContext(H),C=$.lineWidth,L=$.color,z=D.dash||[],K=D.dashOffset,xe=$.tickWidth,Se=$.tickColor,ct=$.tickBorderDash||[],U=$.tickBorderDashOffset;w=Pw(this,y,l),w!==void 0&&(k=Cn(s,w,C),u?j=S=P=M=k:N=E=R=I=k,p.push({tx1:j,ty1:N,tx2:S,ty2:E,x1:P,y1:R,x2:M,y2:I,width:C,color:L,borderDash:z,borderDashOffset:K,tickWidth:xe,tickColor:Se,tickBorderDash:ct,tickBorderDashOffset:U}))}return this._ticksLength=h,this._borderValue=x,p}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:d,mirror:h}=r,f=Zs(s.grid),p=f+d,v=h?-d:p,m=-jt(this.labelRotation),b=[];let g,x,y,w,k,j,N,S,E,P,R,M,I="middle";if(i==="top")j=this.bottom-v,N=this._getXAxisLabelAlignment();else if(i==="bottom")j=this.top+v,N=this._getXAxisLabelAlignment();else if(i==="left"){const F=this._getYAxisLabelAlignment(f);N=F.textAlign,k=F.x}else if(i==="right"){const F=this._getYAxisLabelAlignment(f);N=F.textAlign,k=F.x}else if(n==="x"){if(i==="center")j=(e.top+e.bottom)/2+p;else if(Y(i)){const F=Object.keys(i)[0],H=i[F];j=this.chart.scales[F].getPixelForValue(H)+p}N=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")k=(e.left+e.right)/2-p;else if(Y(i)){const F=Object.keys(i)[0],H=i[F];k=this.chart.scales[F].getPixelForValue(H)}N=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?I="top":l==="end"&&(I="bottom"));const G=this._getLabelSizes();for(g=0,x=a.length;g<x;++g){y=a[g],w=y.label;const F=r.setContext(this.getContext(g));S=this.getPixelForTick(g)+r.labelOffset,E=this._resolveTickFontOptions(g),P=E.lineHeight,R=oe(w)?w.length:1;const H=R/2,$=F.color,D=F.textStrokeColor,C=F.textStrokeWidth;let L=N;o?(k=S,N==="inner"&&(g===x-1?L=this.options.reverse?"left":"right":g===0?L=this.options.reverse?"right":"left":L="center"),i==="top"?u==="near"||m!==0?M=-R*P+P/2:u==="center"?M=-G.highest.height/2-H*P+P:M=-G.highest.height+P/2:u==="near"||m!==0?M=P/2:u==="center"?M=G.highest.height/2-H*P:M=G.highest.height-R*P,h&&(M*=-1),m!==0&&!F.showLabelBackdrop&&(k+=P/2*Math.sin(m))):(j=S,M=(1-R)*P/2);let z;if(F.showLabelBackdrop){const K=Le(F.backdropPadding),xe=G.heights[g],Se=G.widths[g];let ct=M-K.top,U=0-K.left;switch(I){case"middle":ct-=xe/2;break;case"bottom":ct-=xe;break}switch(N){case"center":U-=Se/2;break;case"right":U-=Se;break;case"inner":g===x-1?U-=Se:g>0&&(U-=Se/2);break}z={left:U,top:ct,width:Se+K.width,height:xe+K.height,color:F.backdropColor}}b.push({label:w,font:E,textOffset:M,options:{rotation:m,color:$,strokeColor:D,strokeWidth:C,textAlign:L,textBaseline:I,translation:[k,j],backdrop:z}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-jt(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let u,d;return n==="left"?i?(d=this.right+r,s==="near"?u="left":s==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-a,s==="near"?u="right":s==="center"?(u="center",d-=l/2):(u="left",d=this.left)):n==="right"?i?(d=this.left+r,s==="near"?u="right":s==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+a,s==="near"?u="left":s==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,u,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const l=i[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,h,f;this.isHorizontal()?(u=Cn(e,this.left,o)-o/2,d=Cn(e,this.right,a)+a/2,h=f=l):(h=Cn(e,this.top,o)-o/2,f=Cn(e,this.bottom,a)+a/2,u=d=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(u,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&uu(s,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,u=o.label,d=o.textOffset;qn(s,u,0,d,l,a)}i&&du(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=be(s.font),o=Le(s.padding),a=s.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||Y(n)?(l+=o.bottom,oe(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:u,titleY:d,maxWidth:h,rotation:f}=Lw(this,l,n,a);qn(e,s.text,0,0,r,{color:s.color,maxWidth:h,rotation:f,textAlign:Dw(a,n,i),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=W(e.grid&&e.grid.z,-1),i=W(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Zn.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return be(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Er{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;Rw(n)&&(s=this.register(n));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,Aw(e,o,s),this.override&&he.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in he[i]&&(delete he[i][s],this.override&&delete Kn[s])}}function Aw(t,e,n){const s=Ui(Object.create(null),[n?he.get(n):{},he.get(e),t.defaults]);he.set(e,s),t.defaultRoutes&&Ow(e,t.defaultRoutes),t.descriptors&&he.describe(e,t.descriptors)}function Ow(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");he.route(r,i,l,a)})}function Rw(t){return"id"in t&&"defaults"in t}class zw{constructor(){this.controllers=new Er(js,"datasets",!0),this.elements=new Er(xt,"elements"),this.plugins=new Er(Object,"plugins"),this.scales=new Er(Zn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):J(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const i=ru(e);te(s["before"+i],[],s),n[e](s),te(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var _t=new zw;class Iw{constructor(){this._init=void 0}notify(e,n,s,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],l=[n,i,r.options];if(te(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){q(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=W(s.options&&s.options.plugins,{}),r=Fw(s);return i===!1&&!n?[]:Ww(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function Fw(t){const e={},n=[],s=Object.keys(_t.plugins.items);for(let r=0;r<s.length;r++)n.push(_t.getPlugin(s[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function Bw(t,e){return!e&&t===!1?null:t===!0?{}:t}function Ww(t,{plugins:e,localIds:n},s,i){const r=[],o=t.getContext();for(const a of e){const l=a.id,u=Bw(s[l],i);u!==null&&r.push({plugin:a,options:Hw(t.config,{plugin:a,local:n[l]},u,o)})}return r}function Hw(t,{plugin:e,local:n},s,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(s,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Kl(t,e){const n=he.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function $w(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Vw(t,e){return t===e?"_index_":"_value_"}function Mh(t){if(t==="x"||t==="y"||t==="r")return t}function Uw(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function ql(t,...e){if(Mh(t))return t;for(const n of e){const s=n.axis||Uw(n.position)||t.length>1&&Mh(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Eh(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Qw(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return Eh(t,"x",n[0])||Eh(t,"y",n[0])}return{}}function Yw(t,e){const n=Kn[t.type]||{scales:{}},s=e.scales||{},i=Kl(t.type,e),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!Y(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=ql(o,a,Qw(o,t),he.scales[a.type]),u=Vw(l,i),d=n.scales||{};r[o]=bi(Object.create(null),[{axis:l},a,d[l],d[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Kl(a,e),d=(Kn[a]||{}).scales||{};Object.keys(d).forEach(h=>{const f=$w(h,l),p=o[f+"AxisID"]||f;r[p]=r[p]||Object.create(null),bi(r[p],[{axis:f},s[p],d[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];bi(a,[he.scales[a.type],he.scale])}),r}function og(t){const e=t.options||(t.options={});e.plugins=W(e.plugins,{}),e.scales=Yw(t,e)}function ag(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Xw(t){return t=t||{},t.data=ag(t.data),og(t),t}const Th=new Map,lg=new Set;function Tr(t,e){let n=Th.get(t);return n||(n=e(),Th.set(t,n),lg.add(n)),n}const ei=(t,e,n)=>{const s=Xn(e,n);s!==void 0&&t.add(s)};class Kw{constructor(e){this._config=Xw(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ag(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),og(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Tr(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Tr(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Tr(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Tr(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(h=>ei(l,e,h))),d.forEach(h=>ei(l,i,h)),d.forEach(h=>ei(l,Kn[r]||{},h)),d.forEach(h=>ei(l,he,h)),d.forEach(h=>ei(l,Ql,h))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),lg.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Kn[n]||{},he.datasets[n]||{},{type:n},he,Ql]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Dh(this._resolverCache,e,i);let l=o;if(Gw(o,n)){r.$shared=!1,s=bn(s)?s():s;const u=this.createResolver(e,s,a);l=Os(o,s,u)}for(const u of n)r[u]=l[u];return r}createResolver(e,n,s=[""],i){const{resolver:r}=Dh(this._resolverCache,e,s);return Y(n)?Os(r,n,void 0,i):r}}function Dh(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:fu(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const qw=t=>Y(t)&&Object.getOwnPropertyNames(t).some(e=>bn(t[e]));function Gw(t,e){const{isScriptable:n,isIndexable:s}=Vm(t);for(const i of e){const r=n(i),o=s(i),a=(o||r)&&t[i];if(r&&(bn(a)||qw(a))||o&&oe(a))return!0}return!1}var Jw="4.5.1";const Zw=["top","bottom","left","right","chartArea"];function Lh(t,e){return t==="top"||t==="bottom"||Zw.indexOf(t)===-1&&e==="x"}function Ah(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function Oh(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),te(n&&n.onComplete,[t],e)}function ek(t){const e=t.chart,n=e.options.animation;te(n&&n.onProgress,[t],e)}function cg(t){return gu()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Kr={},Rh=t=>{const e=cg(t);return Object.values(Kr).filter(n=>n.canvas===e).pop()};function tk(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function nk(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var Xt;let na=(Xt=class{static register(...e){_t.add(...e),zh()}static unregister(...e){_t.remove(...e),zh()}constructor(e,n){const s=this.config=new Kw(n),i=cg(e),r=Rh(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||bw(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,d=l&&l.width;if(this.id=t1(),this.ctx=a,this.canvas=l,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Iw,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=y1(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Kr[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Tt.listen(this,"complete",Oh),Tt.listen(this,"progress",ek),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return q(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return _t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rh(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return nh(this.canvas,this.ctx),this}stop(){return Tt.stop(this),this}resize(e,n){Tt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,rh(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),te(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};J(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=ql(o,a),u=l==="r",d=l==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),J(r,o=>{const a=o.options,l=a.id,u=ql(l,a),d=W(a.type,o.dtype);(a.position===void 0||Lh(a.position,u)!==Lh(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in s&&s[l].type===d)h=s[l];else{const f=_t.getScale(d);h=new f({id:l,type:d,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,e)}),J(i,(o,a)=>{o||delete s[a]}),J(s,o=>{rt.configure(this,o,o.options),rt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(Ah("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||Kl(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=_t.getController(a),{datasetElementType:u,dataElementType:d}=he.datasets[a];Object.assign(l,{dataElementType:_t.getElement(d),datasetElementType:u&&_t.getElement(u)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){J(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||J(r,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ah("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){J(this.scales,e=>{rt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Yd(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;tk(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!Yd(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;rt.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],J(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,bn(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Tt.has(this)?this.attached&&!Tt.running(this)&&Tt.start(this):(this.draw(),Oh({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=kb(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&uu(n,i),e.controller.draw(),i&&du(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return It(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=Zb.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=jn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);Qi(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Tt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),nh(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Kr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};J(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},r=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){J(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},J(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!No(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(l,u)=>l.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),o=r(n,e),a=s?e:r(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(e,i,s,o),l=a1(e),u=nk(e,this._lastEvent,s,l);s&&(this._lastEvent=null,te(r.onHover,[e,a,this],this),l&&te(r.onClick,[e,a,this],this));const d=!No(a,i);return(d||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=u,d}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}},A(Xt,"defaults",he),A(Xt,"instances",Kr),A(Xt,"overrides",Kn),A(Xt,"registry",_t),A(Xt,"version",Jw),A(Xt,"getChart",Rh),Xt);function zh(){return J(na.instances,t=>t._plugins.invalidate())}function sk(t,e,n){const{startAngle:s,x:i,y:r,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:u,borderJoinStyle:d}=l,h=Math.min(u/o,Be(s-n));if(t.beginPath(),t.arc(i,r,o-u/2,s+h/2,n-h/2),a>0){const f=Math.min(u/a,Be(s-n));t.arc(i,r,a+u/2,n-f/2,s+f/2,!0)}else{const f=Math.min(u/2,o*Be(s-n));if(d==="round")t.arc(i,r,f,n-X/2,s+X/2,!0);else if(d==="bevel"){const p=2*f*f,v=-p*Math.cos(n+X/2)+i,m=-p*Math.sin(n+X/2)+r,b=p*Math.cos(s+X/2)+i,g=p*Math.sin(s+X/2)+r;t.lineTo(v,m),t.lineTo(b,g)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function ik(t,e,n){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:l}=e;let u=i/a;t.beginPath(),t.arc(r,o,a,s-u,n+u),l>i?(u=i/l,t.arc(r,o,l,n+u,s-u,!0)):t.arc(r,o,i,n+pe,s-pe),t.closePath(),t.clip()}function rk(t){return hu(t,["outerStart","outerEnd","innerStart","innerEnd"])}function ok(t,e,n,s){const i=rk(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,s*e/2),a=l=>{const u=(n-Math.min(r,l))*s/2;return Ve(l,0,Math.min(r,u))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Ve(i.innerStart,0,o),innerEnd:Ve(i.innerEnd,0,o)}}function ss(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function Lo(t,e,n,s,i,r){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:d}=e,h=Math.max(e.outerRadius+s+n-u,0),f=d>0?d+s+n+u:0;let p=0;const v=i-l;if(s){const F=d>0?d-s:0,H=h>0?h-s:0,$=(F+H)/2,D=$!==0?v*$/($+s):v;p=(v-D)/2}const m=Math.max(.001,v*h-n/X)/h,b=(v-m)/2,g=l+b+p,x=i-b-p,{outerStart:y,outerEnd:w,innerStart:k,innerEnd:j}=ok(e,f,h,x-g),N=h-y,S=h-w,E=g+y/N,P=x-w/S,R=f+k,M=f+j,I=g+k/R,G=x-j/M;if(t.beginPath(),r){const F=(E+P)/2;if(t.arc(o,a,h,E,F),t.arc(o,a,h,F,P),w>0){const C=ss(S,P,o,a);t.arc(C.x,C.y,w,P,x+pe)}const H=ss(M,x,o,a);if(t.lineTo(H.x,H.y),j>0){const C=ss(M,G,o,a);t.arc(C.x,C.y,j,x+pe,G+Math.PI)}const $=(x-j/f+(g+k/f))/2;if(t.arc(o,a,f,x-j/f,$,!0),t.arc(o,a,f,$,g+k/f,!0),k>0){const C=ss(R,I,o,a);t.arc(C.x,C.y,k,I+Math.PI,g-pe)}const D=ss(N,g,o,a);if(t.lineTo(D.x,D.y),y>0){const C=ss(N,E,o,a);t.arc(C.x,C.y,y,g-pe,E)}}else{t.moveTo(o,a);const F=Math.cos(E)*h+o,H=Math.sin(E)*h+a;t.lineTo(F,H);const $=Math.cos(P)*h+o,D=Math.sin(P)*h+a;t.lineTo($,D)}t.closePath()}function ak(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){Lo(t,e,n,s,l,i);for(let u=0;u<r;++u)t.fill();isNaN(a)||(l=o+(a%ae||ae))}return Lo(t,e,n,s,l,i),t.fill(),l}function lk(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:d,borderDash:h,borderDashOffset:f,borderRadius:p}=l,v=l.borderAlign==="inner";if(!u)return;t.setLineDash(h||[]),t.lineDashOffset=f,v?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let m=e.endAngle;if(r){Lo(t,e,n,s,m,i);for(let b=0;b<r;++b)t.stroke();isNaN(a)||(m=o+(a%ae||ae))}v&&ik(t,e,m),l.selfJoin&&m-o>=X&&p===0&&d!=="miter"&&sk(t,e,m),r||(Lo(t,e,n,s,m,i),t.stroke())}class li extends xt{constructor(n){super();A(this,"circumference");A(this,"endAngle");A(this,"fullCircles");A(this,"innerRadius");A(this,"outerRadius");A(this,"pixelMargin");A(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.getProps(["x","y"],i),{angle:o,distance:a}=Rm(r,{x:n,y:s}),{startAngle:l,endAngle:u,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,v=W(f,u-l),m=Yi(o,l,u)&&l!==u,b=v>=ae||m,g=rn(a,d+p,h+p);return b&&g}getCenterPoint(n){const{x:s,y:i,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,h=(r+o)/2,f=(a+l+d+u)/2;return{x:s+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:i}=this,r=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>ae?Math.floor(i/ae):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*r,Math.sin(l)*r);const u=1-Math.sin(Math.min(X,i||0)),d=r*u;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,ak(n,this,d,o,a),lk(n,this,d,o,a),n.restore()}}A(li,"id","arc"),A(li,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),A(li,"defaultRoutes",{backgroundColor:"backgroundColor"}),A(li,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function ug(t,e,n=e){t.lineCap=W(n.borderCapStyle,e.borderCapStyle),t.setLineDash(W(n.borderDash,e.borderDash)),t.lineDashOffset=W(n.borderDashOffset,e.borderDashOffset),t.lineJoin=W(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=W(n.borderWidth,e.borderWidth),t.strokeStyle=W(n.borderColor,e.borderColor)}function ck(t,e,n){t.lineTo(n.x,n.y)}function uk(t){return t.stepped?E1:t.tension||t.cubicInterpolationMode==="monotone"?T1:ck}function dg(t,e,n={}){const s=t.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=e,l=Math.max(i,o),u=Math.min(r,a),d=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:e.loop,ilen:u<l&&!d?s+u-l:u-l}}function dk(t,e,n,s){const{points:i,options:r}=e,{count:o,start:a,loop:l,ilen:u}=dg(i,n,s),d=uk(r);let{move:h=!0,reverse:f}=s||{},p,v,m;for(p=0;p<=u;++p)v=i[(a+(f?u-p:p))%o],!v.skip&&(h?(t.moveTo(v.x,v.y),h=!1):d(t,m,v,f,r.stepped),m=v);return l&&(v=i[(a+(f?u:0))%o],d(t,m,v,f,r.stepped)),!!l}function hk(t,e,n,s){const i=e.points,{count:r,start:o,ilen:a}=dg(i,n,s),{move:l=!0,reverse:u}=s||{};let d=0,h=0,f,p,v,m,b,g;const x=w=>(o+(u?a-w:w))%r,y=()=>{m!==b&&(t.lineTo(d,b),t.lineTo(d,m),t.lineTo(d,g))};for(l&&(p=i[x(0)],t.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[x(f)],p.skip)continue;const w=p.x,k=p.y,j=w|0;j===v?(k<m?m=k:k>b&&(b=k),d=(h*d+w)/++h):(y(),t.lineTo(w,k),v=j,h=0,m=b=k),g=k}y()}function Gl(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?hk:dk}function fk(t){return t.stepped?cb:t.tension||t.cubicInterpolationMode==="monotone"?ub:Ln}function pk(t,e,n,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,s)&&i.closePath()),ug(t,e.options),t.stroke(i)}function mk(t,e,n,s){const{segments:i,options:r}=e,o=Gl(e);for(const a of i)ug(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const gk=typeof Path2D=="function";function xk(t,e,n,s){gk&&!e.options.segment?pk(t,e,n,s):mk(t,e,n,s)}class ci extends xt{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;tb(this._points,s,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=yb(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,i=e[n],r=this.points,o=mb(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=fk(s);let u,d;for(u=0,d=o.length;u<d;++u){const{start:h,end:f}=o[u],p=r[h],v=r[f];if(p===v){a.push(p);continue}const m=Math.abs((i-p[n])/(v[n]-p[n])),b=l(p,v,m,s.stepped);b[n]=e[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,n,s){return Gl(this)(e,this,n,s)}path(e,n,s){const i=this.segments,r=Gl(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),xk(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}A(ci,"id","line"),A(ci,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),A(ci,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),A(ci,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Ih(t,e,n,s){const i=t.options,{[n]:r}=t.getProps([n],s);return Math.abs(e-r)<i.radius+i.hitRadius}class qr extends xt{constructor(n){super();A(this,"parsed");A(this,"skip");A(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(s-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,s){return Ih(this,n,"x",s)}inYRange(n,s){return Ih(this,n,"y",s)}getCenterPoint(n){const{x:s,y:i}=this.getProps(["x","y"],n);return{x:s,y:i}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const i=s&&n.borderWidth||0;return(s+i)*2}draw(n,s){const i=this.options;this.skip||i.radius<.1||!It(this,s,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Yl(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}A(qr,"id","point"),A(qr,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),A(qr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function hg(t,e){const{x:n,y:s,base:i,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,u,d,h;return t.horizontal?(h=o/2,a=Math.min(n,i),l=Math.max(n,i),u=s-h,d=s+h):(h=r/2,a=n-h,l=n+h,u=Math.min(s,i),d=Math.max(s,i)),{left:a,top:u,right:l,bottom:d}}function an(t,e,n,s){return t?0:Ve(e,n,s)}function yk(t,e,n){const s=t.options.borderWidth,i=t.borderSkipped,r=$m(s);return{t:an(i.top,r.top,0,n),r:an(i.right,r.right,0,e),b:an(i.bottom,r.bottom,0,n),l:an(i.left,r.left,0,e)}}function vk(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,r=Wn(i),o=Math.min(e,n),a=t.borderSkipped,l=s||Y(i);return{topLeft:an(!l||a.top||a.left,r.topLeft,0,o),topRight:an(!l||a.top||a.right,r.topRight,0,o),bottomLeft:an(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:an(!l||a.bottom||a.right,r.bottomRight,0,o)}}function bk(t){const e=hg(t),n=e.right-e.left,s=e.bottom-e.top,i=yk(t,n/2,s/2),r=vk(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function $a(t,e,n,s){const i=e===null,r=n===null,a=t&&!(i&&r)&&hg(t,s);return a&&(i||rn(e,a.left,a.right))&&(r||rn(n,a.top,a.bottom))}function wk(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function kk(t,e){t.rect(e.x,e.y,e.w,e.h)}function Va(t,e,n={}){const s=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+s,y:t.y+i,w:t.w+r,h:t.h+o,radius:t.radius}}class Gr extends xt{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=bk(this),a=wk(o.radius)?Xi:kk;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,Va(o,n,r)),e.clip(),a(e,Va(r,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,Va(r,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,s){return $a(this,e,n,s)}inXRange(e,n){return $a(this,e,null,n)}inYRange(e,n){return $a(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}A(Gr,"id","bar"),A(Gr,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),A(Gr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Fh=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},_k=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Bh extends xt{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=te(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=be(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Fh(s,r);let u,d;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,r,a,l)+10):(d=this.maxHeight,u=this._fitCols(o,i,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=i+a;let h=e;r.textAlign="left",r.textBaseline="middle";let f=-1,p=-d;return this.legendItems.forEach((v,m)=>{const b=s+n/2+r.measureText(v.text).width;(m===0||u[u.length-1]+b+2*a>o)&&(h+=d,u[u.length-(m>0?0:1)]=0,p+=d,f++),l[m]={left:0,top:p,row:f,width:b,height:i},u[u.length-1]+=b+a}),h}_fitCols(e,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-e;let h=a,f=0,p=0,v=0,m=0;return this.legendItems.forEach((b,g)=>{const{itemWidth:x,itemHeight:y}=Sk(s,n,r,b,i);g>0&&p+y+2*a>d&&(h+=f+a,u.push({width:f,height:p}),v+=f+a,m++,f=p=0),l[g]={left:v,top:p,col:m,width:x,height:y},f=Math.max(f,x),p+=y+a}),h+=f,u.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=Ss(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ee(s,this.left+i,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=Ee(s,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+i}else{let a=0,l=Ee(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=Ee(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;uu(e,this),this._draw(),du(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=he.color,l=Ss(e.rtl,this.left,this.width),u=be(o.font),{padding:d}=o,h=u.size,f=h/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:v,boxHeight:m,itemHeight:b}=Fh(o,h),g=function(j,N,S){if(isNaN(v)||v<=0||isNaN(m)||m<0)return;i.save();const E=W(S.lineWidth,1);if(i.fillStyle=W(S.fillStyle,a),i.lineCap=W(S.lineCap,"butt"),i.lineDashOffset=W(S.lineDashOffset,0),i.lineJoin=W(S.lineJoin,"miter"),i.lineWidth=E,i.strokeStyle=W(S.strokeStyle,a),i.setLineDash(W(S.lineDash,[])),o.usePointStyle){const P={radius:m*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:E},R=l.xPlus(j,v/2),M=N+f;Hm(i,P,R,M,o.pointStyleWidth&&v)}else{const P=N+Math.max((h-m)/2,0),R=l.leftForLtr(j,v),M=Wn(S.borderRadius);i.beginPath(),Object.values(M).some(I=>I!==0)?Xi(i,{x:R,y:P,w:v,h:m,radius:M}):i.rect(R,P,v,m),i.fill(),E!==0&&i.stroke()}i.restore()},x=function(j,N,S){qn(i,S.text,j,N+b/2,u,{strikethrough:S.hidden,textAlign:l.textAlign(S.textAlign)})},y=this.isHorizontal(),w=this._computeTitleHeight();y?p={x:Ee(r,this.left+d,this.right-s[0]),y:this.top+d+w,line:0}:p={x:this.left+d,y:Ee(r,this.top+w+d,this.bottom-n[0].height),line:0},Km(this.ctx,e.textDirection);const k=b+d;this.legendItems.forEach((j,N)=>{i.strokeStyle=j.fontColor,i.fillStyle=j.fontColor;const S=i.measureText(j.text).width,E=l.textAlign(j.textAlign||(j.textAlign=o.textAlign)),P=v+f+S;let R=p.x,M=p.y;l.setWidth(this.width),y?N>0&&R+P+d>this.right&&(M=p.y+=k,p.line++,R=p.x=Ee(r,this.left+d,this.right-s[p.line])):N>0&&M+k>this.bottom&&(R=p.x=R+n[p.line].width+d,p.line++,M=p.y=Ee(r,this.top+w+d,this.bottom-n[p.line].height));const I=l.x(R);if(g(I,M,j),R=v1(E,R+v+f,y?R+P:this.right,e.rtl),x(l.x(R),M,j),y)p.x+=P+d;else if(typeof j.text!="string"){const G=u.lineHeight;p.y+=fg(j,G)+d}else p.y+=k}),qm(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=be(n.font),i=Le(n.padding);if(!n.display)return;const r=Ss(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,u=i.top+l;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,h=Ee(e.align,h,this.right-f);else{const v=this.columnSizes.reduce((m,b)=>Math.max(m,b.height),0);d=u+Ee(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const p=Ee(a,h,h+f);o.textAlign=r.textAlign(lu(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,qn(o,n.text,p,d,s)}_computeTitleHeight(){const e=this.options.title,n=be(e.font),s=Le(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,r;if(rn(e,this.left,this.right)&&rn(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],rn(e,i.left,i.left+i.width)&&rn(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!Ck(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=_k(i,s);i&&!r&&te(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&te(n.onHover,[e,s,this],this)}else s&&te(n.onClick,[e,s,this],this)}}function Sk(t,e,n,s,i){const r=jk(s,t,e,n),o=Nk(i,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}function jk(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+s.measureText(i).width}function Nk(t,e,n){let s=t;return typeof e.text!="string"&&(s=fg(e,n)),s}function fg(t,e){const n=t.text?t.text.length:0;return e*n}function Ck(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Pk={id:"legend",_element:Bh,start(t,e,n){const s=t.legend=new Bh({ctx:t.ctx,options:n,chart:t});rt.configure(t,s,n),rt.addBox(t,s)},stop(t){rt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;rt.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),d=Le(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class pg extends xt{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=oe(s.text)?s.text.length:1;this._padding=Le(s.padding);const r=i*be(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,u,d,h;return this.isHorizontal()?(d=Ee(a,s,r),h=n+e,u=r-s):(o.position==="left"?(d=s+e,h=Ee(a,i,n),l=X*-.5):(d=r-e,h=Ee(a,n,i),l=X*.5),u=i-n),{titleX:d,titleY:h,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=be(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(r);qn(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:u,textAlign:lu(n.align),textBaseline:"middle",translation:[o,a]})}}function Mk(t,e){const n=new pg({ctx:t.ctx,options:e,chart:t});rt.configure(t,n,e),rt.addBox(t,n),t.titleBlock=n}var Ek={id:"title",_element:pg,start(t,e,n){Mk(t,n)},stop(t){const e=t.titleBlock;rt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;rt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ui={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=Vl(e,u);d<i&&(i=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function wt(t,e){return e&&(oe(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Dt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Tk(t,e){const{element:n,datasetIndex:s,index:i}=e,r=t.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function Wh(t,e){const n=t.chart.ctx,{body:s,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=be(e.bodyFont),u=be(e.titleFont),d=be(e.footerFont),h=r.length,f=i.length,p=s.length,v=Le(e.padding);let m=v.height,b=0,g=s.reduce((w,k)=>w+k.before.length+k.lines.length+k.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,h&&(m+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),g){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=p*w+(g-p)*l.lineHeight+(g-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let x=0;const y=function(w){b=Math.max(b,n.measureText(w).width+x)};return n.save(),n.font=u.string,J(t.title,y),n.font=l.string,J(t.beforeBody.concat(t.afterBody),y),x=e.displayColors?o+2+e.boxPadding:0,J(s,w=>{J(w.before,y),J(w.lines,y),J(w.after,y)}),x=0,n.font=d.string,J(t.footer,y),n.restore(),b+=v.width,{width:b,height:m}}function Dk(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function Lk(t,e,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function Ak(t,e,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return s==="center"?u=i<=(a+l)/2?"left":"right":i<=r/2?u="left":i>=o-r/2&&(u="right"),Lk(u,t,e,n)&&(u="center"),u}function Hh(t,e,n){const s=n.yAlign||e.yAlign||Dk(t,n);return{xAlign:n.xAlign||e.xAlign||Ak(t,e,n,s),yAlign:s}}function Ok(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function Rk(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function $h(t,e,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=i+r,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=Wn(o);let v=Ok(e,a);const m=Rk(e,l,u);return l==="center"?a==="left"?v+=u:a==="right"&&(v-=u):a==="left"?v-=Math.max(d,f)+i:a==="right"&&(v+=Math.max(h,p)+i),{x:Ve(v,0,s.width-e.width),y:Ve(m,0,s.height-e.height)}}function Dr(t,e,n){const s=Le(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function Vh(t){return wt([],Dt(t))}function zk(t,e,n){return jn(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Uh(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const mg={beforeTitle:Et,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Et,beforeBody:Et,beforeLabel:Et,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return q(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Et,afterBody:Et,beforeFooter:Et,footer:Et,afterFooter:Et};function Ie(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?mg[e].call(n,s):i}class Jl extends xt{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new Jm(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=zk(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=Ie(s,"beforeTitle",this,e),r=Ie(s,"title",this,e),o=Ie(s,"afterTitle",this,e);let a=[];return a=wt(a,Dt(i)),a=wt(a,Dt(r)),a=wt(a,Dt(o)),a}getBeforeBody(e,n){return Vh(Ie(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return J(e,r=>{const o={before:[],lines:[],after:[]},a=Uh(s,r);wt(o.before,Dt(Ie(a,"beforeLabel",this,r))),wt(o.lines,Ie(a,"label",this,r)),wt(o.after,Dt(Ie(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,n){return Vh(Ie(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=Ie(s,"beforeFooter",this,e),r=Ie(s,"footer",this,e),o=Ie(s,"afterFooter",this,e);let a=[];return a=wt(a,Dt(i)),a=wt(a,Dt(r)),a=wt(a,Dt(o)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(Tk(this.chart,n[l]));return e.filter&&(a=a.filter((d,h,f)=>e.filter(d,h,f,s))),e.itemSort&&(a=a.sort((d,h)=>e.itemSort(d,h,s))),J(a,d=>{const h=Uh(e.callbacks,d);i.push(Ie(h,"labelColor",this,d)),r.push(Ie(h,"labelPointStyle",this,d)),o.push(Ie(h,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=ui[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=Wh(this,s),u=Object.assign({},a,l),d=Hh(this.chart,s,u),h=$h(s,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const r=this.getCaretPosition(e,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:h}=Wn(a),{x:f,y:p}=e,{width:v,height:m}=n;let b,g,x,y,w,k;return r==="center"?(w=p+m/2,i==="left"?(b=f,g=b-o,y=w+o,k=w-o):(b=f+v,g=b+o,y=w-o,k=w+o),x=b):(i==="left"?g=f+Math.max(l,d)+o:i==="right"?g=f+v-Math.max(u,h)-o:g=this.caretX,r==="top"?(y=p,w=y-o,b=g-o,x=g+o):(y=p+m,w=y+o,b=g+o,x=g-o),k=y),{x1:b,x2:g,x3:x,y1:y,y2:w,y3:k}}drawTitle(e,n,s){const i=this.title,r=i.length;let o,a,l;if(r){const u=Ss(s.rtl,this.x,this.width);for(e.x=Dr(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",o=be(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(i[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:u}=r,d=be(r.bodyFont),h=Dr(this,"left",r),f=i.x(h),p=l<d.lineHeight?(d.lineHeight-l)/2:0,v=n.y+p;if(r.usePointStyle){const m={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=i.leftForLtr(f,u)+u/2,g=v+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Yl(e,m,b,g),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Yl(e,m,b,g)}else{e.lineWidth=Y(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=i.leftForLtr(f,u),b=i.leftForLtr(i.xPlus(f,1),u-2),g=Wn(o.borderRadius);Object.values(g).some(x=>x!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Xi(e,{x:m,y:v,w:u,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Xi(e,{x:b,y:v+1,w:u-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(m,v,u,l),e.strokeRect(m,v,u,l),e.fillStyle=o.backgroundColor,e.fillRect(b,v+1,u-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:d}=s,h=be(s.bodyFont);let f=h.lineHeight,p=0;const v=Ss(s.rtl,this.x,this.width),m=function(S){n.fillText(S,v.x(e.x+p),e.y+f/2),e.y+=f+r},b=v.textAlign(o);let g,x,y,w,k,j,N;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Dr(this,b,s),n.fillStyle=s.bodyColor,J(this.beforeBody,m),p=a&&b!=="right"?o==="center"?u/2+d:u+2+d:0,w=0,j=i.length;w<j;++w){for(g=i[w],x=this.labelTextColors[w],n.fillStyle=x,J(g.before,m),y=g.lines,a&&y.length&&(this._drawColorBox(n,e,w,v,s),f=Math.max(h.lineHeight,l)),k=0,N=y.length;k<N;++k)m(y[k]),f=h.lineHeight;J(g.after,m)}p=0,f=h.lineHeight,J(this.afterBody,m),e.y-=r}drawFooter(e,n,s){const i=this.footer,r=i.length;let o,a;if(r){const l=Ss(s.rtl,this.x,this.width);for(e.x=Dr(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=be(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:d}=s,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:v}=Wn(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+u-f,l),n.quadraticCurveTo(a+u,l,a+u,l+f),o==="center"&&r==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+u,l+d-v),n.quadraticCurveTo(a+u,l+d,a+u-v,l+d),o==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+p,l+d),n.quadraticCurveTo(a,l+d,a,l+d-p),o==="center"&&r==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=ui[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Wh(this,e),l=Object.assign({},o,this._size),u=Hh(n,e,l),d=$h(e,l,u,n);(i._to!==d.x||r._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Le(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,n),Km(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),qm(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),r=!No(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,s),a=this._positionChanged(o,e),l=n||!No(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:i,options:r}=this,o=ui[r.position].call(this,e,n);return o!==!1&&(s!==o.x||i!==o.y)}}A(Jl,"positioners",ui);var Ik={id:"tooltip",_element:Jl,positioners:ui,afterInit(t,e,n){n&&(t.tooltip=new Jl({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:mg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Fk=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Bk(t,e,n,s){const i=t.indexOf(e);if(i===-1)return Fk(t,e,n,s);const r=t.lastIndexOf(e);return i!==r?n:i}const Wk=(t,e)=>t===null?null:Ve(Math.round(t),0,e);function Qh(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Zl extends Zn{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(q(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:Bk(s,e,W(n,e),this._addedLabels),Wk(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return Qh.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}A(Zl,"id","category"),A(Zl,"defaults",{ticks:{callback:Qh}});function Hk(t,e){const n=[],{bounds:i,step:r,min:o,max:a,precision:l,count:u,maxTicks:d,maxDigits:h,includeBounds:f}=t,p=r||1,v=d-1,{min:m,max:b}=e,g=!q(o),x=!q(a),y=!q(u),w=(b-m)/(h+1);let k=Kd((b-m)/v/p)*p,j,N,S,E;if(k<1e-14&&!g&&!x)return[{value:m},{value:b}];E=Math.ceil(b/k)-Math.floor(m/k),E>v&&(k=Kd(E*k/v/p)*p),q(l)||(j=Math.pow(10,l),k=Math.ceil(k*j)/j),i==="ticks"?(N=Math.floor(m/k)*k,S=Math.ceil(b/k)*k):(N=m,S=b),g&&x&&r&&h1((a-o)/r,k/1e3)?(E=Math.round(Math.min((a-o)/k,d)),k=(a-o)/E,N=o,S=a):y?(N=g?o:N,S=x?a:S,E=u-1,k=(S-N)/E):(E=(S-N)/k,wi(E,Math.round(E),k/1e3)?E=Math.round(E):E=Math.ceil(E));const P=Math.max(qd(k),qd(N));j=Math.pow(10,q(l)?P:l),N=Math.round(N*j)/j,S=Math.round(S*j)/j;let R=0;for(g&&(f&&N!==o?(n.push({value:o}),N<o&&R++,wi(Math.round((N+R*k)*j)/j,o,Yh(o,w,t))&&R++):N<o&&R++);R<E;++R){const M=Math.round((N+R*k)*j)/j;if(x&&M>a)break;n.push({value:M})}return x&&f&&S!==a?n.length&&wi(n[n.length-1].value,a,Yh(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!x||S===a)&&n.push({value:S}),n}function Yh(t,e,{horizontal:n,minRotation:s}){const i=jt(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class Ao extends Zn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return q(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=n?i:l,a=l=>r=s?r:l;if(e){const l=Pt(i),u=Pt(r);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(i-l)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=Hk(i,r);return e.bounds==="ticks"&&Om(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return Zo(e,this.chart.options.locale,this.options.ticks.format)}}class ec extends Ao{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ke(e)?e:0,this.max=ke(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=jt(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}A(ec,"id","linear"),A(ec,"defaults",{ticks:{callback:ea.formatters.numeric}});const qi=t=>Math.floor(sn(t)),Mn=(t,e)=>Math.pow(10,qi(t)+e);function Xh(t){return t/Math.pow(10,qi(t))===1}function Kh(t,e,n){const s=Math.pow(10,n),i=Math.floor(t/s);return Math.ceil(e/s)-i}function $k(t,e){const n=e-t;let s=qi(n);for(;Kh(t,e,s)>10;)s++;for(;Kh(t,e,s)<10;)s--;return Math.min(s,qi(t))}function Vk(t,{min:e,max:n}){e=Xe(t.min,e);const s=[],i=qi(e);let r=$k(e,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=i>r?Math.pow(10,i):0,u=Math.round((e-l)*o)/o,d=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((u-d)/Math.pow(10,r)),f=Xe(t.min,Math.round((l+d+h*Math.pow(10,r))*o)/o);for(;f<n;)s.push({value:f,major:Xh(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),f=Math.round((l+d+h*Math.pow(10,r))*o)/o;const p=Xe(t.max,f);return s.push({value:p,major:Xh(p),significand:h}),s}class qh extends Zn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const s=Ao.prototype.parse.apply(this,[e,n]);if(s===0){this._zero=!0;return}return ke(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ke(e)?Math.max(0,e):null,this.max=ke(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ke(this._userMin)&&(this.min=e===Mn(this.min,0)?Mn(this.min,-1):Mn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let s=this.min,i=this.max;const r=a=>s=e?s:a,o=a=>i=n?i:a;s===i&&(s<=0?(r(1),o(10)):(r(Mn(s,-1)),o(Mn(i,1)))),s<=0&&r(Mn(i,-1)),i<=0&&o(Mn(s,1)),this.min=s,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},s=Vk(n,this);return e.bounds==="ticks"&&Om(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":Zo(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=sn(e),this._valueRange=sn(this.max)-sn(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(sn(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}A(qh,"id","logarithmic"),A(qh,"defaults",{ticks:{callback:ea.formatters.logarithmic,major:{enabled:!0}}});function tc(t){const e=t.ticks;if(e.display&&t.display){const n=Le(e.backdropPadding);return W(e.font&&e.font.size,he.font.size)+n.height}return 0}function Uk(t,e,n){return n=oe(n)?n:[n],{w:M1(t,e.string,n),h:n.length*e.lineHeight}}function Gh(t,e,n,s,i){return t===s||t===i?{start:e-n/2,end:e+n/2}:t<s||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function Qk(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),s=[],i=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?X/r:0;for(let l=0;l<r;l++){const u=o.setContext(t.getPointLabelContext(l));i[l]=u.padding;const d=t.getPointPosition(l,t.drawingArea+i[l],a),h=be(u.font),f=Uk(t.ctx,h,t._pointLabels[l]);s[l]=f;const p=Be(t.getIndexAngle(l)+a),v=Math.round(ou(p)),m=Gh(v,d.x,f.w,0,180),b=Gh(v,d.y,f.h,90,270);Yk(n,e,p,m,b)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=qk(t,s,i)}function Yk(t,e,n,s,i){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;s.start<e.l?(a=(e.l-s.start)/r,t.l=Math.min(t.l,e.l-a)):s.end>e.r&&(a=(s.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function Xk(t,e,n){const s=t.drawingArea,{extra:i,additionalAngle:r,padding:o,size:a}=n,l=t.getPointPosition(e,s+i+o,r),u=Math.round(ou(Be(l.angle+pe))),d=Zk(l.y,a.h,u),h=Gk(u),f=Jk(l.x,a.w,h);return{visible:!0,x:l.x,y:d,textAlign:h,left:f,top:d,right:f+a.w,bottom:d+a.h}}function Kk(t,e){if(!e)return!0;const{left:n,top:s,right:i,bottom:r}=t;return!(It({x:n,y:s},e)||It({x:n,y:r},e)||It({x:i,y:s},e)||It({x:i,y:r},e))}function qk(t,e,n){const s=[],i=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:tc(r)/2,additionalAngle:o?X/i:0};let u;for(let d=0;d<i;d++){l.padding=n[d],l.size=e[d];const h=Xk(t,d,l);s.push(h),a==="auto"&&(h.visible=Kk(h,u),h.visible&&(u=h))}return s}function Gk(t){return t===0||t===180?"center":t<180?"left":"right"}function Jk(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function Zk(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function e2(t,e,n){const{left:s,top:i,right:r,bottom:o}=n,{backdropColor:a}=e;if(!q(a)){const l=Wn(e.borderRadius),u=Le(e.backdropPadding);t.fillStyle=a;const d=s-u.left,h=i-u.top,f=r-s+u.width,p=o-i+u.height;Object.values(l).some(v=>v!==0)?(t.beginPath(),Xi(t,{x:d,y:h,w:f,h:p,radius:l}),t.fill()):t.fillRect(d,h,f,p)}}function t2(t,e){const{ctx:n,options:{pointLabels:s}}=t;for(let i=e-1;i>=0;i--){const r=t._pointLabelItems[i];if(!r.visible)continue;const o=s.setContext(t.getPointLabelContext(i));e2(n,o,r);const a=be(o.font),{x:l,y:u,textAlign:d}=r;qn(n,t._pointLabels[i],l,u+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}function gg(t,e,n,s){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,ae);else{let r=t.getPointPosition(0,e);i.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=t.getPointPosition(o,e),i.lineTo(r.x,r.y)}}function n2(t,e,n,s,i){const r=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!s||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),gg(t,n,o,s),r.closePath(),r.stroke(),r.restore())}function s2(t,e,n){return jn(t,{label:n,index:e,type:"pointLabel"})}class Lr extends Ao{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Le(tc(this.options)/2),n=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=ke(e)&&!isNaN(e)?e:0,this.max=ke(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/tc(this.options))}generateTickLabels(e){Ao.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,s)=>{const i=te(this.options.pointLabels.callback,[n,s],this);return i||i===0?i:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?Qk(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,s,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,s,i))}getIndexAngle(e){const n=ae/(this._pointLabels.length||1),s=this.options.startAngle||0;return Be(e*n+jt(s))}getDistanceFromCenterForValue(e){if(q(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(q(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const s=n[e];return s2(this.getContext(),e,s)}}getPointPosition(e,n,s=0){const i=this.getIndexAngle(e)-pe+s;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:s,right:i,bottom:r}=this._pointLabelItems[e];return{left:n,top:s,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),gg(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:s,grid:i,border:r}=n,o=this._pointLabels.length;let a,l,u;if(n.pointLabels.display&&t2(this,o),i.display&&this.ticks.forEach((d,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);const f=this.getContext(h),p=i.setContext(f),v=r.setContext(f);n2(this,p,l,o,v)}}),s.display){for(e.save(),a=o-1;a>=0;a--){const d=s.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=d;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const u=s.setContext(this.getContext(l)),d=be(u.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=d.string,o=e.measureText(a.label).width,e.fillStyle=u.backdropColor;const h=Le(u.backdropPadding);e.fillRect(-o/2-h.left,-r-d.size/2-h.top,o+h.width,d.size+h.height)}qn(e,a.label,0,-r,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}A(Lr,"id","radialLinear"),A(Lr,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ea.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),A(Lr,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),A(Lr,"descriptors",{angleLines:{_fallback:"grid"}});const sa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},He=Object.keys(sa);function Jh(t,e){return t-e}function Zh(t,e){if(q(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),ke(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Mo(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function ef(t,e,n,s){const i=He.length;for(let r=He.indexOf(t);r<i-1;++r){const o=sa[He[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return He[r]}return He[i-1]}function i2(t,e,n,s,i){for(let r=He.length-1;r>=He.indexOf(n);r--){const o=He[r];if(sa[o].common&&t._adapter.diff(i,s,o)>=e-1)return o}return He[n?He.indexOf(n):0]}function r2(t){for(let e=He.indexOf(t)+1,n=He.length;e<n;++e)if(sa[He[e]].common)return He[e]}function tf(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=au(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function o2(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function nf(t,e,n){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:o2(t,s,i,n)}class Oo extends Zn{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new Xb._date(e.adapters.date);i.init(n),bi(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Zh(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(r=Math.max(r,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=ke(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=ke(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=g1(i,r,o);return this._unit=n.unit||(s.autoSkip?ef(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):i2(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:r2(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),nf(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Ve(n,0,o),s=Ve(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||ef(r.minUnit,n,s,this._getLabelCapacity(n)),a=W(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,u=Mo(l)||l===!0,d={};let h=n,f,p;if(u&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,u?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const v=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<s;f=+e.add(f,a,o),p++)tf(d,f,v);return(f===s||i.bounds==="ticks"||p===1)&&tf(d,f,v),Object.keys(d).sort(Jh).map(m=>+m)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return te(o,[e,n,s],this);const a=r.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&a[l],h=u&&a[u],f=s[n],p=u&&h&&f&&f.major;return this._adapter.format(e,i||(p?h:d))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=jt(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,nf(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(Zh(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Im(e.sort(Jh))}}A(Oo,"id","time"),A(Oo,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ar(t,e,n){let s=0,i=t.length-1,r,o,a,l;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=Ul(t,"pos",e)),{pos:r,time:a}=t[s],{pos:o,time:l}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=Ul(t,"time",e)),{time:r,pos:a}=t[s],{time:o,pos:l}=t[i]);const u=o-r;return u?a+(l-a)*(e-r)/u:a}class sf extends Oo{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Ar(n,this.min),this._tableRange=Ar(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let o,a,l,u,d;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=s&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)d=i[o+1],l=i[o-1],u=i[o],Math.round((d+l)/2)!==u&&r.push({time:u,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Ar(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Ar(this._table,s*this._tableRange+this._minPos,!0)}}A(sf,"id","timeseries"),A(sf,"defaults",Oo.defaults);const xg="label";function rf(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function a2(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function yg(t,e){t.labels=e}function vg(t,e,n=xg){const s=[];t.datasets=e.map(i=>{const r=t.datasets.find(o=>o[n]===i[n]);return!r||!i.data||s.includes(r)?{...i}:(s.push(r),Object.assign(r,i),r)})}function l2(t,e=xg){const n={labels:[],datasets:[]};return yg(n,t.labels),vg(n,t.datasets,e),n}function c2(t,e){const{height:n=150,width:s=300,redraw:i=!1,datasetIdKey:r,type:o,data:a,options:l,plugins:u=[],fallbackContent:d,updateMode:h,...f}=t,p=_.useRef(null),v=_.useRef(null),m=()=>{p.current&&(v.current=new na(p.current,{type:o,data:l2(a,r),options:l&&{...l},plugins:u}),rf(e,v.current))},b=()=>{rf(e,null),v.current&&(v.current.destroy(),v.current=null)};return _.useEffect(()=>{!i&&v.current&&l&&a2(v.current,l)},[i,l]),_.useEffect(()=>{!i&&v.current&&yg(v.current.config.data,a.labels)},[i,a.labels]),_.useEffect(()=>{!i&&v.current&&a.datasets&&vg(v.current.config.data,a.datasets,r)},[i,a.datasets]),_.useEffect(()=>{v.current&&(i?(b(),setTimeout(m)):v.current.update(h))},[i,l,a.labels,a.datasets,h]),_.useEffect(()=>{v.current&&(b(),setTimeout(m))},[o]),_.useEffect(()=>(m(),()=>b()),[]),c.jsx("canvas",{ref:p,role:"img",height:n,width:s,...f,children:d})}const u2=_.forwardRef(c2);function bg(t,e){return na.register(e),_.forwardRef((n,s)=>c.jsx(u2,{...n,ref:s,type:t}))}const d2=bg("bar",Yr),h2=bg("pie",Xl);na.register(Zl,ec,Gr,ci,qr,li,Ek,Ik,Pk);function f2(){var $,D;const[t]=iv(),{user:e}=vt(),n=t.get("session"),[s,i]=_.useState(null),[r,o]=_.useState(!0),[a,l]=_.useState("overview"),[u,d]=_.useState("all"),[h,f]=_.useState("all"),[p,v]=_.useState([]),[m,b]=_.useState(!1),[g,x]=_.useState(!1),[y,w]=_.useState(!1);_.useEffect(()=>{n?N(n):o(!1)},[n]),_.useEffect(()=>{s!=null&&s.responses&&(S(),e&&s.responses.find(L=>L.user.email===e.email)&&!g&&k())},[s,e]);const k=async()=>{if(!(!e||!n))try{const C=await fetch(`http://localhost:3001/api/feedback/check/${e.email}/${n}`);C.ok&&((await C.json()).hasFeedback?x(!0):setTimeout(()=>{b(!0)},2e3))}catch(C){console.error("Failed to check feedback status:",C)}},j=async(C,L)=>{if(!(!e||!s)){w(!0);try{(await fetch("http://localhost:3001/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userEmail:e.email,sessionId:s.id,rating:C,comments:L})})).ok?(x(!0),b(!1)):alert("Failed to submit feedback")}catch(z){console.error("Failed to submit feedback:",z),alert("Failed to submit feedback")}finally{w(!1)}}},N=async C=>{try{const L=await fetch(`http://localhost:3001/api/sessions/${C}`);if(L.ok){const z=await L.json();i(z)}}catch(L){console.error("Failed to fetch session results:",L)}finally{o(!1)}},S=()=>{if(!(s!=null&&s.responses))return;const L=[...new Set(s.responses.map(z=>z.user.department))].map(z=>{const K=s.responses.filter(U=>U.user.department===z),xe=K.map(U=>U.score),Se=Math.round(xe.reduce((U,es)=>U+es,0)/xe.length),ct={distinction:xe.filter(U=>U>=70).length,merit:xe.filter(U=>U>=60&&U<70).length,pass:xe.filter(U=>U>=45&&U<60).length,warning:xe.filter(U=>U>=30&&U<45).length,fail:xe.filter(U=>U<30).length};return{department:z,participants:K.length,averageScore:Se,scores:xe,gradeDistribution:ct}});v(L)},E=C=>C>=70?"Distinction":C>=60?"Merit":C>=45?"Pass":C>=30?"Warning":"Fail",P=()=>{if(!(s!=null&&s.responses))return[];let C=s.responses;return u!=="all"&&(C=C.filter(L=>L.user.department===u)),h!=="all"&&(C=C.filter(L=>E(L.score)===h)),C.sort((L,z)=>z.score-L.score)};if(r)return c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-bdo-red"})});if(!n||!s)return c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Quiz Results"}),c.jsx("p",{className:"text-gray-600",children:"Please select a session to view results."})]});const R=(($=s.questions)==null?void 0:$.length)||0,M=((D=s.responses)==null?void 0:D.length)||0,I=M>0?Math.round(s.responses.reduce((C,L)=>C+L.score,0)/M):0,G=M>0?Math.round(s.responses.reduce((C,L)=>C+L.timeSpent,0)/M):0,F=()=>{const C=P();switch(a){case"department":return{labels:p.map(z=>z.department),datasets:[{label:"Average Score by Department",data:p.map(z=>z.averageScore),backgroundColor:"rgba(220, 38, 38, 0.6)",borderColor:"rgba(220, 38, 38, 1)",borderWidth:1}]};case"grade":const L=p.find(z=>z.department===u);return L?{labels:["Distinction","Merit","Pass","Warning","Fail"],datasets:[{label:"Grade Distribution",data:[L.gradeDistribution.distinction,L.gradeDistribution.merit,L.gradeDistribution.pass,L.gradeDistribution.warning,L.gradeDistribution.fail],backgroundColor:["rgba(34, 197, 94, 0.6)","rgba(59, 130, 246, 0.6)","rgba(245, 158, 11, 0.6)","rgba(251, 146, 60, 0.6)","rgba(239, 68, 68, 0.6)"],borderColor:["rgba(34, 197, 94, 1)","rgba(59, 130, 246, 1)","rgba(245, 158, 11, 1)","rgba(251, 146, 60, 1)","rgba(239, 68, 68, 1)"],borderWidth:1}]}:{labels:[],datasets:[]};default:return{labels:C.map((z,K)=>`Rank ${K+1}`),datasets:[{label:"Individual Scores",data:C.map(z=>z.score),backgroundColor:"rgba(220, 38, 38, 0.6)",borderColor:"rgba(220, 38, 38, 1)",borderWidth:1}]}}},H={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:a==="department"?"Performance by Department":a==="grade"?"Grade Distribution":"Individual Performance"}},scales:a!=="grade"?{y:{beginAtZero:!0,max:100,title:{display:!0,text:"Score (%)"}}}:void 0};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-bdo-navy",children:"Quiz Results"}),c.jsx("h2",{className:"text-xl text-gray-600",children:s.name}),c.jsxs("p",{className:"text-gray-500",children:[new Date(s.date).toLocaleDateString(),"  ",R," questions"]})]})}),c.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Mm,{className:"h-8 w-8 text-bdo-blue mr-3"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-bdo-navy",children:M}),c.jsx("p",{className:"text-gray-600",children:"Total Participants"})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(kv,{className:"h-8 w-8 text-bdo-red mr-3"}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-2xl font-bold text-bdo-navy",children:[I,"%"]}),c.jsx("p",{className:"text-gray-600",children:"Average Score"})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ls,{className:"h-8 w-8 text-green-600 mr-3"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-bdo-navy",children:R}),c.jsx("p",{className:"text-gray-600",children:"Total Questions"})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx($i,{className:"h-8 w-8 text-purple-600 mr-3"}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-2xl font-bold text-bdo-navy",children:[Math.floor(G/60),":",(G%60).toString().padStart(2,"0")]}),c.jsx("p",{className:"text-gray-600",children:"Avg. Time"})]})]})})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:c.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[c.jsxs("div",{children:[c.jsx("label",{className:"font-medium text-gray-700 mr-2",children:"View:"}),c.jsxs("select",{value:a,onChange:C=>l(C.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[c.jsx("option",{value:"overview",children:"Overview"}),c.jsx("option",{value:"department",children:"By Department"}),c.jsx("option",{value:"grade",children:"Grade Distribution"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"font-medium text-gray-700 mr-2",children:"Department:"}),c.jsxs("select",{value:u,onChange:C=>d(C.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[c.jsx("option",{value:"all",children:"All Departments"}),p.map(C=>c.jsx("option",{value:C.department,children:C.department},C.department))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"font-medium text-gray-700 mr-2",children:"Grade:"}),c.jsxs("select",{value:h,onChange:C=>f(C.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[c.jsx("option",{value:"all",children:"All Grades"}),c.jsx("option",{value:"Distinction",children:"Distinction (70-100)"}),c.jsx("option",{value:"Merit",children:"Merit (60-69)"}),c.jsx("option",{value:"Pass",children:"Pass (45-59)"}),c.jsx("option",{value:"Warning",children:"Warning (30-44)"}),c.jsx("option",{value:"Fail",children:"Fail (0-29)"})]})]})]})}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("div",{className:"mb-4",children:c.jsx("h3",{className:"text-xl font-semibold text-bdo-navy",children:"Performance Analytics"})}),c.jsx("div",{className:"h-80",children:a==="grade"?c.jsx(h2,{data:F(),options:H}):c.jsx(d2,{data:F(),options:H})})]}),a==="department"&&p.length>0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsx("h3",{className:"text-xl font-semibold text-bdo-navy",children:"Department Performance Summary"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Participants"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Score"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade Distribution"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(C=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.department})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:C.participants})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[C.averageScore,"%"]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsxs("span",{className:"mr-2",children:["D:",C.gradeDistribution.distinction]}),c.jsxs("span",{className:"mr-2",children:["M:",C.gradeDistribution.merit]}),c.jsxs("span",{className:"mr-2",children:["P:",C.gradeDistribution.pass]}),c.jsxs("span",{className:"mr-2",children:["W:",C.gradeDistribution.warning]}),c.jsxs("span",{children:["F:",C.gradeDistribution.fail]})]})})]},C.department))})]})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsxs("h3",{className:"text-xl font-semibold text-bdo-navy",children:["Individual Results",(u!=="all"||h!=="all")&&` - Filtered (${P().length} results)`]})}),c.jsx("div",{className:"p-6",children:P().length===0?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-500",children:"No results match the selected filters."})}):c.jsx("div",{className:"space-y-4",children:P().map((C,L)=>c.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold ${L===0?"bg-yellow-500":L===1?"bg-gray-400":L===2?"bg-amber-600":"bg-bdo-blue"}`,children:L+1}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-bdo-navy",children:C.user.email}),c.jsxs("p",{className:"text-sm text-gray-600",children:[C.user.department," Department"]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-2xl font-bold text-bdo-navy",children:[C.score,"%"]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Grade: ",c.jsx("span",{className:`font-medium ${E(C.score)==="Distinction"?"text-green-600":E(C.score)==="Merit"?"text-blue-600":E(C.score)==="Pass"?"text-yellow-600":E(C.score)==="Warning"?"text-orange-600":"text-red-600"}`,children:E(C.score)})]}),c.jsx("p",{className:"text-xs text-gray-500",children:new Date(C.completedAt).toLocaleDateString()})]})]},C.id))})})]}),c.jsx(Dv,{isOpen:m,onClose:()=>b(!1),onSubmit:j,quizName:(s==null?void 0:s.name)||"",loading:y})]})}function p2(){const{sessionId:t}=My(),{user:e}=vt(),n=yt(),[s,i]=_.useState(null),[r,o]=_.useState(!0),[a,l]=_.useState(""),[u,d]=_.useState({currentQuestionIndex:0,answers:{},startTime:Date.now(),submitted:!1});_.useEffect(()=>{t&&h()},[t]);const h=async()=>{try{const y=await fetch(`http://localhost:3001/api/sessions/${t}`);if(y.ok){const w=await y.json();i(w)}else l("Quiz session not found")}catch(y){l("Failed to load quiz session"),console.error("Error fetching session:",y)}finally{o(!1)}},f=(y,w)=>{d(k=>({...k,answers:{...k.answers,[y]:w}}))},p=()=>{s&&u.currentQuestionIndex<s.questions.length-1&&d(y=>({...y,currentQuestionIndex:y.currentQuestionIndex+1}))},v=()=>{u.currentQuestionIndex>0&&d(y=>({...y,currentQuestionIndex:y.currentQuestionIndex-1}))},m=()=>{if(!s)return 0;let y=0;return s.questions.forEach(w=>{u.answers[w.id]===w.correctAnswer&&y++}),Math.round(y/s.questions.length*100)},b=async()=>{const y=m(),w=Math.floor((Date.now()-u.startTime)/1e3);try{(await fetch("http://localhost:3001/api/responses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:t,userEmail:(e==null?void 0:e.email)||"anonymous",answers:u.answers,score:y,timeSpent:w,completedAt:new Date().toISOString()})})).ok?d(j=>({...j,submitted:!0,score:y,timeSpent:w})):l("Failed to submit quiz")}catch(k){l("Failed to submit quiz"),console.error("Error submitting quiz:",k)}};if(r)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading quiz..."})]});if(a)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-red-600 mb-4",children:a}),c.jsx(B,{onClick:()=>n("/dashboard"),children:"Back to Dashboard"})]});if(!s)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-red-600 mb-4",children:"Quiz session not found"}),c.jsx(B,{onClick:()=>n("/dashboard"),children:"Back to Dashboard"})]});if(u.submitted)return c.jsx("div",{className:"max-w-2xl mx-auto text-center py-12",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 border border-gray-200",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Quiz Submitted!"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Your answers have been successfully submitted."})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Results"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[u.score,"%"]}),c.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[Math.floor((u.timeSpent||0)/60),":",((u.timeSpent||0)%60).toString().padStart(2,"0")]}),c.jsx("div",{className:"text-sm text-gray-600",children:"Time Spent"})]})]})]}),c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsx(B,{onClick:()=>n("/dashboard"),children:"Back to Dashboard"}),c.jsx(B,{variant:"outline",onClick:()=>n("/history"),children:"View History"})]})]})});const g=s.questions[u.currentQuestionIndex],x=(u.currentQuestionIndex+1)/s.questions.length*100;return c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6 border border-gray-200",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s.name}),c.jsxs("span",{className:"text-sm text-gray-600",children:["Question ",u.currentQuestionIndex+1," of ",s.questions.length]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x}%`}})})]}),c.jsxs("div",{className:"bg-gray-100 rounded-lg p-8 mb-6 border border-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:g.text}),c.jsx("div",{className:"space-y-3",children:g.options.map((y,w)=>c.jsxs("label",{className:`flex items-center p-4 rounded-lg border-2 cursor-pointer transition-all ${u.answers[g.id]===w?"border-red-500 bg-white shadow-md":"border-gray-300 bg-white hover:border-gray-400"}`,children:[c.jsx("input",{type:"radio",name:`question-${g.id}`,value:w,checked:u.answers[g.id]===w,onChange:()=>f(g.id,w),className:"mr-3"}),c.jsx("span",{className:"text-gray-900",children:y})]},w))})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx(B,{variant:"outline",onClick:v,disabled:u.currentQuestionIndex===0,children:"Previous"}),c.jsxs("div",{className:"text-sm text-gray-600",children:[Object.keys(u.answers).length," of ",s.questions.length," answered"]}),u.currentQuestionIndex===s.questions.length-1?c.jsx(B,{onClick:b,disabled:Object.keys(u.answers).length!==s.questions.length,className:"bg-green-600 hover:bg-green-700",children:"Submit Quiz"}):c.jsx(B,{onClick:p,disabled:!u.answers[g.id]&&u.answers[g.id]!==0,children:"Next"})]})]})}function m2(){const[t,e]=_.useState([]),[n,s]=_.useState(null),[i,r]=_.useState([]),[o,a]=_.useState(!0),{user:l}=vt();_.useEffect(()=>{l&&(u(),v())},[l]);const u=async()=>{if(l)try{const m=await fetch(`http://localhost:3001/api/user/${l.email}/submissions`),b=await fetch("http://localhost:3001/api/sessions");if(m.ok&&b.ok){const g=await m.json(),x=await b.json(),y=g.map(w=>{const k=x.find(j=>j.id===w.sessionId);return{id:w.id,sessionId:w.sessionId,sessionName:k?k.name:"Unknown Session",score:w.score,timeSpent:w.timeSpent,completedAt:w.completedAt,totalQuestions:k?k.questions.length:0}});e(y),d(y)}else console.error("Failed to fetch user history"),e([])}catch(m){console.error("Failed to fetch history:",m),e([])}finally{a(!1)}},d=m=>{if(m.length===0)return;const g=m.reduce((M,I)=>M+I.score,0)/m.length,x=m.reduce((M,I)=>M+I.timeSpent,0)/m.length,y=Math.max(...m.map(M=>M.score)),w=Math.floor(m.length/2),k=m.slice(0,w),j=m.slice(w),N=k.length>0?k.reduce((M,I)=>M+I.score,0)/k.length:0,E=(j.length>0?j.reduce((M,I)=>M+I.score,0)/j.length:0)-N,P=m.reduce((M,I)=>M+Math.pow(I.score-g,2),0)/m.length,R=Math.max(0,100-Math.sqrt(P));s({totalQuizzes:m.length,averageScore:Math.round(g),averageTime:Math.round(x),bestScore:y,improvement:Math.round(E),consistency:Math.round(R)})},h=m=>m>=80?"text-green-600":m>=60?"text-yellow-600":"text-red-600",f=m=>m>=80?"Excellent":m>=70?"Good":m>=60?"Average":"Needs Improvement",p=m=>m<60,v=async()=>{if(l)try{const m=await fetch(`http://localhost:3001/api/user/${l.email}/warnings`);if(m.ok){const b=await m.json();r(b.warnings)}}catch(m){console.error("Failed to fetch warnings:",m)}};return o?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your quiz history..."})]}):c.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Quiz History"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Track your performance and improvement over time"})]})}),i.length>0&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(Bn,{className:"h-6 w-6 text-red-600 mt-0.5 mr-3"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Performance Warning"}),c.jsx("p",{className:"text-red-800 mb-4",children:"Your performance has been flagged by an administrator. Please review your quiz results and focus on improvement."}),c.jsx("div",{className:"space-y-2",children:i.map(m=>c.jsxs("div",{className:"bg-red-100 rounded p-3",children:[c.jsx("p",{className:"text-sm text-red-800",children:m.reason}),c.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Issued on ",new Date(m.timestamp).toLocaleDateString()," by ",m.adminEmail]})]},m.id))})]})]})}),t.length===0?c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-12 text-center border-2 border-dashed border-gray-300 dark:border-gray-600",children:[c.jsx("div",{className:"text-gray-500 dark:text-gray-400 mb-4",children:c.jsx(Ls,{className:"mx-auto h-16 w-16"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Quiz History"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"You haven't taken any quizzes yet. Complete your first quiz to start tracking your performance!"}),c.jsxs("div",{className:"grid grid-cols-3 gap-6 mt-8",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[c.jsx(Da,{className:"h-8 w-8 text-blue-600 dark:text-blue-400 mx-auto mb-3"}),c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Performance Tracking"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monitor your scores and identify areas for improvement"})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[c.jsx(wv,{className:"h-8 w-8 text-green-600 dark:text-green-400 mx-auto mb-3"}),c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Progress Analytics"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Track your improvement over time with detailed statistics"})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[c.jsx(Fd,{className:"h-8 w-8 text-purple-600 dark:text-purple-400 mx-auto mb-3"}),c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Achievement Badges"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Earn recognition for your quiz performance milestones"})]})]})]}):c.jsxs(c.Fragment,{children:[n&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Quizzes"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.totalQuizzes})]}),c.jsx(Ls,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})]})}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Average Score"}),c.jsxs("p",{className:`text-2xl font-bold ${h(n.averageScore)}`,children:[n.averageScore,"%"]})]}),c.jsx(Da,{className:"h-8 w-8 text-green-600 dark:text-green-400"})]}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:f(n.averageScore)})]}),c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Best Score"}),c.jsxs("p",{className:`text-2xl font-bold ${h(n.bestScore)}`,children:[n.bestScore,"%"]})]}),c.jsx(Fd,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})]})}),c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg. Time"}),c.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[Math.floor(n.averageTime/60),":",(n.averageTime%60).toString().padStart(2,"0")]})]}),c.jsx($i,{className:"h-8 w-8 text-orange-600 dark:text-orange-400"})]})})]}),n&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Performance Insights"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Improvement Trend"}),c.jsxs("span",{className:`text-sm font-medium ${n.improvement>=0?"text-green-600":"text-red-600"}`,children:[n.improvement>=0?"+":"",n.improvement,"%"]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Consistency Score"}),c.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[n.consistency,"%"]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Performance Level"}),c.jsx("span",{className:`text-sm font-medium ${h(n.averageScore)}`,children:f(n.averageScore)})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Next Goals"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(Da,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Score Target"}),c.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Aim for ",Math.max(80,n.averageScore+5),"% on your next quiz"]})]})]}),c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx($i,{className:"h-5 w-5 text-green-600 dark:text-green-400 mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Time Efficiency"}),c.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Try to complete quizzes in under ",Math.floor(n.averageTime/60)+1," minutes"]})]})]})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Quizzes"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Quiz Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Score"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Time"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.map((m,b)=>c.jsxs("tr",{className:b%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700",children:[c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:m.sessionName}),c.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[m.totalQuestions," questions"]})]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[c.jsxs("div",{className:`text-sm font-semibold ${h(m.score)}`,children:[m.score,"%"]}),p(m.score)&&c.jsxs("div",{className:"flex items-center text-xs text-red-600 dark:text-red-400 mt-1",children:[c.jsx(Bn,{className:"h-3 w-3 mr-1"}),"Below threshold"]})]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[Math.floor(m.timeSpent/60),":",(m.timeSpent%60).toString().padStart(2,"0")]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(m.completedAt).toLocaleDateString()}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m.score>=80?"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-200":m.score>=60?"bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-200"}`,children:f(m.score)})})]},m.id))})]})})]})]})]})}function g2(){const[t,e]=_.useState([]),[n,s]=_.useState(!0),[i,r]=_.useState(null),[o,a]=_.useState("all"),[l,u]=_.useState("all"),{accessToken:d}=vt();_.useEffect(()=>{h()},[d]);const h=async()=>{try{const y=await fetch("http://localhost:3001/api/users",{headers:{Authorization:`Bearer ${d}`}}),w=await fetch("http://localhost:3001/api/sessions",{headers:{Authorization:`Bearer ${d}`}});if(y.ok&&w.ok){const k=await y.json(),j=await w.json(),N=await Promise.all(k.map(async S=>{const E=await fetch(`http://localhost:3001/api/user/${S.email}/submissions`,{headers:{Authorization:`Bearer ${d}`}});if(E.ok){const P=await E.json(),R=new Map;P.forEach(D=>{const C=R.get(D.sessionId)||0;D.score>C&&R.set(D.sessionId,D.score)});const M=Array.from(R.values()),I=M.reduce((D,C)=>D+C,0),G=M.length>0?Math.round(I/M.length):0;let F;G>=70?F="Distinction":G>=60?F="Merit":G>=45?F="Pass":G>=30?F="Warning":F="Fail";const H=P.length>=2?P[P.length-1].score>P[P.length-2].score?"improving":P[P.length-1].score<P[P.length-2].score?"declining":"stable":"stable",$=P.map(D=>{const C=j.find(L=>L.id===D.sessionId);return{...D,sessionName:C?C.name:"Unknown Session"}});return{email:S.email,department:S.department,quizzesTaken:P.length,averageScore:G,totalScore:I,grade:F,trend:H,lastQuizDate:P.length>0?P[P.length-1].completedAt:"",submissions:$}}return null}));e(N.filter(Boolean))}}catch(y){console.error("Failed to fetch participants:",y)}finally{s(!1)}},f=y=>{switch(y){case"Distinction":return"bg-green-100 text-green-800";case"Merit":return"bg-blue-100 text-blue-800";case"Pass":return"bg-yellow-100 text-yellow-800";case"Warning":return"bg-orange-100 text-orange-800";case"Fail":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=y=>{switch(y){case"improving":return"";case"declining":return"";default:return""}};let v=t;o!=="all"&&(v=v.filter(y=>y.grade===o)),l!=="all"&&(v=v.filter(y=>y.department===l));const m=[...new Set(t.map(y=>y.department))].sort(),b=async y=>{try{(await fetch(`http://localhost:3001/api/user/${y}/warn`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({reason:"Performance flagged - improvement needed",adminEmail:"admin@bdo.co.zw"})})).ok?alert(`Warning sent to ${y}`):alert("Failed to send warning")}catch(w){console.error("Error sending warning:",w),alert("Error sending warning")}},g=async y=>{if(confirm(`Are you sure you want to elevate ${y} to administrator status? This cannot be undone.`))try{const w=await fetch(`http://localhost:3001/api/user/${y}/elevate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({adminEmail:"admin@bdo.co.zw"})});if(w.ok)alert(`${y} has been elevated to administrator status`),h();else{const k=await w.json();alert(`Failed to elevate user: ${k.error||"Unknown error"}`)}}catch(w){console.error("Error elevating user:",w),alert("Error elevating user")}},x=()=>{const w=[["Email","Department","Quizzes Taken","Average Score","Grade","Trend","Last Quiz Date"],...v.map(S=>[S.email,S.department,S.quizzesTaken,S.averageScore,S.grade,S.trend,S.lastQuizDate?new Date(S.lastQuizDate).toLocaleDateString():""])].map(S=>S.join(",")).join(`
`),k=new Blob([w],{type:"text/csv"}),j=window.URL.createObjectURL(k),N=document.createElement("a");N.href=j,N.download="participants_performance.csv",N.click(),window.URL.revokeObjectURL(j)};return n?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading participants data..."})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h1",{className:"text-3xl font-bold text-bdo-navy",children:"Participants Performance"}),c.jsx(B,{onClick:x,className:"bg-green-600 hover:bg-green-700",children:"Export to Excel"})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:c.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"font-medium text-gray-700",children:"Filter by Grade:"}),c.jsxs("select",{value:o,onChange:y=>a(y.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[c.jsx("option",{value:"all",children:"All Grades"}),c.jsx("option",{value:"Distinction",children:"Distinction (70-100)"}),c.jsx("option",{value:"Merit",children:"Merit (60-69)"}),c.jsx("option",{value:"Pass",children:"Pass (45-59)"}),c.jsx("option",{value:"Warning",children:"Warning (30-44)"}),c.jsx("option",{value:"Fail",children:"Fail (0-29)"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"font-medium text-gray-700",children:"Filter by Department:"}),c.jsxs("select",{value:l,onChange:y=>u(y.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[c.jsx("option",{value:"all",children:"All Departments"}),m.map(y=>c.jsx("option",{value:y,children:y},y))]})]})]})}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsx("h2",{className:"text-xl font-semibold text-bdo-navy",children:"Performance Overview"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quizzes"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Score"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trend"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(y=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.email})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-500",children:y.department})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:y.quizzesTaken})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"text-sm text-gray-900",children:[y.averageScore,"%"]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f(y.grade)}`,children:y.grade})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:p(y.trend)})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:c.jsx("div",{className:"flex gap-2",children:c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsxs(B,{size:"sm",variant:"outline",onClick:()=>r(y),className:"border-red-300 text-red-600 hover:bg-red-100",children:[c.jsx(As,{className:"h-3 w-3 mr-1"}),"View"]}),c.jsxs("div",{className:"flex gap-1",children:[!y.email.includes("admin")&&c.jsxs(B,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",onClick:()=>g(y.email),children:[c.jsx(Pm,{className:"h-3 w-3 mr-1"}),"Elevate"]}),(y.grade==="Warning"||y.grade==="Fail")&&c.jsx(B,{size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",onClick:()=>b(y.email),children:c.jsx(Bn,{className:"h-3 w-3"})})]})]})})})]},y.email))})]})})]}),i&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:c.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:i.email}),c.jsx(B,{variant:"outline",size:"sm",onClick:()=>r(null),children:"Close"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Department"}),c.jsx("p",{className:"font-medium",children:i.department})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Quizzes Taken"}),c.jsx("p",{className:"font-medium",children:i.quizzesTaken})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"}),c.jsxs("p",{className:"font-medium",children:[i.averageScore,"%"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Grade"}),c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f(i.grade)}`,children:i.grade})]})]}),c.jsx("h4",{className:"font-semibold mb-3",children:"Quiz History"}),c.jsx("div",{className:"space-y-2",children:i.submissions.map((y,w)=>c.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:y.sessionName}),c.jsx("p",{className:"text-sm text-gray-600",children:new Date(y.completedAt).toLocaleDateString()})]}),c.jsx("div",{className:"text-right",children:c.jsxs("p",{className:"font-medium",children:[y.score,"%"]})})]},w))})]})})})]})}function x2(){const[t,e]=_.useState({email:"",password:"",confirmPassword:"",department:"Tax"}),[n,s]=_.useState(!1),[i,r]=_.useState(!1),[o,a]=_.useState(!1),[l,u]=_.useState(""),[d,h]=_.useState(""),f=yt(),p=["Tax","Audit","IT","Consulting","Assurance"],v=[{test:w=>w.length>=8,label:"At least 8 characters"},{test:w=>/[A-Z]/.test(w),label:"One uppercase letter"},{test:w=>/[a-z]/.test(w),label:"One lowercase letter"},{test:w=>/\d/.test(w),label:"One number"},{test:w=>/[!@#$%^&*(),.?":{}|<>]/.test(w),label:"One special character"}],m=w=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w)?w.split("@")[1]==="bdo.co.zw":!1,b=w=>v.every(k=>k.test(w)),g=(w,k)=>{e(j=>({...j,[w]:k})),l&&u("")},x=async w=>{if(w.preventDefault(),a(!0),u(""),h(""),!m(t.email)){u("Please use a valid @bdo.co.zw email address"),a(!1);return}if(!b(t.password)){u("Password does not meet requirements"),a(!1);return}if(t.password!==t.confirmPassword){u("Passwords do not match"),a(!1);return}try{const k=await fetch("http://localhost:3001/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,password:t.password,department:t.department})}),j=await k.json();k.ok?(h("Account created successfully! Redirecting to login..."),setTimeout(()=>{f("/login")},2e3)):u(j.error||"Registration failed")}catch{u("Network error. Please try again.")}finally{a(!1)}},y=()=>{const w=v.filter(k=>k.test(t.password)).length;return w===0?{label:"Very Weak",color:"bg-red-500"}:w<=2?{label:"Weak",color:"bg-orange-500"}:w<=4?{label:"Good",color:"bg-yellow-500"}:{label:"Strong",color:"bg-green-500"}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("img",{src:"/bdo_logo.png",alt:"BDO Logo",className:"mx-auto h-16 w-auto object-contain"}),c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Join the BDO Quiz System"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm",placeholder:"your.name@bdo.co.zw",value:t.email,onChange:w=>g("email",w.target.value)}),t.email&&c.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:m(t.email)?c.jsx(_s,{className:"h-5 w-5 text-green-500"}):c.jsx(Ta,{className:"h-5 w-5 text-red-500"})})]}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be a valid @bdo.co.zw email address"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700",children:"Department"}),c.jsx("select",{id:"department",name:"department",className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm",value:t.department,onChange:w=>g("department",w.target.value),children:p.map(w=>c.jsx("option",{value:w,children:w},w))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm",placeholder:"Enter your password",value:t.password,onChange:w=>g("password",w.target.value)}),c.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!n),children:n?c.jsx(Bd,{className:"h-5 w-5 text-gray-400"}):c.jsx(As,{className:"h-5 w-5 text-gray-400"})})]}),t.password&&c.jsxs("div",{className:"mt-2",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-xs text-gray-600",children:"Password Strength:"}),c.jsx("span",{className:`text-xs font-medium ${y().color.replace("bg-","text-")}`,children:y().label})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${y().color}`,style:{width:`${v.filter(w=>w.test(t.password)).length/v.length*100}%`}})})]}),c.jsx("div",{className:"mt-2 space-y-1",children:v.map((w,k)=>c.jsxs("div",{className:"flex items-center text-xs",children:[w.test(t.password)?c.jsx(_s,{className:"h-3 w-3 text-green-500 mr-2"}):c.jsx(Ta,{className:"h-3 w-3 text-gray-400 mr-2"}),c.jsx("span",{className:w.test(t.password)?"text-green-600":"text-gray-500",children:w.label})]},k))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:i?"text":"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm",placeholder:"Confirm your password",value:t.confirmPassword,onChange:w=>g("confirmPassword",w.target.value)}),c.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!i),children:i?c.jsx(Bd,{className:"h-5 w-5 text-gray-400"}):c.jsx(As,{className:"h-5 w-5 text-gray-400"})})]}),t.confirmPassword&&c.jsx("div",{className:"mt-1 flex items-center text-xs",children:t.password===t.confirmPassword?c.jsxs(c.Fragment,{children:[c.jsx(_s,{className:"h-3 w-3 text-green-500 mr-2"}),c.jsx("span",{className:"text-green-600",children:"Passwords match"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ta,{className:"h-3 w-3 text-red-500 mr-2"}),c.jsx("span",{className:"text-red-600",children:"Passwords do not match"})]})})]})]}),l&&c.jsx("div",{className:"text-red-600 text-sm text-center bg-red-50 p-3 rounded",children:l}),d&&c.jsx("div",{className:"text-green-600 text-sm text-center bg-green-50 p-3 rounded",children:d}),c.jsx("div",{children:c.jsx(B,{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:o?"Creating Account...":"Create Account"})}),c.jsx("div",{className:"text-center",children:c.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",c.jsx(zn,{to:"/login",className:"font-medium text-red-600 hover:text-red-500",children:"Sign in here"})]})})]})]})})}function y2(){const[t,e]=_.useState(""),[n,s]=_.useState(""),[i,r]=_.useState(""),[o,a]=_.useState(!1),[l,u]=_.useState(null),[d,h]=_.useState(!1),[f,p]=_.useState(""),[v,m]=_.useState(""),b=yt(),g=[{test:S=>S.length>=8,label:"At least 8 characters"},{test:S=>/[A-Z]/.test(S),label:"One uppercase letter"},{test:S=>/[a-z]/.test(S),label:"One lowercase letter"},{test:S=>/\d/.test(S),label:"One number"},{test:S=>/[!@#$%^&*(),.?":{}|<>]/.test(S),label:"One special character"}],x=S=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(S)?S.split("@")[1]==="bdo.co.zw":!1,y=S=>g.every(E=>E.test(S)),w=async()=>{if(!x(t)){m("Please enter a valid @bdo.co.zw email address");return}a(!0),m("");try{const S=await fetch(`http://localhost:3001/api/password-reset/check/${t}`),E=await S.json();S.ok?(u(E),E.canReset?h(!0):h(!1)):m(E.error||"Failed to check reset eligibility")}catch{m("Network error. Please try again.")}finally{a(!1)}},k=async S=>{if(S.preventDefault(),!y(n)){m("Password does not meet requirements");return}if(n!==i){m("Passwords do not match");return}a(!0),m(""),p("");try{const E=await fetch("http://localhost:3001/api/password-reset/reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,newPassword:n})}),P=await E.json();E.ok?(p("Password reset successfully! Redirecting to login..."),setTimeout(()=>{b("/login")},2e3)):m(P.error||"Password reset failed")}catch{m("Network error. Please try again.")}finally{a(!1)}},j=async()=>{a(!0),m(""),p("");try{(await fetch("http://localhost:3001/api/password-reset/contact-admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userEmail:t,reason:"Monthly password reset limit exceeded"})})).ok?p("Request sent to admin. You will be contacted soon."):m("Failed to send request to admin")}catch{m("Network error. Please try again.")}finally{a(!1)}},N=()=>{const S=g.filter(E=>E.test(n)).length;return S===0?{label:"Very Weak",color:"bg-red-500"}:S<=2?{label:"Weak",color:"bg-orange-500"}:S<=4?{label:"Good",color:"bg-yellow-500"}:{label:"Strong",color:"bg-green-500"}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("img",{src:"/bdo_logo.png",alt:"BDO Logo",className:"mx-auto h-16 w-auto object-contain"}),c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset Password"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Reset your BDO Quiz System password"})]}),!l&&!d&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),c.jsx("input",{id:"email",type:"email",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm",placeholder:"your.email@bdo.co.zw",value:t,onChange:S=>e(S.target.value)}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be a valid @bdo.co.zw email address"})]}),c.jsx(B,{onClick:w,disabled:o||!t,className:"w-full",children:o?"Checking...":"Check Reset Eligibility"})]}),l&&!l.canReset&&!d&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(Bn,{className:"h-6 w-6 text-red-600 mt-0.5 mr-3"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Monthly Reset Limit Exceeded"}),c.jsxs("p",{className:"text-red-800 mb-4",children:["You have used all 3 password resets for this month. You can reset your password again after ",new Date(l.nextResetDate).toLocaleDateString(),"."]}),c.jsx("div",{className:"bg-red-100 rounded p-3 mb-4",children:c.jsxs("div",{className:"flex items-center text-sm text-red-800",children:[c.jsx($i,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:["Next reset available: ",new Date(l.nextResetDate).toLocaleDateString()]})]})}),c.jsxs(B,{onClick:j,disabled:o,className:"w-full bg-red-600 hover:bg-red-700",children:[c.jsx(Mm,{className:"h-4 w-4 mr-2"}),o?"Sending...":"Contact Admin for Help"]})]})]})}),d&&c.jsxs("form",{onSubmit:k,className:"space-y-4",children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center text-sm text-blue-800",children:[c.jsx(_s,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:["You can reset your password. ",l.remainingResets," resets remaining this month."]})]})}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password"}),c.jsx("input",{id:"newPassword",type:"password",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm",placeholder:"Enter new password",value:n,onChange:S=>s(S.target.value)}),n&&c.jsxs("div",{className:"mt-2",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-xs text-gray-600",children:"Password Strength:"}),c.jsx("span",{className:`text-xs font-medium ${N().color.replace("bg-","text-")}`,children:N().label})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${N().color}`,style:{width:`${g.filter(S=>S.test(n)).length/g.length*100}%`}})})]}),c.jsx("div",{className:"mt-2 space-y-1",children:g.map((S,E)=>c.jsxs("div",{className:"flex items-center text-xs",children:[S.test(n)?c.jsx(_s,{className:"h-3 w-3 text-green-500 mr-2"}):c.jsx(Bn,{className:"h-3 w-3 text-gray-400 mr-2"}),c.jsx("span",{className:S.test(n)?"text-green-600":"text-gray-500",children:S.label})]},E))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),c.jsx("input",{id:"confirmPassword",type:"password",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm",placeholder:"Confirm new password",value:i,onChange:S=>r(S.target.value)}),i&&c.jsx("div",{className:"mt-1 flex items-center text-xs",children:n===i?c.jsxs(c.Fragment,{children:[c.jsx(_s,{className:"h-3 w-3 text-green-500 mr-2"}),c.jsx("span",{className:"text-green-600",children:"Passwords match"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Bn,{className:"h-3 w-3 text-red-500 mr-2"}),c.jsx("span",{className:"text-red-600",children:"Passwords do not match"})]})})]}),c.jsx(B,{type:"submit",disabled:o||!y(n)||n!==i,className:"w-full",children:o?"Resetting...":"Reset Password"})]}),v&&c.jsx("div",{className:"text-red-600 text-sm text-center bg-red-50 p-3 rounded",children:v}),f&&c.jsx("div",{className:"text-green-600 text-sm text-center bg-green-50 p-3 rounded",children:f}),c.jsx("div",{className:"text-center",children:c.jsx(zn,{to:"/login",className:"font-medium text-red-600 hover:text-red-500",children:"Back to Login"})})]})})}function v2(){const{user:t}=vt(),e=yt(),[n,s]=_.useState([]),[i,r]=_.useState(!0),[o,a]=_.useState(""),[l,u]=_.useState(!1),[d,h]=_.useState(!0),[f,p]=_.useState(""),[v,m]=_.useState(null),[b,g]=_.useState(""),[x,y]=_.useState(""),w="BDO_AUDIT_2024_SECURE";_.useEffect(()=>{if(!(t!=null&&t.isAdmin)){e("/dashboard");return}},[t,e]);const k=()=>{o===w?(u(!0),h(!1),p(""),j()):p("Invalid super password")},j=async()=>{try{r(!0);const M=await fetch("http://localhost:3001/api/audit/logs",{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(M.ok){const I=await M.json();s(I.logs)}else p("Failed to fetch audit logs")}catch(M){console.error("Failed to fetch audit logs:",M),p("Failed to fetch audit logs")}finally{r(!1)}},N=()=>{const I=S().map($=>`${new Date($.timestamp).toLocaleString()}
Admin: ${$.adminEmail}
Action: ${$.action}
Details: ${JSON.stringify($.details,null,2)}
IP: ${$.ipAddress||"N/A"}
User Agent: ${$.userAgent||"N/A"}
---
`).join(`
`),G=new Blob([I],{type:"text/plain"}),F=window.URL.createObjectURL(G),H=document.createElement("a");H.href=F,H.download=`audit_logs_${new Date().toISOString().split("T")[0]}.txt`,H.click(),window.URL.revokeObjectURL(F)},S=()=>n.filter(M=>{const I=!b||M.timestamp.startsWith(b),G=!x||M.action.toLowerCase().includes(x.toLowerCase());return I&&G}),E=M=>{switch(M.toLowerCase()){case"create_quiz":return"";case"warn_user":return"";case"elevate_user":return"";case"delete_quiz":return"";case"login":return"";case"logout":return"";default:return""}},P=M=>{switch(M.toLowerCase()){case"warn_user":case"delete_quiz":return"text-red-600";case"create_quiz":case"elevate_user":return"text-green-600";case"login":return"text-blue-600";case"logout":return"text-gray-600";default:return"text-purple-600"}};if(!(t!=null&&t.isAdmin))return null;if(d)return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx(is,{className:"h-16 w-16 text-red-600 mx-auto mb-4"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Super Administrator Access"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Enter the super password to access audit logs"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"superPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Super Password"}),c.jsx("input",{id:"superPassword",type:"password",value:o,onChange:M=>a(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter super password",onKeyPress:M=>M.key==="Enter"&&k()})]}),f&&c.jsx("div",{className:"text-red-600 text-sm text-center bg-red-50 p-3 rounded",children:f}),c.jsxs(B,{onClick:k,disabled:!o,className:"w-full",children:[c.jsx(is,{className:"h-4 w-4 mr-2"}),"Access Audit Logs"]})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("button",{onClick:()=>e("/admin"),className:"text-sm text-gray-500 hover:text-gray-700",children:" Back to Dashboard"})})]})});const R=S();return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(is,{className:"h-8 w-8 text-red-600"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Audit Logs"}),c.jsx("p",{className:"text-gray-600",children:"Super administrator access - All admin actions logged"})]})]}),c.jsxs(B,{onClick:N,className:"bg-green-600 hover:bg-green-700",children:[c.jsx(uv,{className:"h-4 w-4 mr-2"}),"Export Logs"]})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:c.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Date"}),c.jsx("input",{type:"date",value:b,onChange:M=>g(M.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Action"}),c.jsx("input",{type:"text",value:x,onChange:M=>y(M.target.value),placeholder:"e.g., create_quiz, warn_user",className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500"})]}),c.jsx(B,{variant:"outline",onClick:()=>{g(""),y("")},children:"Clear Filters"})]})}),c.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(As,{className:"h-8 w-8 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length}),c.jsx("p",{className:"text-gray-600",children:"Total Actions"})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx($i,{className:"h-8 w-8 text-green-600 mr-3"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:R.length}),c.jsx("p",{className:"text-gray-600",children:"Filtered Results"})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Bn,{className:"h-8 w-8 text-red-600 mr-3"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(M=>["warn_user","delete_quiz"].includes(M.action)).length}),c.jsx("p",{className:"text-gray-600",children:"Critical Actions"})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(is,{className:"h-8 w-8 text-purple-600 mr-3"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:new Set(n.map(M=>M.adminEmail)).size}),c.jsx("p",{className:"text-gray-600",children:"Active Admins"})]})]})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Audit Log Entries ",R.length!==n.length&&`(${R.length} filtered)`]})}),i?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading audit logs..."})]}):c.jsxs("div",{className:"overflow-x-auto",children:[c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admin"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(M=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"text-lg mr-2",role:"img","aria-label":M.action,children:E(M.action)}),c.jsx("span",{className:`font-medium ${P(M.action)}`,children:M.action.replace("_"," ").toUpperCase()})]})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.adminEmail}),M.ipAddress&&c.jsxs("div",{className:"text-xs text-gray-500",children:["IP: ",M.ipAddress]})]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[c.jsx("div",{className:"text-sm text-gray-900",children:new Date(M.timestamp).toLocaleDateString()}),c.jsx("div",{className:"text-xs text-gray-500",children:new Date(M.timestamp).toLocaleTimeString()})]}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs(B,{size:"sm",variant:"outline",onClick:()=>m(M),className:"text-blue-600 hover:text-blue-800",children:[c.jsx(As,{className:"h-3 w-3 mr-1"}),"View Details"]})})]},M.id))})]}),R.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(is,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"No audit logs found matching your filters."})]})]})]}),v&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[c.jsx("span",{className:"text-2xl mr-3",role:"img","aria-label":v.action,children:E(v.action)}),v.action.replace("_"," ").toUpperCase()]}),c.jsx("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Admin Email"}),c.jsx("p",{className:"text-sm text-gray-900",children:v.adminEmail})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Timestamp"}),c.jsx("p",{className:"text-sm text-gray-900",children:new Date(v.timestamp).toLocaleString()})]}),v.ipAddress&&c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"IP Address"}),c.jsx("p",{className:"text-sm text-gray-900",children:v.ipAddress})]}),v.userAgent&&c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"User Agent"}),c.jsxs("p",{className:"text-sm text-gray-900 truncate",title:v.userAgent,children:[v.userAgent.substring(0,50),"..."]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500 block mb-2",children:"Action Details"}),c.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg text-sm overflow-x-auto",children:JSON.stringify(v.details,null,2)})]})]})]})})})]})}function b2(){return c.jsx(rv,{children:c.jsx(Qy,{children:c.jsxs(Fe,{path:"/",element:c.jsx(jv,{}),children:[c.jsx(Fe,{index:!0,element:c.jsx(Nv,{})}),c.jsx(Fe,{path:"login",element:c.jsx(Cv,{})}),c.jsx(Fe,{path:"register",element:c.jsx(x2,{})}),c.jsx(Fe,{path:"password-reset",element:c.jsx(y2,{})}),c.jsx(Fe,{path:"dashboard",element:c.jsx(Yt,{children:c.jsx(Mv,{})})}),c.jsx(Fe,{path:"history",element:c.jsx(Yt,{children:c.jsx(m2,{})})}),c.jsx(Fe,{path:"quiz/:sessionId",element:c.jsx(Yt,{children:c.jsx(p2,{})})}),c.jsx(Fe,{path:"admin",element:c.jsx(Yt,{requireAdmin:!0,children:c.jsx(Ev,{})})}),c.jsx(Fe,{path:"admin/create",element:c.jsx(Yt,{requireAdmin:!0,children:c.jsx(Tv,{})})}),c.jsx(Fe,{path:"admin/results",element:c.jsx(Yt,{requireAdmin:!0,children:c.jsx(f2,{})})}),c.jsx(Fe,{path:"admin/participants",element:c.jsx(Yt,{requireAdmin:!0,children:c.jsx(g2,{})})}),c.jsx(Fe,{path:"admin/audit-logs",element:c.jsx(Yt,{requireAdmin:!0,children:c.jsx(v2,{})})})]})})})}Ua.createRoot(document.getElementById("root")).render(c.jsx(oc.StrictMode,{children:c.jsx(ev,{children:c.jsx(b2,{})})}));
